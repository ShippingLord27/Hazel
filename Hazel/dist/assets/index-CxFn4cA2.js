(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function KT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var bm={exports:{}},Jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function _A(){if(kv)return Jl;kv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:h,ref:o!==void 0?o:null,props:c}}return Jl.Fragment=e,Jl.jsx=n,Jl.jsxs=n,Jl}var Vv;function vA(){return Vv||(Vv=1,bm.exports=_A()),bm.exports}var f=vA(),Sm={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function EA(){if(Lv)return De;Lv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,z={};function L(j,ne,oe){this.props=j,this.context=ne,this.refs=z,this.updater=oe||I}L.prototype.isReactComponent={},L.prototype.setState=function(j,ne){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ne,"setState")},L.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function J(){}J.prototype=L.prototype;function Q(j,ne,oe){this.props=j,this.context=ne,this.refs=z,this.updater=oe||I}var ie=Q.prototype=new J;ie.constructor=Q,x(ie,L.prototype),ie.isPureReactComponent=!0;var he=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},pe=Object.prototype.hasOwnProperty;function P(j,ne,oe,se,ve,Oe){return oe=Oe.ref,{$$typeof:i,type:j,key:ne,ref:oe!==void 0?oe:null,props:Oe}}function R(j,ne){return P(j.type,ne,void 0,void 0,void 0,j.props)}function C(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function O(j){var ne={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(oe){return ne[oe]})}var k=/\/+/g;function U(j,ne){return typeof j=="object"&&j!==null&&j.key!=null?O(""+j.key):ne.toString(36)}function D(){}function yt(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(D,D):(j.status="pending",j.then(function(ne){j.status==="pending"&&(j.status="fulfilled",j.value=ne)},function(ne){j.status==="pending"&&(j.status="rejected",j.reason=ne)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function ut(j,ne,oe,se,ve){var Oe=typeof j;(Oe==="undefined"||Oe==="boolean")&&(j=null);var Re=!1;if(j===null)Re=!0;else switch(Oe){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(j.$$typeof){case i:case e:Re=!0;break;case v:return Re=j._init,ut(Re(j._payload),ne,oe,se,ve)}}if(Re)return ve=ve(j),Re=se===""?"."+U(j,0):se,he(ve)?(oe="",Re!=null&&(oe=Re.replace(k,"$&/")+"/"),ut(ve,ne,oe,"",function(jn){return jn})):ve!=null&&(C(ve)&&(ve=R(ve,oe+(ve.key==null||j&&j.key===ve.key?"":(""+ve.key).replace(k,"$&/")+"/")+Re)),ne.push(ve)),1;Re=0;var It=se===""?".":se+":";if(he(j))for(var Je=0;Je<j.length;Je++)se=j[Je],Oe=It+U(se,Je),Re+=ut(se,ne,oe,Oe,ve);else if(Je=S(j),typeof Je=="function")for(j=Je.call(j),Je=0;!(se=j.next()).done;)se=se.value,Oe=It+U(se,Je++),Re+=ut(se,ne,oe,Oe,ve);else if(Oe==="object"){if(typeof j.then=="function")return ut(yt(j),ne,oe,se,ve);throw ne=String(j),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Re}function K(j,ne,oe){if(j==null)return j;var se=[],ve=0;return ut(j,se,"","",function(Oe){return ne.call(oe,Oe,ve++)}),se}function ae(j){if(j._status===-1){var ne=j._result;ne=ne(),ne.then(function(oe){(j._status===0||j._status===-1)&&(j._status=1,j._result=oe)},function(oe){(j._status===0||j._status===-1)&&(j._status=2,j._result=oe)}),j._status===-1&&(j._status=0,j._result=ne)}if(j._status===1)return j._result.default;throw j._result}var ye=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function ze(){}return De.Children={map:K,forEach:function(j,ne,oe){K(j,function(){ne.apply(this,arguments)},oe)},count:function(j){var ne=0;return K(j,function(){ne++}),ne},toArray:function(j){return K(j,function(ne){return ne})||[]},only:function(j){if(!C(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},De.Component=L,De.Fragment=n,De.Profiler=o,De.PureComponent=Q,De.StrictMode=r,De.Suspense=g,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,De.__COMPILER_RUNTIME={__proto__:null,c:function(j){return ue.H.useMemoCache(j)}},De.cache=function(j){return function(){return j.apply(null,arguments)}},De.cloneElement=function(j,ne,oe){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var se=x({},j.props),ve=j.key,Oe=void 0;if(ne!=null)for(Re in ne.ref!==void 0&&(Oe=void 0),ne.key!==void 0&&(ve=""+ne.key),ne)!pe.call(ne,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ne.ref===void 0||(se[Re]=ne[Re]);var Re=arguments.length-2;if(Re===1)se.children=oe;else if(1<Re){for(var It=Array(Re),Je=0;Je<Re;Je++)It[Je]=arguments[Je+2];se.children=It}return P(j.type,ve,void 0,void 0,Oe,se)},De.createContext=function(j){return j={$$typeof:h,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},De.createElement=function(j,ne,oe){var se,ve={},Oe=null;if(ne!=null)for(se in ne.key!==void 0&&(Oe=""+ne.key),ne)pe.call(ne,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ve[se]=ne[se]);var Re=arguments.length-2;if(Re===1)ve.children=oe;else if(1<Re){for(var It=Array(Re),Je=0;Je<Re;Je++)It[Je]=arguments[Je+2];ve.children=It}if(j&&j.defaultProps)for(se in Re=j.defaultProps,Re)ve[se]===void 0&&(ve[se]=Re[se]);return P(j,Oe,void 0,void 0,null,ve)},De.createRef=function(){return{current:null}},De.forwardRef=function(j){return{$$typeof:p,render:j}},De.isValidElement=C,De.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:ae}},De.memo=function(j,ne){return{$$typeof:y,type:j,compare:ne===void 0?null:ne}},De.startTransition=function(j){var ne=ue.T,oe={};ue.T=oe;try{var se=j(),ve=ue.S;ve!==null&&ve(oe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ze,ye)}catch(Oe){ye(Oe)}finally{ue.T=ne}},De.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},De.use=function(j){return ue.H.use(j)},De.useActionState=function(j,ne,oe){return ue.H.useActionState(j,ne,oe)},De.useCallback=function(j,ne){return ue.H.useCallback(j,ne)},De.useContext=function(j){return ue.H.useContext(j)},De.useDebugValue=function(){},De.useDeferredValue=function(j,ne){return ue.H.useDeferredValue(j,ne)},De.useEffect=function(j,ne,oe){var se=ue.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(j,ne)},De.useId=function(){return ue.H.useId()},De.useImperativeHandle=function(j,ne,oe){return ue.H.useImperativeHandle(j,ne,oe)},De.useInsertionEffect=function(j,ne){return ue.H.useInsertionEffect(j,ne)},De.useLayoutEffect=function(j,ne){return ue.H.useLayoutEffect(j,ne)},De.useMemo=function(j,ne){return ue.H.useMemo(j,ne)},De.useOptimistic=function(j,ne){return ue.H.useOptimistic(j,ne)},De.useReducer=function(j,ne,oe){return ue.H.useReducer(j,ne,oe)},De.useRef=function(j){return ue.H.useRef(j)},De.useState=function(j){return ue.H.useState(j)},De.useSyncExternalStore=function(j,ne,oe){return ue.H.useSyncExternalStore(j,ne,oe)},De.useTransition=function(){return ue.H.useTransition()},De.version="19.1.1",De}var Uv;function bp(){return Uv||(Uv=1,Sm.exports=EA()),Sm.exports}var M=bp();const QT=KT(M);var Am={exports:{}},ec={},Rm={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function TA(){return Bv||(Bv=1,(function(i){function e(K,ae){var ye=K.length;K.push(ae);e:for(;0<ye;){var ze=ye-1>>>1,j=K[ze];if(0<o(j,ae))K[ze]=ae,K[ye]=j,ye=ze;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ae=K[0],ye=K.pop();if(ye!==ae){K[0]=ye;e:for(var ze=0,j=K.length,ne=j>>>1;ze<ne;){var oe=2*(ze+1)-1,se=K[oe],ve=oe+1,Oe=K[ve];if(0>o(se,ye))ve<j&&0>o(Oe,se)?(K[ze]=Oe,K[ve]=ye,ze=ve):(K[ze]=se,K[oe]=ye,ze=oe);else if(ve<j&&0>o(Oe,ye))K[ze]=Oe,K[ve]=ye,ze=ve;else break e}}return ae}function o(K,ae){var ye=K.sortIndex-ae.sortIndex;return ye!==0?ye:K.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var g=[],y=[],v=1,w=null,S=3,I=!1,x=!1,z=!1,L=!1,J=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function he(K){for(var ae=n(y);ae!==null;){if(ae.callback===null)r(y);else if(ae.startTime<=K)r(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(y)}}function ue(K){if(z=!1,he(K),!x)if(n(g)!==null)x=!0,pe||(pe=!0,U());else{var ae=n(y);ae!==null&&ut(ue,ae.startTime-K)}}var pe=!1,P=-1,R=5,C=-1;function O(){return L?!0:!(i.unstable_now()-C<R)}function k(){if(L=!1,pe){var K=i.unstable_now();C=K;var ae=!0;try{e:{x=!1,z&&(z=!1,Q(P),P=-1),I=!0;var ye=S;try{t:{for(he(K),w=n(g);w!==null&&!(w.expirationTime>K&&O());){var ze=w.callback;if(typeof ze=="function"){w.callback=null,S=w.priorityLevel;var j=ze(w.expirationTime<=K);if(K=i.unstable_now(),typeof j=="function"){w.callback=j,he(K),ae=!0;break t}w===n(g)&&r(g),he(K)}else r(g);w=n(g)}if(w!==null)ae=!0;else{var ne=n(y);ne!==null&&ut(ue,ne.startTime-K),ae=!1}}break e}finally{w=null,S=ye,I=!1}ae=void 0}}finally{ae?U():pe=!1}}}var U;if(typeof ie=="function")U=function(){ie(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,yt=D.port2;D.port1.onmessage=k,U=function(){yt.postMessage(null)}}else U=function(){J(k,0)};function ut(K,ae){P=J(function(){K(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(K){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var ye=S;S=ae;try{return K()}finally{S=ye}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ye=S;S=K;try{return ae()}finally{S=ye}},i.unstable_scheduleCallback=function(K,ae,ye){var ze=i.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?ze+ye:ze):ye=ze,K){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ye+j,K={id:v++,callback:ae,priorityLevel:K,startTime:ye,expirationTime:j,sortIndex:-1},ye>ze?(K.sortIndex=ye,e(y,K),n(g)===null&&K===n(y)&&(z?(Q(P),P=-1):z=!0,ut(ue,ye-ze))):(K.sortIndex=j,e(g,K),x||I||(x=!0,pe||(pe=!0,U()))),K},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(K){var ae=S;return function(){var ye=S;S=ae;try{return K.apply(this,arguments)}finally{S=ye}}}})(Cm)),Cm}var zv;function wA(){return zv||(zv=1,Rm.exports=TA()),Rm.exports}var Im={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function bA(){if(qv)return rn;qv=1;var i=bp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:y,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rn.createPortal=function(g,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,v)},rn.flushSync=function(g){var y=h.T,v=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=y,r.p=v,r.d.f()}},rn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},rn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},rn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var v=y.as,w=p(v,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,I=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:I}):v==="script"&&r.d.X(g,{crossOrigin:w,integrity:S,fetchPriority:I,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},rn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},rn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,w=p(v,y.crossOrigin);r.d.L(g,v,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},rn.preloadModule=function(g,y){if(typeof g=="string")if(y){var v=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},rn.requestFormReset=function(g){r.d.r(g)},rn.unstable_batchedUpdates=function(g,y){return g(y)},rn.useFormState=function(g,y,v){return h.H.useFormState(g,y,v)},rn.useFormStatus=function(){return h.H.useHostTransitionStatus()},rn.version="19.1.1",rn}var Hv;function SA(){if(Hv)return Im.exports;Hv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Im.exports=bA(),Im.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function AA(){if(Fv)return ec;Fv=1;var i=wA(),e=bp(),n=SA();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(r(188))}function g(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,l=s;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return p(d),t;if(m===l)return p(d),s;m=m.sibling}throw Error(r(188))}if(a.return!==l.return)a=d,l=m;else{for(var T=!1,b=d.child;b;){if(b===a){T=!0,a=d,l=m;break}if(b===l){T=!0,l=d,a=m;break}b=b.sibling}if(!T){for(b=m.child;b;){if(b===a){T=!0,a=m,l=d;break}if(b===l){T=!0,l=m,a=d;break}b=b.sibling}if(!T)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function y(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=y(t),s!==null)return s;t=t.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function yt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case L:return"Profiler";case z:return"StrictMode";case ue:return"Suspense";case pe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case I:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case Q:return(t._context.displayName||"Context")+".Consumer";case he:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return s=t.displayName||null,s!==null?s:yt(t.type)||"Memo";case R:s=t._payload,t=t._init;try{return yt(t(s))}catch{}}return null}var ut=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},ze=[],j=-1;function ne(t){return{current:t}}function oe(t){0>j||(t.current=ze[j],ze[j]=null,j--)}function se(t,s){j++,ze[j]=t.current,t.current=s}var ve=ne(null),Oe=ne(null),Re=ne(null),It=ne(null);function Je(t,s){switch(se(Re,s),se(Oe,t),se(ve,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?uv(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=uv(s),t=hv(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(ve),se(ve,t)}function jn(){oe(ve),oe(Oe),oe(Re)}function hi(t){t.memoizedState!==null&&se(It,t);var s=ve.current,a=hv(s,t.type);s!==a&&(se(Oe,t),se(ve,a))}function Xn(t){Oe.current===t&&(oe(ve),oe(Oe)),It.current===t&&(oe(It),Kl._currentValue=ye)}var qi=Object.prototype.hasOwnProperty,Hi=i.unstable_scheduleCallback,Fi=i.unstable_cancelCallback,Cr=i.unstable_shouldYield,Sa=i.unstable_requestPaint,pn=i.unstable_now,Ve=i.unstable_getCurrentPriorityLevel,Aa=i.unstable_ImmediatePriority,Ir=i.unstable_UserBlockingPriority,xs=i.unstable_NormalPriority,$o=i.unstable_LowPriority,le=i.unstable_IdlePriority,me=i.log,Ie=i.unstable_setDisableYieldValue,ge=null,Te=null;function ht(t){if(typeof me=="function"&&Ie(t),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(ge,t)}catch{}}var st=Math.clz32?Math.clz32:wt,Pn=Math.log,Tt=Math.LN2;function wt(t){return t>>>=0,t===0?32:31-(Pn(t)/Tt|0)|0}var Gi=256,xr=4194304;function Wn(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ra(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,m=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~m,l!==0?d=Wn(l):(T&=b,T!==0?d=Wn(T):a||(a=b&~t,a!==0&&(d=Wn(a))))):(b=l&~m,b!==0?d=Wn(b):T!==0?d=Wn(T):a||(a=l&~t,a!==0&&(d=Wn(a)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:d}function Nr(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Ko(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qo(){var t=Gi;return Gi<<=1,(Gi&4194048)===0&&(Gi=256),t}function Xo(){var t=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),t}function Yi(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function $i(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Wo(t,s,a,l,d,m){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,F=t.hiddenUpdates;for(a=T&~a;0<a;){var X=31-st(a),ee=1<<X;b[X]=0,N[X]=-1;var G=F[X];if(G!==null)for(F[X]=null,X=0;X<G.length;X++){var Y=G[X];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&di(t,l,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(T&~s))}function di(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-st(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Zo(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-st(a),d=1<<l;d&s|t[l]&s&&(t[l]|=s),a&=~d}}function Ns(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ca(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ds(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Nv(t.type))}function Hc(t,s){var a=ae.p;try{return ae.p=t,s()}finally{ae.p=a}}var dt=Math.random().toString(36).slice(2),Vt="__reactFiber$"+dt,xt="__reactProps$"+dt,kn="__reactContainer$"+dt,Jo="__reactEvents$"+dt,Ad="__reactListeners$"+dt,Os="__reactHandles$"+dt,Fc="__reactResources$"+dt,Dr="__reactMarker$"+dt;function Ms(t){delete t[Vt],delete t[xt],delete t[Jo],delete t[Ad],delete t[Os]}function Ki(t){var s=t[Vt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[kn]||a[Vt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=pv(t);t!==null;){if(a=t[Vt])return a;t=pv(t)}return s}t=a,a=t.parentNode}return null}function fi(t){if(t=t[Vt]||t[kn]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function mi(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function hn(t){var s=t[Fc];return s||(s=t[Fc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(t){t[Dr]=!0}var el=new Set,Ia={};function Zn(t,s){Qi(t,s),Qi(t+"Capture",s)}function Qi(t,s){for(Ia[t]=s,t=0;t<s.length;t++)el.add(s[t])}var Gc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yc={},Or={};function $c(t){return qi.call(Or,t)?!0:qi.call(Yc,t)?!1:Gc.test(t)?Or[t]=!0:(Yc[t]=!0,!1)}function js(t,s,a){if($c(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function pi(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Qt(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}var Mr,Kc;function Xi(t){if(Mr===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Mr=s&&s[1]||"",Kc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mr+t+Kc}var xa=!1;function Na(t,s){if(!t||xa)return"";xa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var G=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){G=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){G=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),T=m[0],b=m[1];if(T&&b){var N=T.split(`
`),F=b.split(`
`);for(d=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(l===N.length||d===F.length)for(l=N.length-1,d=F.length-1;1<=l&&0<=d&&N[l]!==F[d];)d--;for(;1<=l&&0<=d;l--,d--)if(N[l]!==F[d]){if(l!==1||d!==1)do if(l--,d--,0>d||N[l]!==F[d]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=d);break}}}finally{xa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Xi(a):""}function tl(t){switch(t.tag){case 26:case 27:case 5:return Xi(t.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return Na(t.type,!1);case 11:return Na(t.type.render,!1);case 1:return Na(t.type,!0);case 31:return Xi("Activity");default:return""}}function Da(t){try{var s="";do s+=tl(t),t=t.return;while(t);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function dn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nl(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Rd(t){var s=nl(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),l=""+t[s];if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){l=""+T,m.call(this,T)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Oa(t){t._valueTracker||(t._valueTracker=Rd(t))}function il(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=nl(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function jr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Cd=/[\n"\\]/g;function Nt(t){return t.replace(Cd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Tn(t,s,a,l,d,m,T,b){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),s!=null?T==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+dn(s)):t.value!==""+dn(s)&&(t.value=""+dn(s)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),s!=null?Ps(t,T,dn(s)):a!=null?Ps(t,T,dn(a)):l!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+dn(b):t.removeAttribute("name")}function Pr(t,s,a,l,d,m,T,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+dn(a):"",s=s!=null?""+dn(s):a,b||s===t.value||(t.value=s),t.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Ps(t,s,a){s==="number"&&jr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Wi(t,s,a,l){if(t=t.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=s.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+dn(a),s=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function et(t,s,a){if(s!=null&&(s=""+dn(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+dn(a):""}function kr(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(ut(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=dn(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Vn(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Vr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qc(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||Vr.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function sl(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&a[d]!==l&&Qc(t,d,l)}else for(var m in s)s.hasOwnProperty(m)&&Qc(t,m,s[m])}function rl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Id=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ma(t){return xd.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Zi=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ji=null,es=null;function al(t){var s=fi(t);if(s&&(t=s.stateNode)){var a=t[xt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Tn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Nt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var d=l[xt]||null;if(!d)throw Error(r(90));Tn(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&il(l)}break e;case"textarea":et(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Wi(t,!!a.multiple,s,!1)}}}var gi=!1;function Xc(t,s,a){if(gi)return t(s,a);gi=!0;try{var l=t(s);return l}finally{if(gi=!1,(Ji!==null||es!==null)&&(Hu(),Ji&&(s=Ji,t=es,es=Ji=null,al(s),t)))for(s=0;s<t.length;s++)al(t[s])}}function Lr(t,s){var a=t.stateNode;if(a===null)return null;var l=a[xt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Un=!1;if(Jn)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){Un=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{Un=!1}var yi=null,ks=null,ts=null;function ol(){if(ts)return ts;var t,s=ks,a=s.length,l,d="value"in yi?yi.value:yi.textContent,m=d.length;for(t=0;t<a&&s[t]===d[t];t++);var T=a-t;for(l=1;l<=T&&s[a-l]===d[m-l];l++);return ts=d.slice(t,1<l?1-l:void 0)}function _i(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function vi(){return!0}function ll(){return!1}function Ht(t){function s(a,l,d,m,T){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?vi:ll,this.isPropagationStopped=ll,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),s}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=Ht(Ke),Br=v({},Ke,{view:0,detail:0}),Wc=Ht(Br),Pa,ka,Ei,zr=v({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Pa=t.screenX-Ei.screenX,ka=t.screenY-Ei.screenY):ka=Pa=0,Ei=t),Pa)},movementY:function(t){return"movementY"in t?t.movementY:ka}}),Bn=Ht(zr),Zc=v({},zr,{dataTransfer:0}),Nd=Ht(Zc),qr=v({},Br,{relatedTarget:0}),Va=Ht(qr),cl=v({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),La=Ht(cl),Jc=v({},Ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ua=Ht(Jc),Dd=v({},Ke,{data:0}),ul=Ht(Dd),Hr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hl(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=tu[t])?!!s[t]:!1}function Fr(){return hl}var nu=v({},Br,{key:function(t){if(t.key){var s=Hr[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=_i(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(t){return t.type==="keypress"?_i(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_i(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ba=Ht(nu),iu=v({},zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dl=Ht(iu),ns=v({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),su=Ht(ns),ru=v({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),au=Ht(ru),ou=v({},zr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),za=Ht(ou),fn=v({},Ke,{newState:0,oldState:0}),lu=Ht(fn),cu=[9,13,27,32],Ti=Jn&&"CompositionEvent"in window,u=null;Jn&&"documentMode"in document&&(u=document.documentMode);var _=Jn&&"TextEvent"in window&&!u,E=Jn&&(!Ti||u&&8<u&&11>=u),A=" ",q=!1;function $(t,s){switch(t){case"keyup":return cu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function re(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qe=!1;function Lt(t,s){switch(t){case"compositionend":return re(s);case"keypress":return s.which!==32?null:(q=!0,A);case"textInput":return t=s.data,t===A&&q?null:t;default:return null}}function He(t,s){if(qe)return t==="compositionend"||!Ti&&$(t,s)?(t=ol(),ts=ks=yi=null,qe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var Ft={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ut(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Ft[t.type]:s==="textarea"}function is(t,s,a,l){Ji?es?es.push(l):es=[l]:Ji=l,s=Qu(s,"onChange"),0<s.length&&(a=new ja("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var Xt=null,wi=null;function fl(t){rv(t,0)}function uu(t){var s=mi(t);if(il(s))return t}function Rg(t,s){if(t==="change")return s}var Cg=!1;if(Jn){var Od;if(Jn){var Md="oninput"in document;if(!Md){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),Md=typeof Ig.oninput=="function"}Od=Md}else Od=!1;Cg=Od&&(!document.documentMode||9<document.documentMode)}function xg(){Xt&&(Xt.detachEvent("onpropertychange",Ng),wi=Xt=null)}function Ng(t){if(t.propertyName==="value"&&uu(wi)){var s=[];is(s,wi,t,Ln(t)),Xc(fl,s)}}function Kb(t,s,a){t==="focusin"?(xg(),Xt=s,wi=a,Xt.attachEvent("onpropertychange",Ng)):t==="focusout"&&xg()}function Qb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uu(wi)}function Xb(t,s){if(t==="click")return uu(s)}function Wb(t,s){if(t==="input"||t==="change")return uu(s)}function Zb(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var wn=typeof Object.is=="function"?Object.is:Zb;function ml(t,s){if(wn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!qi.call(s,d)||!wn(t[d],s[d]))return!1}return!0}function Dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Og(t,s){var a=Dg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dg(a)}}function Mg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Mg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function jg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=jr(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=jr(t.document)}return s}function jd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Jb=Jn&&"documentMode"in document&&11>=document.documentMode,qa=null,Pd=null,pl=null,kd=!1;function Pg(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kd||qa==null||qa!==jr(l)||(l=qa,"selectionStart"in l&&jd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pl&&ml(pl,l)||(pl=l,l=Qu(Pd,"onSelect"),0<l.length&&(s=new ja("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=qa)))}function Gr(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Ha={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionrun:Gr("Transition","TransitionRun"),transitionstart:Gr("Transition","TransitionStart"),transitioncancel:Gr("Transition","TransitionCancel"),transitionend:Gr("Transition","TransitionEnd")},Vd={},kg={};Jn&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Yr(t){if(Vd[t])return Vd[t];if(!Ha[t])return t;var s=Ha[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in kg)return Vd[t]=s[a];return t}var Vg=Yr("animationend"),Lg=Yr("animationiteration"),Ug=Yr("animationstart"),eS=Yr("transitionrun"),tS=Yr("transitionstart"),nS=Yr("transitioncancel"),Bg=Yr("transitionend"),zg=new Map,Ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ld.push("scrollEnd");function ei(t,s){zg.set(t,s),Zn(s,[t])}var qg=new WeakMap;function zn(t,s){if(typeof t=="object"&&t!==null){var a=qg.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Da(s)},qg.set(t,s),s)}return{value:t,source:s,stack:Da(s)}}var qn=[],Fa=0,Ud=0;function hu(){for(var t=Fa,s=Ud=Fa=0;s<t;){var a=qn[s];qn[s++]=null;var l=qn[s];qn[s++]=null;var d=qn[s];qn[s++]=null;var m=qn[s];if(qn[s++]=null,l!==null&&d!==null){var T=l.pending;T===null?d.next=d:(d.next=T.next,T.next=d),l.pending=d}m!==0&&Hg(a,d,m)}}function du(t,s,a,l){qn[Fa++]=t,qn[Fa++]=s,qn[Fa++]=a,qn[Fa++]=l,Ud|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Bd(t,s,a,l){return du(t,s,a,l),fu(t)}function Ga(t,s){return du(t,null,null,s),fu(t)}function Hg(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&s!==null&&(d=31-st(a),t=m.hiddenUpdates,l=t[d],l===null?t[d]=[s]:l.push(s),s.lane=a|536870912),m):null}function fu(t){if(50<Bl)throw Bl=0,$f=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Ya={};function iS(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,s,a,l){return new iS(t,s,a,l)}function zd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ss(t,s){var a=t.alternate;return a===null?(a=bn(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Fg(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function mu(t,s,a,l,d,m){var T=0;if(l=t,typeof t=="function")zd(t)&&(T=1);else if(typeof t=="string")T=rA(t,a,ve.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=bn(31,a,s,d),t.elementType=C,t.lanes=m,t;case x:return $r(a.children,d,m,s);case z:T=8,d|=24;break;case L:return t=bn(12,a,s,d|2),t.elementType=L,t.lanes=m,t;case ue:return t=bn(13,a,s,d),t.elementType=ue,t.lanes=m,t;case pe:return t=bn(19,a,s,d),t.elementType=pe,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:case ie:T=10;break e;case Q:T=9;break e;case he:T=11;break e;case P:T=14;break e;case R:T=16,l=null;break e}T=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return s=bn(T,a,s,d),s.elementType=t,s.type=l,s.lanes=m,s}function $r(t,s,a,l){return t=bn(7,t,l,s),t.lanes=a,t}function qd(t,s,a){return t=bn(6,t,null,s),t.lanes=a,t}function Hd(t,s,a){return s=bn(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var $a=[],Ka=0,pu=null,gu=0,Hn=[],Fn=0,Kr=null,rs=1,as="";function Qr(t,s){$a[Ka++]=gu,$a[Ka++]=pu,pu=t,gu=s}function Gg(t,s,a){Hn[Fn++]=rs,Hn[Fn++]=as,Hn[Fn++]=Kr,Kr=t;var l=rs;t=as;var d=32-st(l)-1;l&=~(1<<d),a+=1;var m=32-st(s)+d;if(30<m){var T=d-d%5;m=(l&(1<<T)-1).toString(32),l>>=T,d-=T,rs=1<<32-st(s)+d|a<<d|l,as=m+t}else rs=1<<m|a<<d|l,as=t}function Fd(t){t.return!==null&&(Qr(t,1),Gg(t,1,0))}function Gd(t){for(;t===pu;)pu=$a[--Ka],$a[Ka]=null,gu=$a[--Ka],$a[Ka]=null;for(;t===Kr;)Kr=Hn[--Fn],Hn[Fn]=null,as=Hn[--Fn],Hn[Fn]=null,rs=Hn[--Fn],Hn[Fn]=null}var mn=null,_t=null,$e=!1,Xr=null,bi=!1,Yd=Error(r(519));function Wr(t){var s=Error(r(418,""));throw _l(zn(s,t)),Yd}function Yg(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[Vt]=t,s[xt]=l,a){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(a=0;a<ql.length;a++)ke(ql[a],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":ke("invalid",s),Pr(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Oa(s);break;case"select":ke("invalid",s);break;case"textarea":ke("invalid",s),kr(s,l.value,l.defaultValue,l.children),Oa(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||cv(s.textContent,a)?(l.popover!=null&&(ke("beforetoggle",s),ke("toggle",s)),l.onScroll!=null&&ke("scroll",s),l.onScrollEnd!=null&&ke("scrollend",s),l.onClick!=null&&(s.onclick=Xu),s=!0):s=!1,s||Wr(t)}function $g(t){for(mn=t.return;mn;)switch(mn.tag){case 5:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:mn=mn.return}}function gl(t){if(t!==mn)return!1;if(!$e)return $g(t),$e=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||cm(t.type,t.memoizedProps)),a=!a),a&&_t&&Wr(t),$g(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(s===0){_t=ni(t.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;t=t.nextSibling}_t=null}}else s===27?(s=_t,Zs(t.type)?(t=fm,fm=null,_t=t):_t=s):_t=mn?ni(t.stateNode.nextSibling):null;return!0}function yl(){_t=mn=null,$e=!1}function Kg(){var t=Xr;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),Xr=null),t}function _l(t){Xr===null?Xr=[t]:Xr.push(t)}var $d=ne(null),Zr=null,os=null;function Vs(t,s,a){se($d,s._currentValue),s._currentValue=a}function ls(t){t._currentValue=$d.current,oe($d)}function Kd(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function Qd(t,s,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var T=d.child;m=m.firstContext;e:for(;m!==null;){var b=m;m=d;for(var N=0;N<s.length;N++)if(b.context===s[N]){m.lanes|=a,b=m.alternate,b!==null&&(b.lanes|=a),Kd(m.return,a,t),l||(T=null);break e}m=b.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(r(341));T.lanes|=a,m=T.alternate,m!==null&&(m.lanes|=a),Kd(T,a,t),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===t){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function vl(t,s,a,l){t=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var b=d.type;wn(d.pendingProps.value,T.value)||(t!==null?t.push(b):t=[b])}}else if(d===It.current){if(T=d.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Kl):t=[Kl])}d=d.return}t!==null&&Qd(s,t,a,l),s.flags|=262144}function yu(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jr(t){Zr=t,os=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function sn(t){return Qg(Zr,t)}function _u(t,s){return Zr===null&&Jr(t),Qg(t,s)}function Qg(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},os===null){if(t===null)throw Error(r(308));os=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else os=os.next=s;return a}var sS=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},rS=i.unstable_scheduleCallback,aS=i.unstable_NormalPriority,Bt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xd(){return{controller:new sS,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&rS(aS,function(){t.controller.abort()})}var Tl=null,Wd=0,Qa=0,Xa=null;function oS(t,s){if(Tl===null){var a=Tl=[];Wd=0,Qa=em(),Xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wd++,s.then(Xg,Xg),s}function Xg(){if(--Wd===0&&Tl!==null){Xa!==null&&(Xa.status="fulfilled");var t=Tl;Tl=null,Qa=0,Xa=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function lS(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Wg=K.S;K.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&oS(t,s),Wg!==null&&Wg(t,s)};var ea=ne(null);function Zd(){var t=ea.current;return t!==null?t:at.pooledCache}function vu(t,s){s===null?se(ea,ea.current):se(ea,s.pool)}function Zg(){var t=Zd();return t===null?null:{parent:Bt._currentValue,pool:t}}var wl=Error(r(460)),Jg=Error(r(474)),Eu=Error(r(542)),Jd={then:function(){}};function ey(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Tu(){}function ty(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Tu,Tu),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,iy(t),t;default:if(typeof s.status=="string")s.then(Tu,Tu);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,iy(t),t}throw bl=s,wl}}var bl=null;function ny(){if(bl===null)throw Error(r(459));var t=bl;return bl=null,t}function iy(t){if(t===wl||t===Eu)throw Error(r(483))}var Ls=!1;function ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Us(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=fu(t),Hg(t,null,a),s}return du(t,l,s,a),fu(t)}function Sl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Zo(t,a)}}function nf(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=T:m=m.next=T,a=a.next}while(a!==null);m===null?d=m=s:m=m.next=s}else d=m=s;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var sf=!1;function Al(){if(sf){var t=Xa;if(t!==null)throw t}}function Rl(t,s,a,l){sf=!1;var d=t.updateQueue;Ls=!1;var m=d.firstBaseUpdate,T=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var N=b,F=N.next;N.next=null,T===null?m=F:T.next=F,T=N;var X=t.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==T&&(b===null?X.firstBaseUpdate=F:b.next=F,X.lastBaseUpdate=N))}if(m!==null){var ee=d.baseState;T=0,X=F=N=null,b=m;do{var G=b.lane&-536870913,Y=G!==b.lane;if(Y?(Fe&G)===G:(l&G)===G){G!==0&&G===Qa&&(sf=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Ce=t,we=b;G=s;var it=a;switch(we.tag){case 1:if(Ce=we.payload,typeof Ce=="function"){ee=Ce.call(it,ee,G);break e}ee=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=we.payload,G=typeof Ce=="function"?Ce.call(it,ee,G):Ce,G==null)break e;ee=v({},ee,G);break e;case 2:Ls=!0}}G=b.callback,G!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=d.callbacks,Y===null?d.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(F=X=Y,N=ee):X=X.next=Y,T|=G;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);X===null&&(N=ee),d.baseState=N,d.firstBaseUpdate=F,d.lastBaseUpdate=X,m===null&&(d.shared.lanes=0),Ks|=T,t.lanes=T,t.memoizedState=ee}}function sy(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function ry(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)sy(a[t],s)}var Wa=ne(null),wu=ne(0);function ay(t,s){t=ps,se(wu,t),se(Wa,s),ps=t|s.baseLanes}function rf(){se(wu,ps),se(Wa,Wa.current)}function af(){ps=wu.current,oe(Wa),oe(wu)}var zs=0,Me=null,tt=null,Dt=null,bu=!1,Za=!1,ta=!1,Su=0,Cl=0,Ja=null,cS=0;function St(){throw Error(r(321))}function of(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!wn(t[a],s[a]))return!1;return!0}function lf(t,s,a,l,d,m){return zs=m,Me=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=t===null||t.memoizedState===null?Hy:Fy,ta=!1,m=a(l,d),ta=!1,Za&&(m=ly(s,a,l,d)),oy(t),m}function oy(t){K.H=Nu;var s=tt!==null&&tt.next!==null;if(zs=0,Dt=tt=Me=null,bu=!1,Cl=0,Ja=null,s)throw Error(r(300));t===null||Gt||(t=t.dependencies,t!==null&&yu(t)&&(Gt=!0))}function ly(t,s,a,l){Me=t;var d=0;do{if(Za&&(Ja=null),Cl=0,Za=!1,25<=d)throw Error(r(301));if(d+=1,Dt=tt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}K.H=gS,m=s(a,l)}while(Za);return m}function uS(){var t=K.H,s=t.useState()[0];return s=typeof s.then=="function"?Il(s):s,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Me.flags|=1024),s}function cf(){var t=Su!==0;return Su=0,t}function uf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function hf(t){if(bu){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}bu=!1}zs=0,Dt=tt=Me=null,Za=!1,Cl=Su=0,Ja=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Me.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function Ot(){if(tt===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var s=Dt===null?Me.memoizedState:Dt.next;if(s!==null)Dt=s,tt=t;else{if(t===null)throw Me.alternate===null?Error(r(467)):Error(r(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Dt===null?Me.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(t){var s=Cl;return Cl+=1,Ja===null&&(Ja=[]),t=ty(Ja,t,s),s=Me,(Dt===null?s.memoizedState:Dt.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?Hy:Fy),t}function Au(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===ie)return sn(t)}throw Error(r(438,String(t)))}function ff(t){var s=null,a=Me.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=df(),Me.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=O;return s.index++,a}function cs(t,s){return typeof s=="function"?s(t):s}function Ru(t){var s=Ot();return mf(s,tt,t)}function mf(t,s,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var d=t.baseQueue,m=l.pending;if(m!==null){if(d!==null){var T=d.next;d.next=m.next,m.next=T}s.baseQueue=d=m,l.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{s=d.next;var b=T=null,N=null,F=s,X=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(Fe&ee)===ee:(zs&ee)===ee){var G=F.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===Qa&&(X=!0);else if((zs&G)===G){F=F.next,G===Qa&&(X=!0);continue}else ee={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(b=N=ee,T=m):N=N.next=ee,Me.lanes|=G,Ks|=G;ee=F.action,ta&&a(m,ee),m=F.hasEagerState?F.eagerState:a(m,ee)}else G={lane:ee,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(b=N=G,T=m):N=N.next=G,Me.lanes|=ee,Ks|=ee;F=F.next}while(F!==null&&F!==s);if(N===null?T=m:N.next=b,!wn(m,t.memoizedState)&&(Gt=!0,X&&(a=Xa,a!==null)))throw a;t.memoizedState=m,t.baseState=T,t.baseQueue=N,l.lastRenderedState=m}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function pf(t){var s=Ot(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,m=s.memoizedState;if(d!==null){a.pending=null;var T=d=d.next;do m=t(m,T.action),T=T.next;while(T!==d);wn(m,s.memoizedState)||(Gt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function cy(t,s,a){var l=Me,d=Ot(),m=$e;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=s();var T=!wn((tt||d).memoizedState,a);T&&(d.memoizedState=a,Gt=!0),d=d.queue;var b=dy.bind(null,l,d,t);if(xl(2048,8,b,[t]),d.getSnapshot!==s||T||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,eo(9,Cu(),hy.bind(null,l,d,a,s),null),at===null)throw Error(r(349));m||(zs&124)!==0||uy(l,s,a)}return a}function uy(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Me.updateQueue,s===null?(s=df(),Me.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function hy(t,s,a,l){s.value=a,s.getSnapshot=l,fy(s)&&my(t)}function dy(t,s,a){return a(function(){fy(s)&&my(t)})}function fy(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!wn(t,a)}catch{return!0}}function my(t){var s=Ga(t,2);s!==null&&In(s,t,2)}function gf(t){var s=gn();if(typeof t=="function"){var a=t;if(t=a(),ta){ht(!0);try{a()}finally{ht(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:t},s}function py(t,s,a,l){return t.baseState=a,mf(t,tt,typeof l=="function"?l:cs)}function hS(t,s,a,l,d){if(xu(t))throw Error(r(485));if(t=s.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};K.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,gy(s,m)):(m.next=a.next,s.pending=a.next=m)}}function gy(t,s){var a=s.action,l=s.payload,d=t.state;if(s.isTransition){var m=K.T,T={};K.T=T;try{var b=a(d,l),N=K.S;N!==null&&N(T,b),yy(t,s,b)}catch(F){yf(t,s,F)}finally{K.T=m}}else try{m=a(d,l),yy(t,s,m)}catch(F){yf(t,s,F)}}function yy(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_y(t,s,l)},function(l){return yf(t,s,l)}):_y(t,s,a)}function _y(t,s,a){s.status="fulfilled",s.value=a,vy(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,gy(t,a)))}function yf(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,vy(s),s=s.next;while(s!==l)}t.action=null}function vy(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Ey(t,s){return s}function Ty(t,s){if($e){var a=at.formState;if(a!==null){e:{var l=Me;if($e){if(_t){t:{for(var d=_t,m=bi;d.nodeType!==8;){if(!m){d=null;break t}if(d=ni(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){_t=ni(d.nextSibling),l=d.data==="F!";break e}}Wr(l)}l=!1}l&&(s=a[0])}}return a=gn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ey,lastRenderedState:s},a.queue=l,a=By.bind(null,Me,l),l.dispatch=a,l=gf(!1),m=wf.bind(null,Me,!1,l.queue),l=gn(),d={state:s,dispatch:null,action:t,pending:null},l.queue=d,a=hS.bind(null,Me,d,m,a),d.dispatch=a,l.memoizedState=t,[s,a,!1]}function wy(t){var s=Ot();return by(s,tt,t)}function by(t,s,a){if(s=mf(t,s,Ey)[0],t=Ru(cs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Il(s)}catch(T){throw T===wl?Eu:T}else l=s;s=Ot();var d=s.queue,m=d.dispatch;return a!==s.memoizedState&&(Me.flags|=2048,eo(9,Cu(),dS.bind(null,d,a),null)),[l,m,t]}function dS(t,s){t.action=s}function Sy(t){var s=Ot(),a=tt;if(a!==null)return by(s,a,t);Ot(),s=s.memoizedState,a=Ot();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function eo(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=Me.updateQueue,s===null&&(s=df(),Me.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function Cu(){return{destroy:void 0,resource:void 0}}function Ay(){return Ot().memoizedState}function Iu(t,s,a,l){var d=gn();l=l===void 0?null:l,Me.flags|=t,d.memoizedState=eo(1|s,Cu(),a,l)}function xl(t,s,a,l){var d=Ot();l=l===void 0?null:l;var m=d.memoizedState.inst;tt!==null&&l!==null&&of(l,tt.memoizedState.deps)?d.memoizedState=eo(s,m,a,l):(Me.flags|=t,d.memoizedState=eo(1|s,m,a,l))}function Ry(t,s){Iu(8390656,8,t,s)}function Cy(t,s){xl(2048,8,t,s)}function Iy(t,s){return xl(4,2,t,s)}function xy(t,s){return xl(4,4,t,s)}function Ny(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Dy(t,s,a){a=a!=null?a.concat([t]):null,xl(4,4,Ny.bind(null,s,t),a)}function _f(){}function Oy(t,s){var a=Ot();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&of(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function My(t,s){var a=Ot();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&of(s,l[1]))return l[0];if(l=t(),ta){ht(!0);try{t()}finally{ht(!1)}}return a.memoizedState=[l,s],l}function vf(t,s,a){return a===void 0||(zs&1073741824)!==0?t.memoizedState=s:(t.memoizedState=a,t=k_(),Me.lanes|=t,Ks|=t,a)}function jy(t,s,a,l){return wn(a,s)?a:Wa.current!==null?(t=vf(t,a,l),wn(t,s)||(Gt=!0),t):(zs&42)===0?(Gt=!0,t.memoizedState=a):(t=k_(),Me.lanes|=t,Ks|=t,s)}function Py(t,s,a,l,d){var m=ae.p;ae.p=m!==0&&8>m?m:8;var T=K.T,b={};K.T=b,wf(t,!1,s,a);try{var N=d(),F=K.S;if(F!==null&&F(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=lS(N,l);Nl(t,s,X,Cn(t))}else Nl(t,s,l,Cn(t))}catch(ee){Nl(t,s,{then:function(){},status:"rejected",reason:ee},Cn())}finally{ae.p=m,K.T=T}}function fS(){}function Ef(t,s,a,l){if(t.tag!==5)throw Error(r(476));var d=ky(t).queue;Py(t,d,s,ye,a===null?fS:function(){return Vy(t),a(l)})}function ky(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:ye},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Vy(t){var s=ky(t).next.queue;Nl(t,s,{},Cn())}function Tf(){return sn(Kl)}function Ly(){return Ot().memoizedState}function Uy(){return Ot().memoizedState}function mS(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Cn();t=Us(a);var l=Bs(s,t,a);l!==null&&(In(l,s,a),Sl(l,s,a)),s={cache:Xd()},t.payload=s;return}s=s.return}}function pS(t,s,a){var l=Cn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},xu(t)?zy(s,a):(a=Bd(t,s,a,l),a!==null&&(In(a,t,l),qy(a,s,l)))}function By(t,s,a){var l=Cn();Nl(t,s,a,l)}function Nl(t,s,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(xu(t))zy(s,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var T=s.lastRenderedState,b=m(T,a);if(d.hasEagerState=!0,d.eagerState=b,wn(b,T))return du(t,s,d,0),at===null&&hu(),!1}catch{}finally{}if(a=Bd(t,s,d,l),a!==null)return In(a,t,l),qy(a,s,l),!0}return!1}function wf(t,s,a,l){if(l={lane:2,revertLane:em(),action:l,hasEagerState:!1,eagerState:null,next:null},xu(t)){if(s)throw Error(r(479))}else s=Bd(t,a,l,2),s!==null&&In(s,t,2)}function xu(t){var s=t.alternate;return t===Me||s!==null&&s===Me}function zy(t,s){Za=bu=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function qy(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Zo(t,a)}}var Nu={readContext:sn,use:Au,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},Hy={readContext:sn,use:Au,useCallback:function(t,s){return gn().memoizedState=[t,s===void 0?null:s],t},useContext:sn,useEffect:Ry,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Iu(4194308,4,Ny.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Iu(4194308,4,t,s)},useInsertionEffect:function(t,s){Iu(4,2,t,s)},useMemo:function(t,s){var a=gn();s=s===void 0?null:s;var l=t();if(ta){ht(!0);try{t()}finally{ht(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=gn();if(a!==void 0){var d=a(s);if(ta){ht(!0);try{a(s)}finally{ht(!1)}}}else d=s;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=pS.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var s=gn();return t={current:t},s.memoizedState=t},useState:function(t){t=gf(t);var s=t.queue,a=By.bind(null,Me,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:_f,useDeferredValue:function(t,s){var a=gn();return vf(a,t,s)},useTransition:function(){var t=gf(!1);return t=Py.bind(null,Me,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=Me,d=gn();if($e){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),at===null)throw Error(r(349));(Fe&124)!==0||uy(l,s,a)}d.memoizedState=a;var m={value:a,getSnapshot:s};return d.queue=m,Ry(dy.bind(null,l,m,t),[t]),l.flags|=2048,eo(9,Cu(),hy.bind(null,l,m,a,s),null),a},useId:function(){var t=gn(),s=at.identifierPrefix;if($e){var a=as,l=rs;a=(l&~(1<<32-st(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=Su++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=cS++,s="«"+s+"r"+a.toString(32)+"»";return t.memoizedState=s},useHostTransitionStatus:Tf,useFormState:Ty,useActionState:Ty,useOptimistic:function(t){var s=gn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=wf.bind(null,Me,!0,a),a.dispatch=s,[t,s]},useMemoCache:ff,useCacheRefresh:function(){return gn().memoizedState=mS.bind(null,Me)}},Fy={readContext:sn,use:Au,useCallback:Oy,useContext:sn,useEffect:Cy,useImperativeHandle:Dy,useInsertionEffect:Iy,useLayoutEffect:xy,useMemo:My,useReducer:Ru,useRef:Ay,useState:function(){return Ru(cs)},useDebugValue:_f,useDeferredValue:function(t,s){var a=Ot();return jy(a,tt.memoizedState,t,s)},useTransition:function(){var t=Ru(cs)[0],s=Ot().memoizedState;return[typeof t=="boolean"?t:Il(t),s]},useSyncExternalStore:cy,useId:Ly,useHostTransitionStatus:Tf,useFormState:wy,useActionState:wy,useOptimistic:function(t,s){var a=Ot();return py(a,tt,t,s)},useMemoCache:ff,useCacheRefresh:Uy},gS={readContext:sn,use:Au,useCallback:Oy,useContext:sn,useEffect:Cy,useImperativeHandle:Dy,useInsertionEffect:Iy,useLayoutEffect:xy,useMemo:My,useReducer:pf,useRef:Ay,useState:function(){return pf(cs)},useDebugValue:_f,useDeferredValue:function(t,s){var a=Ot();return tt===null?vf(a,t,s):jy(a,tt.memoizedState,t,s)},useTransition:function(){var t=pf(cs)[0],s=Ot().memoizedState;return[typeof t=="boolean"?t:Il(t),s]},useSyncExternalStore:cy,useId:Ly,useHostTransitionStatus:Tf,useFormState:Sy,useActionState:Sy,useOptimistic:function(t,s){var a=Ot();return tt!==null?py(a,tt,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ff,useCacheRefresh:Uy},to=null,Dl=0;function Du(t){var s=Dl;return Dl+=1,to===null&&(to=[]),ty(to,t,s)}function Ol(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Ou(t,s){throw s.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Gy(t){var s=t._init;return s(t._payload)}function Yy(t){function s(B,V){if(t){var H=B.deletions;H===null?(B.deletions=[V],B.flags|=16):H.push(V)}}function a(B,V){if(!t)return null;for(;V!==null;)s(B,V),V=V.sibling;return null}function l(B){for(var V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function d(B,V){return B=ss(B,V),B.index=0,B.sibling=null,B}function m(B,V,H){return B.index=H,t?(H=B.alternate,H!==null?(H=H.index,H<V?(B.flags|=67108866,V):H):(B.flags|=67108866,V)):(B.flags|=1048576,V)}function T(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function b(B,V,H,W){return V===null||V.tag!==6?(V=qd(H,B.mode,W),V.return=B,V):(V=d(V,H),V.return=B,V)}function N(B,V,H,W){var fe=H.type;return fe===x?X(B,V,H.props.children,W,H.key):V!==null&&(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&Gy(fe)===V.type)?(V=d(V,H.props),Ol(V,H),V.return=B,V):(V=mu(H.type,H.key,H.props,null,B.mode,W),Ol(V,H),V.return=B,V)}function F(B,V,H,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=Hd(H,B.mode,W),V.return=B,V):(V=d(V,H.children||[]),V.return=B,V)}function X(B,V,H,W,fe){return V===null||V.tag!==7?(V=$r(H,B.mode,W,fe),V.return=B,V):(V=d(V,H),V.return=B,V)}function ee(B,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=qd(""+V,B.mode,H),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return H=mu(V.type,V.key,V.props,null,B.mode,H),Ol(H,V),H.return=B,H;case I:return V=Hd(V,B.mode,H),V.return=B,V;case R:var W=V._init;return V=W(V._payload),ee(B,V,H)}if(ut(V)||U(V))return V=$r(V,B.mode,H,null),V.return=B,V;if(typeof V.then=="function")return ee(B,Du(V),H);if(V.$$typeof===ie)return ee(B,_u(B,V),H);Ou(B,V)}return null}function G(B,V,H,W){var fe=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return fe!==null?null:b(B,V,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return H.key===fe?N(B,V,H,W):null;case I:return H.key===fe?F(B,V,H,W):null;case R:return fe=H._init,H=fe(H._payload),G(B,V,H,W)}if(ut(H)||U(H))return fe!==null?null:X(B,V,H,W,null);if(typeof H.then=="function")return G(B,V,Du(H),W);if(H.$$typeof===ie)return G(B,V,_u(B,H),W);Ou(B,H)}return null}function Y(B,V,H,W,fe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return B=B.get(H)||null,b(V,B,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case S:return B=B.get(W.key===null?H:W.key)||null,N(V,B,W,fe);case I:return B=B.get(W.key===null?H:W.key)||null,F(V,B,W,fe);case R:var je=W._init;return W=je(W._payload),Y(B,V,H,W,fe)}if(ut(W)||U(W))return B=B.get(H)||null,X(V,B,W,fe,null);if(typeof W.then=="function")return Y(B,V,H,Du(W),fe);if(W.$$typeof===ie)return Y(B,V,H,_u(V,W),fe);Ou(V,W)}return null}function Ce(B,V,H,W){for(var fe=null,je=null,_e=V,be=V=0,$t=null;_e!==null&&be<H.length;be++){_e.index>be?($t=_e,_e=null):$t=_e.sibling;var Ye=G(B,_e,H[be],W);if(Ye===null){_e===null&&(_e=$t);break}t&&_e&&Ye.alternate===null&&s(B,_e),V=m(Ye,V,be),je===null?fe=Ye:je.sibling=Ye,je=Ye,_e=$t}if(be===H.length)return a(B,_e),$e&&Qr(B,be),fe;if(_e===null){for(;be<H.length;be++)_e=ee(B,H[be],W),_e!==null&&(V=m(_e,V,be),je===null?fe=_e:je.sibling=_e,je=_e);return $e&&Qr(B,be),fe}for(_e=l(_e);be<H.length;be++)$t=Y(_e,B,be,H[be],W),$t!==null&&(t&&$t.alternate!==null&&_e.delete($t.key===null?be:$t.key),V=m($t,V,be),je===null?fe=$t:je.sibling=$t,je=$t);return t&&_e.forEach(function(ir){return s(B,ir)}),$e&&Qr(B,be),fe}function we(B,V,H,W){if(H==null)throw Error(r(151));for(var fe=null,je=null,_e=V,be=V=0,$t=null,Ye=H.next();_e!==null&&!Ye.done;be++,Ye=H.next()){_e.index>be?($t=_e,_e=null):$t=_e.sibling;var ir=G(B,_e,Ye.value,W);if(ir===null){_e===null&&(_e=$t);break}t&&_e&&ir.alternate===null&&s(B,_e),V=m(ir,V,be),je===null?fe=ir:je.sibling=ir,je=ir,_e=$t}if(Ye.done)return a(B,_e),$e&&Qr(B,be),fe;if(_e===null){for(;!Ye.done;be++,Ye=H.next())Ye=ee(B,Ye.value,W),Ye!==null&&(V=m(Ye,V,be),je===null?fe=Ye:je.sibling=Ye,je=Ye);return $e&&Qr(B,be),fe}for(_e=l(_e);!Ye.done;be++,Ye=H.next())Ye=Y(_e,B,be,Ye.value,W),Ye!==null&&(t&&Ye.alternate!==null&&_e.delete(Ye.key===null?be:Ye.key),V=m(Ye,V,be),je===null?fe=Ye:je.sibling=Ye,je=Ye);return t&&_e.forEach(function(yA){return s(B,yA)}),$e&&Qr(B,be),fe}function it(B,V,H,W){if(typeof H=="object"&&H!==null&&H.type===x&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case S:e:{for(var fe=H.key;V!==null;){if(V.key===fe){if(fe=H.type,fe===x){if(V.tag===7){a(B,V.sibling),W=d(V,H.props.children),W.return=B,B=W;break e}}else if(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&Gy(fe)===V.type){a(B,V.sibling),W=d(V,H.props),Ol(W,H),W.return=B,B=W;break e}a(B,V);break}else s(B,V);V=V.sibling}H.type===x?(W=$r(H.props.children,B.mode,W,H.key),W.return=B,B=W):(W=mu(H.type,H.key,H.props,null,B.mode,W),Ol(W,H),W.return=B,B=W)}return T(B);case I:e:{for(fe=H.key;V!==null;){if(V.key===fe)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(B,V.sibling),W=d(V,H.children||[]),W.return=B,B=W;break e}else{a(B,V);break}else s(B,V);V=V.sibling}W=Hd(H,B.mode,W),W.return=B,B=W}return T(B);case R:return fe=H._init,H=fe(H._payload),it(B,V,H,W)}if(ut(H))return Ce(B,V,H,W);if(U(H)){if(fe=U(H),typeof fe!="function")throw Error(r(150));return H=fe.call(H),we(B,V,H,W)}if(typeof H.then=="function")return it(B,V,Du(H),W);if(H.$$typeof===ie)return it(B,V,_u(B,H),W);Ou(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(B,V.sibling),W=d(V,H),W.return=B,B=W):(a(B,V),W=qd(H,B.mode,W),W.return=B,B=W),T(B)):a(B,V)}return function(B,V,H,W){try{Dl=0;var fe=it(B,V,H,W);return to=null,fe}catch(_e){if(_e===wl||_e===Eu)throw _e;var je=bn(29,_e,null,B.mode);return je.lanes=W,je.return=B,je}finally{}}}var no=Yy(!0),$y=Yy(!1),Gn=ne(null),Si=null;function qs(t){var s=t.alternate;se(zt,zt.current&1),se(Gn,t),Si===null&&(s===null||Wa.current!==null||s.memoizedState!==null)&&(Si=t)}function Ky(t){if(t.tag===22){if(se(zt,zt.current),se(Gn,t),Si===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(Si=t)}}else Hs()}function Hs(){se(zt,zt.current),se(Gn,Gn.current)}function us(t){oe(Gn),Si===t&&(Si=null),oe(zt)}var zt=ne(0);function Mu(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||dm(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function bf(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:v({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Sf={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=Cn(),d=Us(l);d.payload=s,a!=null&&(d.callback=a),s=Bs(t,d,l),s!==null&&(In(s,t,l),Sl(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=Cn(),d=Us(l);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=Bs(t,d,l),s!==null&&(In(s,t,l),Sl(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Cn(),l=Us(a);l.tag=2,s!=null&&(l.callback=s),s=Bs(t,l,a),s!==null&&(In(s,t,a),Sl(s,t,a))}};function Qy(t,s,a,l,d,m,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,T):s.prototype&&s.prototype.isPureReactComponent?!ml(a,l)||!ml(d,m):!0}function Xy(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&Sf.enqueueReplaceState(s,s.state,null)}function na(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=v({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Wy(t){ju(t)}function Zy(t){console.error(t)}function Jy(t){ju(t)}function Pu(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function e_(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Af(t,s,a){return a=Us(a),a.tag=3,a.payload={element:null},a.callback=function(){Pu(t,s)},a}function t_(t){return t=Us(t),t.tag=3,t}function n_(t,s,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;t.payload=function(){return d(m)},t.callback=function(){e_(s,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){e_(s,a,l),typeof d!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function yS(t,s,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&vl(s,a,d,!0),a=Gn.current,a!==null){switch(a.tag){case 13:return Si===null?Qf():a.alternate===null&&vt===0&&(vt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Jd?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Wf(t,l,d)),!1;case 22:return a.flags|=65536,l===Jd?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Wf(t,l,d)),!1}throw Error(r(435,a.tag))}return Wf(t,l,d),Qf(),!1}if($e)return s=Gn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==Yd&&(t=Error(r(422),{cause:l}),_l(zn(t,a)))):(l!==Yd&&(s=Error(r(423),{cause:l}),_l(zn(s,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=zn(l,a),d=Af(t.stateNode,l,d),nf(t,d),vt!==4&&(vt=2)),!1;var m=Error(r(520),{cause:l});if(m=zn(m,a),Ul===null?Ul=[m]:Ul.push(m),vt!==4&&(vt=2),s===null)return!0;l=zn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Af(a.stateNode,l,t),nf(a,t),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Qs===null||!Qs.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=t_(d),n_(d,t,a,l),nf(a,d),!1}a=a.return}while(a!==null);return!1}var i_=Error(r(461)),Gt=!1;function Wt(t,s,a,l){s.child=t===null?$y(s,null,a,l):no(s,t.child,a,l)}function s_(t,s,a,l,d){a=a.render;var m=s.ref;if("ref"in l){var T={};for(var b in l)b!=="ref"&&(T[b]=l[b])}else T=l;return Jr(s),l=lf(t,s,a,T,m,d),b=cf(),t!==null&&!Gt?(uf(t,s,d),hs(t,s,d)):($e&&b&&Fd(s),s.flags|=1,Wt(t,s,l,d),s.child)}function r_(t,s,a,l,d){if(t===null){var m=a.type;return typeof m=="function"&&!zd(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,a_(t,s,m,l,d)):(t=mu(a.type,null,l,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(m=t.child,!Mf(t,d)){var T=m.memoizedProps;if(a=a.compare,a=a!==null?a:ml,a(T,l)&&t.ref===s.ref)return hs(t,s,d)}return s.flags|=1,t=ss(m,l),t.ref=s.ref,t.return=s,s.child=t}function a_(t,s,a,l,d){if(t!==null){var m=t.memoizedProps;if(ml(m,l)&&t.ref===s.ref)if(Gt=!1,s.pendingProps=l=m,Mf(t,d))(t.flags&131072)!==0&&(Gt=!0);else return s.lanes=t.lanes,hs(t,s,d)}return Rf(t,s,a,l,d)}function o_(t,s,a){var l=s.pendingProps,d=l.children,m=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,t!==null){for(d=s.child=t.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return l_(t,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&vu(s,m!==null?m.cachePool:null),m!==null?ay(s,m):rf(),Ky(s);else return s.lanes=s.childLanes=536870912,l_(t,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(vu(s,m.cachePool),ay(s,m),Hs(),s.memoizedState=null):(t!==null&&vu(s,null),rf(),Hs());return Wt(t,s,d,a),s.child}function l_(t,s,a,l){var d=Zd();return d=d===null?null:{parent:Bt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},t!==null&&vu(s,null),rf(),Ky(s),t!==null&&vl(t,s,l,!0),null}function ku(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Rf(t,s,a,l,d){return Jr(s),a=lf(t,s,a,l,void 0,d),l=cf(),t!==null&&!Gt?(uf(t,s,d),hs(t,s,d)):($e&&l&&Fd(s),s.flags|=1,Wt(t,s,a,d),s.child)}function c_(t,s,a,l,d,m){return Jr(s),s.updateQueue=null,a=ly(s,l,a,d),oy(t),l=cf(),t!==null&&!Gt?(uf(t,s,m),hs(t,s,m)):($e&&l&&Fd(s),s.flags|=1,Wt(t,s,a,m),s.child)}function u_(t,s,a,l,d){if(Jr(s),s.stateNode===null){var m=Ya,T=a.contextType;typeof T=="object"&&T!==null&&(m=sn(T)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Sf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},ef(s),T=a.contextType,m.context=typeof T=="object"&&T!==null?sn(T):Ya,m.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(bf(s,a,T,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&Sf.enqueueReplaceState(m,m.state,null),Rl(s,l,m,d),Al(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){m=s.stateNode;var b=s.memoizedProps,N=na(a,b);m.props=N;var F=m.context,X=a.contextType;T=Ya,typeof X=="object"&&X!==null&&(T=sn(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||F!==T)&&Xy(s,m,l,T),Ls=!1;var G=s.memoizedState;m.state=G,Rl(s,l,m,d),Al(),F=s.memoizedState,b||G!==F||Ls?(typeof ee=="function"&&(bf(s,a,ee,l),F=s.memoizedState),(N=Ls||Qy(s,a,N,l,G,F,T))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=F),m.props=l,m.state=F,m.context=T,l=N):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,tf(t,s),T=s.memoizedProps,X=na(a,T),m.props=X,ee=s.pendingProps,G=m.context,F=a.contextType,N=Ya,typeof F=="object"&&F!==null&&(N=sn(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==ee||G!==N)&&Xy(s,m,l,N),Ls=!1,G=s.memoizedState,m.state=G,Rl(s,l,m,d),Al();var Y=s.memoizedState;T!==ee||G!==Y||Ls||t!==null&&t.dependencies!==null&&yu(t.dependencies)?(typeof b=="function"&&(bf(s,a,b,l),Y=s.memoizedState),(X=Ls||Qy(s,a,X,l,G,Y,N)||t!==null&&t.dependencies!==null&&yu(t.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Y,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Y,N)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&G===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&G===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=Y),m.props=l,m.state=Y,m.context=N,l=X):(typeof m.componentDidUpdate!="function"||T===t.memoizedProps&&G===t.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&G===t.memoizedState||(s.flags|=1024),l=!1)}return m=l,ku(t,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,t!==null&&l?(s.child=no(s,t.child,null,d),s.child=no(s,null,a,d)):Wt(t,s,a,d),s.memoizedState=m.state,t=s.child):t=hs(t,s,d),t}function h_(t,s,a,l){return yl(),s.flags|=256,Wt(t,s,a,l),s.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(t){return{baseLanes:t,cachePool:Zg()}}function xf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Yn),t}function d_(t,s,a){var l=s.pendingProps,d=!1,m=(s.flags&128)!==0,T;if((T=m)||(T=t!==null&&t.memoizedState===null?!1:(zt.current&2)!==0),T&&(d=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,t===null){if($e){if(d?qs(s):Hs(),$e){var b=_t,N;if(N=b){e:{for(N=b,b=bi;N.nodeType!==8;){if(!b){b=null;break e}if(N=ni(N.nextSibling),N===null){b=null;break e}}b=N}b!==null?(s.memoizedState={dehydrated:b,treeContext:Kr!==null?{id:rs,overflow:as}:null,retryLane:536870912,hydrationErrors:null},N=bn(18,null,null,0),N.stateNode=b,N.return=s,s.child=N,mn=s,_t=null,N=!0):N=!1}N||Wr(s)}if(b=s.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return dm(b)?s.lanes=32:s.lanes=536870912,null;us(s)}return b=l.children,l=l.fallback,d?(Hs(),d=s.mode,b=Vu({mode:"hidden",children:b},d),l=$r(l,d,a,null),b.return=s,l.return=s,b.sibling=l,s.child=b,d=s.child,d.memoizedState=If(a),d.childLanes=xf(t,T,a),s.memoizedState=Cf,l):(qs(s),Nf(s,b))}if(N=t.memoizedState,N!==null&&(b=N.dehydrated,b!==null)){if(m)s.flags&256?(qs(s),s.flags&=-257,s=Df(t,s,a)):s.memoizedState!==null?(Hs(),s.child=t.child,s.flags|=128,s=null):(Hs(),d=l.fallback,b=s.mode,l=Vu({mode:"visible",children:l.children},b),d=$r(d,b,a,null),d.flags|=2,l.return=s,d.return=s,l.sibling=d,s.child=l,no(s,t.child,null,a),l=s.child,l.memoizedState=If(a),l.childLanes=xf(t,T,a),s.memoizedState=Cf,s=d);else if(qs(s),dm(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var F=T.dgst;T=F,l=Error(r(419)),l.stack="",l.digest=T,_l({value:l,source:null,stack:null}),s=Df(t,s,a)}else if(Gt||vl(t,s,a,!1),T=(a&t.childLanes)!==0,Gt||T){if(T=at,T!==null&&(l=a&-a,l=(l&42)!==0?1:Ns(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,Ga(t,l),In(T,t,l),i_;b.data==="$?"||Qf(),s=Df(t,s,a)}else b.data==="$?"?(s.flags|=192,s.child=t.child,s=null):(t=N.treeContext,_t=ni(b.nextSibling),mn=s,$e=!0,Xr=null,bi=!1,t!==null&&(Hn[Fn++]=rs,Hn[Fn++]=as,Hn[Fn++]=Kr,rs=t.id,as=t.overflow,Kr=s),s=Nf(s,l.children),s.flags|=4096);return s}return d?(Hs(),d=l.fallback,b=s.mode,N=t.child,F=N.sibling,l=ss(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,F!==null?d=ss(F,d):(d=$r(d,b,a,null),d.flags|=2),d.return=s,l.return=s,l.sibling=d,s.child=l,l=d,d=s.child,b=t.child.memoizedState,b===null?b=If(a):(N=b.cachePool,N!==null?(F=Bt._currentValue,N=N.parent!==F?{parent:F,pool:F}:N):N=Zg(),b={baseLanes:b.baseLanes|a,cachePool:N}),d.memoizedState=b,d.childLanes=xf(t,T,a),s.memoizedState=Cf,l):(qs(s),a=t.child,t=a.sibling,a=ss(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(T=s.deletions,T===null?(s.deletions=[t],s.flags|=16):T.push(t)),s.child=a,s.memoizedState=null,a)}function Nf(t,s){return s=Vu({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Vu(t,s){return t=bn(22,t,null,s),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Df(t,s,a){return no(s,t.child,null,a),t=Nf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function f_(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),Kd(t.return,s,a)}function Of(t,s,a,l,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=d)}function m_(t,s,a){var l=s.pendingProps,d=l.revealOrder,m=l.tail;if(Wt(t,s,l.children,a),l=zt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&f_(t,a,s);else if(t.tag===19)f_(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(zt,l),d){case"forwards":for(a=s.child,d=null;a!==null;)t=a.alternate,t!==null&&Mu(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Of(s,!1,d,a,m);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&Mu(t)===null){s.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Of(s,!0,a,null,m);break;case"together":Of(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function hs(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Ks|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(vl(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=ss(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=ss(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Mf(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&yu(t)))}function _S(t,s,a){switch(s.tag){case 3:Je(s,s.stateNode.containerInfo),Vs(s,Bt,t.memoizedState.cache),yl();break;case 27:case 5:hi(s);break;case 4:Je(s,s.stateNode.containerInfo);break;case 10:Vs(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(qs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?d_(t,s,a):(qs(s),t=hs(t,s,a),t!==null?t.sibling:null);qs(s);break;case 19:var d=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(vl(t,s,a,!1),l=(a&s.childLanes)!==0),d){if(l)return m_(t,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),se(zt,zt.current),l)break;return null;case 22:case 23:return s.lanes=0,o_(t,s,a);case 24:Vs(s,Bt,t.memoizedState.cache)}return hs(t,s,a)}function p_(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Gt=!0;else{if(!Mf(t,a)&&(s.flags&128)===0)return Gt=!1,_S(t,s,a);Gt=(t.flags&131072)!==0}else Gt=!1,$e&&(s.flags&1048576)!==0&&Gg(s,gu,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var l=s.elementType,d=l._init;if(l=d(l._payload),s.type=l,typeof l=="function")zd(l)?(t=na(l,t),s.tag=1,s=u_(null,s,l,t,a)):(s.tag=0,s=Rf(null,s,l,t,a));else{if(l!=null){if(d=l.$$typeof,d===he){s.tag=11,s=s_(null,s,l,t,a);break e}else if(d===P){s.tag=14,s=r_(null,s,l,t,a);break e}}throw s=yt(l)||l,Error(r(306,s,""))}}return s;case 0:return Rf(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,d=na(l,s.pendingProps),u_(t,s,l,d,a);case 3:e:{if(Je(s,s.stateNode.containerInfo),t===null)throw Error(r(387));l=s.pendingProps;var m=s.memoizedState;d=m.element,tf(t,s),Rl(s,l,null,a);var T=s.memoizedState;if(l=T.cache,Vs(s,Bt,l),l!==m.cache&&Qd(s,[Bt],a,!0),Al(),l=T.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=h_(t,s,l,a);break e}else if(l!==d){d=zn(Error(r(424)),s),_l(d),s=h_(t,s,l,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(_t=ni(t.firstChild),mn=s,$e=!0,Xr=null,bi=!0,a=$y(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(yl(),l===d){s=hs(t,s,a);break e}Wt(t,s,l,a)}s=s.child}return s;case 26:return ku(t,s),t===null?(a=vv(s.type,null,s.pendingProps,null))?s.memoizedState=a:$e||(a=s.type,t=s.pendingProps,l=Wu(Re.current).createElement(a),l[Vt]=s,l[xt]=t,Jt(l,a,t),bt(l),s.stateNode=l):s.memoizedState=vv(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return hi(s),t===null&&$e&&(l=s.stateNode=gv(s.type,s.pendingProps,Re.current),mn=s,bi=!0,d=_t,Zs(s.type)?(fm=d,_t=ni(l.firstChild)):_t=d),Wt(t,s,s.pendingProps.children,a),ku(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&$e&&((d=l=_t)&&(l=YS(l,s.type,s.pendingProps,bi),l!==null?(s.stateNode=l,mn=s,_t=ni(l.firstChild),bi=!1,d=!0):d=!1),d||Wr(s)),hi(s),d=s.type,m=s.pendingProps,T=t!==null?t.memoizedProps:null,l=m.children,cm(d,m)?l=null:T!==null&&cm(d,T)&&(s.flags|=32),s.memoizedState!==null&&(d=lf(t,s,uS,null,null,a),Kl._currentValue=d),ku(t,s),Wt(t,s,l,a),s.child;case 6:return t===null&&$e&&((t=a=_t)&&(a=$S(a,s.pendingProps,bi),a!==null?(s.stateNode=a,mn=s,_t=null,t=!0):t=!1),t||Wr(s)),null;case 13:return d_(t,s,a);case 4:return Je(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=no(s,null,l,a):Wt(t,s,l,a),s.child;case 11:return s_(t,s,s.type,s.pendingProps,a);case 7:return Wt(t,s,s.pendingProps,a),s.child;case 8:return Wt(t,s,s.pendingProps.children,a),s.child;case 12:return Wt(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Vs(s,s.type,l.value),Wt(t,s,l.children,a),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,Jr(s),d=sn(d),l=l(d),s.flags|=1,Wt(t,s,l,a),s.child;case 14:return r_(t,s,s.type,s.pendingProps,a);case 15:return a_(t,s,s.type,s.pendingProps,a);case 19:return m_(t,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},t===null?(a=Vu(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=ss(t.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return o_(t,s,a);case 24:return Jr(s),l=sn(Bt),t===null?(d=Zd(),d===null&&(d=at,m=Xd(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),s.memoizedState={parent:l,cache:d},ef(s),Vs(s,Bt,d)):((t.lanes&a)!==0&&(tf(t,s),Rl(s,null,null,a),Al()),d=t.memoizedState,m=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Vs(s,Bt,l)):(l=m.cache,Vs(s,Bt,l),l!==d.cache&&Qd(s,[Bt],a,!0))),Wt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ds(t){t.flags|=4}function g_(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Sv(s)){if(s=Gn.current,s!==null&&((Fe&4194048)===Fe?Si!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||s!==Si))throw bl=Jd,Jg;t.flags|=8192}}function Lu(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Xo():536870912,t.lanes|=s,ao|=s)}function Ml(t,s){if(!$e)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function mt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function vS(t,s,a){var l=s.pendingProps;switch(Gd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(s),null;case 1:return mt(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ls(Bt),jn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(gl(s)?ds(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Kg())),mt(s),null;case 26:return a=s.memoizedState,t===null?(ds(s),a!==null?(mt(s),g_(s,a)):(mt(s),s.flags&=-16777217)):a?a!==t.memoizedState?(ds(s),mt(s),g_(s,a)):(mt(s),s.flags&=-16777217):(t.memoizedProps!==l&&ds(s),mt(s),s.flags&=-16777217),null;case 27:Xn(s),a=Re.current;var d=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ds(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return mt(s),null}t=ve.current,gl(s)?Yg(s):(t=gv(d,l,a),s.stateNode=t,ds(s))}return mt(s),null;case 5:if(Xn(s),a=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ds(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return mt(s),null}if(t=ve.current,gl(s))Yg(s);else{switch(d=Wu(Re.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}t[Vt]=s,t[xt]=l;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=t;e:switch(Jt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ds(s)}}return mt(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&ds(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(t=Re.current,gl(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,d=mn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Vt]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||cv(t.nodeValue,a)),t||Wr(s)}else t=Wu(t).createTextNode(l),t[Vt]=s,s.stateNode=t}return mt(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=gl(s),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Vt]=s}else yl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),d=!1}else d=Kg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(us(s),s):(us(s),null)}if(us(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return a!==t&&a&&(s.child.flags|=8192),Lu(s,s.updateQueue),mt(s),null;case 4:return jn(),t===null&&sm(s.stateNode.containerInfo),mt(s),null;case 10:return ls(s.type),mt(s),null;case 19:if(oe(zt),d=s.memoizedState,d===null)return mt(s),null;if(l=(s.flags&128)!==0,m=d.rendering,m===null)if(l)Ml(d,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(m=Mu(t),m!==null){for(s.flags|=128,Ml(d,!1),t=m.updateQueue,s.updateQueue=t,Lu(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Fg(a,t),a=a.sibling;return se(zt,zt.current&1|2),s.child}t=t.sibling}d.tail!==null&&pn()>zu&&(s.flags|=128,l=!0,Ml(d,!1),s.lanes=4194304)}else{if(!l)if(t=Mu(m),t!==null){if(s.flags|=128,l=!0,t=t.updateQueue,s.updateQueue=t,Lu(s,t),Ml(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!$e)return mt(s),null}else 2*pn()-d.renderingStartTime>zu&&a!==536870912&&(s.flags|=128,l=!0,Ml(d,!1),s.lanes=4194304);d.isBackwards?(m.sibling=s.child,s.child=m):(t=d.last,t!==null?t.sibling=m:s.child=m,d.last=m)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=pn(),s.sibling=null,t=zt.current,se(zt,l?t&1|2:t&1),s):(mt(s),null);case 22:case 23:return us(s),af(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(mt(s),s.subtreeFlags&6&&(s.flags|=8192)):mt(s),a=s.updateQueue,a!==null&&Lu(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&oe(ea),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ls(Bt),mt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function ES(t,s){switch(Gd(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ls(Bt),jn(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Xn(s),null;case 13:if(us(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));yl()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return oe(zt),null;case 4:return jn(),null;case 10:return ls(s.type),null;case 22:case 23:return us(s),af(),t!==null&&oe(ea),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return ls(Bt),null;case 25:return null;default:return null}}function y_(t,s){switch(Gd(s),s.tag){case 3:ls(Bt),jn();break;case 26:case 27:case 5:Xn(s);break;case 4:jn();break;case 13:us(s);break;case 19:oe(zt);break;case 10:ls(s.type);break;case 22:case 23:us(s),af(),t!==null&&oe(ea);break;case 24:ls(Bt)}}function jl(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var m=a.create,T=a.inst;l=m(),T.destroy=l}a=a.next}while(a!==d)}}catch(b){rt(s,s.return,b)}}function Fs(t,s,a){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&t)===t){var T=l.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,d=s;var N=a,F=b;try{F()}catch(X){rt(d,N,X)}}}l=l.next}while(l!==m)}}catch(X){rt(s,s.return,X)}}function __(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{ry(s,a)}catch(l){rt(t,t.return,l)}}}function v_(t,s,a){a.props=na(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){rt(t,s,l)}}function Pl(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){rt(t,s,d)}}function Ai(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){rt(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){rt(t,s,d)}else a.current=null}function E_(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){rt(t,t.return,d)}}function jf(t,s,a){try{var l=t.stateNode;zS(l,t.type,a,s),l[xt]=s}catch(d){rt(t,t.return,d)}}function T_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zs(t.type)||t.tag===4}function Pf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kf(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Xu));else if(l!==4&&(l===27&&Zs(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(kf(t,s,a),t=t.sibling;t!==null;)kf(t,s,a),t=t.sibling}function Uu(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&Zs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Uu(t,s,a),t=t.sibling;t!==null;)Uu(t,s,a),t=t.sibling}function w_(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Jt(s,l,a),s[Vt]=t,s[xt]=a}catch(m){rt(t,t.return,m)}}var fs=!1,At=!1,Vf=!1,b_=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function TS(t,s){if(t=t.containerInfo,om=ih,t=jg(t),jd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var T=0,b=-1,N=-1,F=0,X=0,ee=t,G=null;t:for(;;){for(var Y;ee!==a||d!==0&&ee.nodeType!==3||(b=T+d),ee!==m||l!==0&&ee.nodeType!==3||(N=T+l),ee.nodeType===3&&(T+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)G=ee,ee=Y;for(;;){if(ee===t)break t;if(G===a&&++F===d&&(b=T),G===m&&++X===l&&(N=T),(Y=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=Y}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(lm={focusedElem:t,selectionRange:a},ih=!1,Yt=s;Yt!==null;)if(s=Yt,t=s.child,(s.subtreeFlags&1024)!==0&&t!==null)t.return=s,Yt=t;else for(;Yt!==null;){switch(s=Yt,m=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=s,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var Ce=na(a.type,d,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ce,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){rt(a,a.return,we)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)hm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,Yt=t;break}Yt=s.return}}function S_(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Gs(t,a),l&4&&jl(5,a);break;case 1:if(Gs(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(T){rt(a,a.return,T)}else{var d=na(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(T){rt(a,a.return,T)}}l&64&&__(a),l&512&&Pl(a,a.return);break;case 3:if(Gs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{ry(t,s)}catch(T){rt(a,a.return,T)}}break;case 27:s===null&&l&4&&w_(a);case 26:case 5:Gs(t,a),s===null&&l&4&&E_(a),l&512&&Pl(a,a.return);break;case 12:Gs(t,a);break;case 13:Gs(t,a),l&4&&C_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=NS.bind(null,a),KS(t,a))));break;case 22:if(l=a.memoizedState!==null||fs,!l){s=s!==null&&s.memoizedState!==null||At,d=fs;var m=At;fs=l,(At=s)&&!m?Ys(t,a,(a.subtreeFlags&8772)!==0):Gs(t,a),fs=d,At=m}break;case 30:break;default:Gs(t,a)}}function A_(t){var s=t.alternate;s!==null&&(t.alternate=null,A_(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Ms(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ft=null,yn=!1;function ms(t,s,a){for(a=a.child;a!==null;)R_(t,s,a),a=a.sibling}function R_(t,s,a){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(ge,a)}catch{}switch(a.tag){case 26:At||Ai(a,s),ms(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:At||Ai(a,s);var l=ft,d=yn;Zs(a.type)&&(ft=a.stateNode,yn=!1),ms(t,s,a),Fl(a.stateNode),ft=l,yn=d;break;case 5:At||Ai(a,s);case 6:if(l=ft,d=yn,ft=null,ms(t,s,a),ft=l,yn=d,ft!==null)if(yn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(m){rt(a,s,m)}else try{ft.removeChild(a.stateNode)}catch(m){rt(a,s,m)}break;case 18:ft!==null&&(yn?(t=ft,mv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Zl(t)):mv(ft,a.stateNode));break;case 4:l=ft,d=yn,ft=a.stateNode.containerInfo,yn=!0,ms(t,s,a),ft=l,yn=d;break;case 0:case 11:case 14:case 15:At||Fs(2,a,s),At||Fs(4,a,s),ms(t,s,a);break;case 1:At||(Ai(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&v_(a,s,l)),ms(t,s,a);break;case 21:ms(t,s,a);break;case 22:At=(l=At)||a.memoizedState!==null,ms(t,s,a),At=l;break;default:ms(t,s,a)}}function C_(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Zl(t)}catch(a){rt(s,s.return,a)}}function wS(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new b_),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new b_),s;default:throw Error(r(435,t.tag))}}function Lf(t,s){var a=wS(t);s.forEach(function(l){var d=DS.bind(null,t,l);a.has(l)||(a.add(l),l.then(d,d))})}function Sn(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=t,T=s,b=T;e:for(;b!==null;){switch(b.tag){case 27:if(Zs(b.type)){ft=b.stateNode,yn=!1;break e}break;case 5:ft=b.stateNode,yn=!1;break e;case 3:case 4:ft=b.stateNode.containerInfo,yn=!0;break e}b=b.return}if(ft===null)throw Error(r(160));R_(m,T,d),ft=null,yn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)I_(s,t),s=s.sibling}var ti=null;function I_(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(s,t),An(t),l&4&&(Fs(3,t,t.return),jl(3,t),Fs(5,t,t.return));break;case 1:Sn(s,t),An(t),l&512&&(At||a===null||Ai(a,a.return)),l&64&&fs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ti;if(Sn(s,t),An(t),l&512&&(At||a===null||Ai(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Dr]||m[Vt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),Jt(m,l,a),m[Vt]=t,bt(m),l=m;break e;case"link":var T=wv("link","href",d).get(l+(a.href||""));if(T){for(var b=0;b<T.length;b++)if(m=T[b],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(b,1);break t}}m=d.createElement(l),Jt(m,l,a),d.head.appendChild(m);break;case"meta":if(T=wv("meta","content",d).get(l+(a.content||""))){for(b=0;b<T.length;b++)if(m=T[b],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(b,1);break t}}m=d.createElement(l),Jt(m,l,a),d.head.appendChild(m);break;default:throw Error(r(468,l))}m[Vt]=t,bt(m),l=m}t.stateNode=l}else bv(d,t.type,t.stateNode);else t.stateNode=Tv(d,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?bv(d,t.type,t.stateNode):Tv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&jf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Sn(s,t),An(t),l&512&&(At||a===null||Ai(a,a.return)),a!==null&&l&4&&jf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Sn(s,t),An(t),l&512&&(At||a===null||Ai(a,a.return)),t.flags&32){d=t.stateNode;try{Vn(d,"")}catch(Y){rt(t,t.return,Y)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,jf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Vf=!0);break;case 6:if(Sn(s,t),An(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Y){rt(t,t.return,Y)}}break;case 3:if(eh=null,d=ti,ti=Zu(s.containerInfo),Sn(s,t),ti=d,An(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Zl(s.containerInfo)}catch(Y){rt(t,t.return,Y)}Vf&&(Vf=!1,x_(t));break;case 4:l=ti,ti=Zu(t.stateNode.containerInfo),Sn(s,t),An(t),ti=l;break;case 12:Sn(s,t),An(t);break;case 13:Sn(s,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ff=pn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lf(t,l)));break;case 22:d=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,F=fs,X=At;if(fs=F||d,At=X||N,Sn(s,t),At=X,fs=F,An(t),l&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||N||fs||At||ia(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){N=a=s;try{if(m=N.stateNode,d)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=N.stateNode;var ee=N.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Y){rt(N,N.return,Y)}}}else if(s.tag===6){if(a===null){N=s;try{N.stateNode.nodeValue=d?"":N.memoizedProps}catch(Y){rt(N,N.return,Y)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Lf(t,a))));break;case 19:Sn(s,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Lf(t,l)));break;case 30:break;case 21:break;default:Sn(s,t),An(t)}}function An(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(T_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var d=a.stateNode,m=Pf(t);Uu(t,m,d);break;case 5:var T=a.stateNode;a.flags&32&&(Vn(T,""),a.flags&=-33);var b=Pf(t);Uu(t,b,T);break;case 3:case 4:var N=a.stateNode.containerInfo,F=Pf(t);kf(t,F,N);break;default:throw Error(r(161))}}catch(X){rt(t,t.return,X)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function x_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;x_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Gs(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)S_(t,s.alternate,s),s=s.sibling}function ia(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Fs(4,s,s.return),ia(s);break;case 1:Ai(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&v_(s,s.return,a),ia(s);break;case 27:Fl(s.stateNode);case 26:case 5:Ai(s,s.return),ia(s);break;case 22:s.memoizedState===null&&ia(s);break;case 30:ia(s);break;default:ia(s)}t=t.sibling}}function Ys(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=t,m=s,T=m.flags;switch(m.tag){case 0:case 11:case 15:Ys(d,m,a),jl(4,m);break;case 1:if(Ys(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){rt(l,l.return,F)}if(l=m,d=l.updateQueue,d!==null){var b=l.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)sy(N[d],b)}catch(F){rt(l,l.return,F)}}a&&T&64&&__(m),Pl(m,m.return);break;case 27:w_(m);case 26:case 5:Ys(d,m,a),a&&l===null&&T&4&&E_(m),Pl(m,m.return);break;case 12:Ys(d,m,a);break;case 13:Ys(d,m,a),a&&T&4&&C_(d,m);break;case 22:m.memoizedState===null&&Ys(d,m,a),Pl(m,m.return);break;case 30:break;default:Ys(d,m,a)}s=s.sibling}}function Uf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&El(a))}function Bf(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&El(t))}function Ri(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)N_(t,s,a,l),s=s.sibling}function N_(t,s,a,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Ri(t,s,a,l),d&2048&&jl(9,s);break;case 1:Ri(t,s,a,l);break;case 3:Ri(t,s,a,l),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&El(t)));break;case 12:if(d&2048){Ri(t,s,a,l),t=s.stateNode;try{var m=s.memoizedProps,T=m.id,b=m.onPostCommit;typeof b=="function"&&b(T,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){rt(s,s.return,N)}}else Ri(t,s,a,l);break;case 13:Ri(t,s,a,l);break;case 23:break;case 22:m=s.stateNode,T=s.alternate,s.memoizedState!==null?m._visibility&2?Ri(t,s,a,l):kl(t,s):m._visibility&2?Ri(t,s,a,l):(m._visibility|=2,io(t,s,a,l,(s.subtreeFlags&10256)!==0)),d&2048&&Uf(T,s);break;case 24:Ri(t,s,a,l),d&2048&&Bf(s.alternate,s);break;default:Ri(t,s,a,l)}}function io(t,s,a,l,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=t,T=s,b=a,N=l,F=T.flags;switch(T.tag){case 0:case 11:case 15:io(m,T,b,N,d),jl(8,T);break;case 23:break;case 22:var X=T.stateNode;T.memoizedState!==null?X._visibility&2?io(m,T,b,N,d):kl(m,T):(X._visibility|=2,io(m,T,b,N,d)),d&&F&2048&&Uf(T.alternate,T);break;case 24:io(m,T,b,N,d),d&&F&2048&&Bf(T.alternate,T);break;default:io(m,T,b,N,d)}s=s.sibling}}function kl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,d=l.flags;switch(l.tag){case 22:kl(a,l),d&2048&&Uf(l.alternate,l);break;case 24:kl(a,l),d&2048&&Bf(l.alternate,l);break;default:kl(a,l)}s=s.sibling}}var Vl=8192;function so(t){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)D_(t),t=t.sibling}function D_(t){switch(t.tag){case 26:so(t),t.flags&Vl&&t.memoizedState!==null&&oA(ti,t.memoizedState,t.memoizedProps);break;case 5:so(t);break;case 3:case 4:var s=ti;ti=Zu(t.stateNode.containerInfo),so(t),ti=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=Vl,Vl=16777216,so(t),Vl=s):so(t));break;default:so(t)}}function O_(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Ll(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Yt=l,j_(l,t)}O_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)M_(t),t=t.sibling}function M_(t){switch(t.tag){case 0:case 11:case 15:Ll(t),t.flags&2048&&Fs(9,t,t.return);break;case 3:Ll(t);break;case 12:Ll(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Bu(t)):Ll(t);break;default:Ll(t)}}function Bu(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Yt=l,j_(l,t)}O_(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Fs(8,s,s.return),Bu(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Bu(s));break;default:Bu(s)}t=t.sibling}}function j_(t,s){for(;Yt!==null;){var a=Yt;switch(a.tag){case 0:case 11:case 15:Fs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Yt=l;else e:for(a=t;Yt!==null;){l=Yt;var d=l.sibling,m=l.return;if(A_(l),l===a){Yt=null;break e}if(d!==null){d.return=m,Yt=d;break e}Yt=m}}}var bS={getCacheForType:function(t){var s=sn(Bt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a}},SS=typeof WeakMap=="function"?WeakMap:Map,Xe=0,at=null,Pe=null,Fe=0,We=0,Rn=null,$s=!1,ro=!1,zf=!1,ps=0,vt=0,Ks=0,sa=0,qf=0,Yn=0,ao=0,Ul=null,_n=null,Hf=!1,Ff=0,zu=1/0,qu=null,Qs=null,Zt=0,Xs=null,oo=null,lo=0,Gf=0,Yf=null,P_=null,Bl=0,$f=null;function Cn(){if((Xe&2)!==0&&Fe!==0)return Fe&-Fe;if(K.T!==null){var t=Qa;return t!==0?t:em()}return Ds()}function k_(){Yn===0&&(Yn=(Fe&536870912)===0||$e?Qo():536870912);var t=Gn.current;return t!==null&&(t.flags|=32),Yn}function In(t,s,a){(t===at&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(co(t,0),Ws(t,Fe,Yn,!1)),$i(t,a),((Xe&2)===0||t!==at)&&(t===at&&((Xe&2)===0&&(sa|=a),vt===4&&Ws(t,Fe,Yn,!1)),Ci(t))}function V_(t,s,a){if((Xe&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&t.expiredLanes)===0||Nr(t,s),d=l?CS(t,s):Xf(t,s,!0),m=l;do{if(d===0){ro&&!l&&Ws(t,s,0,!1);break}else{if(a=t.current.alternate,m&&!AS(a)){d=Xf(t,s,!1),m=!1;continue}if(d===2){if(m=s,t.errorRecoveryDisabledLanes&m)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var b=t;d=Ul;var N=b.current.memoizedState.isDehydrated;if(N&&(co(b,T).flags|=256),T=Xf(b,T,!1),T!==2){if(zf&&!N){b.errorRecoveryDisabledLanes|=m,sa|=m,d=4;break e}m=_n,_n=d,m!==null&&(_n===null?_n=m:_n.push.apply(_n,m))}d=T}if(m=!1,d!==2)continue}}if(d===1){co(t,0),Ws(t,s,0,!0);break}e:{switch(l=t,m=d,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ws(l,s,Yn,!$s);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=Ff+300-pn(),10<d)){if(Ws(l,s,Yn,!$s),Ra(l,0,!0)!==0)break e;l.timeoutHandle=dv(L_.bind(null,l,a,_n,qu,Hf,s,Yn,sa,ao,$s,m,2,-0,0),d);break e}L_(l,a,_n,qu,Hf,s,Yn,sa,ao,$s,m,0,-0,0)}}break}while(!0);Ci(t)}function L_(t,s,a,l,d,m,T,b,N,F,X,ee,G,Y){if(t.timeoutHandle=-1,ee=s.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&($l={stylesheets:null,count:0,unsuspend:aA},D_(s),ee=lA(),ee!==null)){t.cancelPendingCommit=ee(G_.bind(null,t,s,m,a,l,d,T,b,N,X,1,G,Y)),Ws(t,m,T,!F);return}G_(t,s,m,a,l,d,T,b,N)}function AS(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!wn(m(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ws(t,s,a,l){s&=~qf,s&=~sa,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var d=s;0<d;){var m=31-st(d),T=1<<m;l[m]=-1,d&=~T}a!==0&&di(t,a,s)}function Hu(){return(Xe&6)===0?(zl(0),!1):!0}function Kf(){if(Pe!==null){if(We===0)var t=Pe.return;else t=Pe,os=Zr=null,hf(t),to=null,Dl=0,t=Pe;for(;t!==null;)y_(t.alternate,t),t=t.return;Pe=null}}function co(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,HS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Kf(),at=t,Pe=a=ss(t.current,null),Fe=s,We=0,Rn=null,$s=!1,ro=Nr(t,s),zf=!1,ao=Yn=qf=sa=Ks=vt=0,_n=Ul=null,Hf=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var d=31-st(l),m=1<<d;s|=t[d],l&=~m}return ps=s,hu(),a}function U_(t,s){Me=null,K.H=Nu,s===wl||s===Eu?(s=ny(),We=3):s===Jg?(s=ny(),We=4):We=s===i_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Rn=s,Pe===null&&(vt=1,Pu(t,zn(s,t.current)))}function B_(){var t=K.H;return K.H=Nu,t===null?Nu:t}function z_(){var t=K.A;return K.A=bS,t}function Qf(){vt=4,$s||(Fe&4194048)!==Fe&&Gn.current!==null||(ro=!0),(Ks&134217727)===0&&(sa&134217727)===0||at===null||Ws(at,Fe,Yn,!1)}function Xf(t,s,a){var l=Xe;Xe|=2;var d=B_(),m=z_();(at!==t||Fe!==s)&&(qu=null,co(t,s)),s=!1;var T=vt;e:do try{if(We!==0&&Pe!==null){var b=Pe,N=Rn;switch(We){case 8:Kf(),T=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(s=!0);var F=We;if(We=0,Rn=null,uo(t,b,N,F),a&&ro){T=0;break e}break;default:F=We,We=0,Rn=null,uo(t,b,N,F)}}RS(),T=vt;break}catch(X){U_(t,X)}while(!0);return s&&t.shellSuspendCounter++,os=Zr=null,Xe=l,K.H=d,K.A=m,Pe===null&&(at=null,Fe=0,hu()),T}function RS(){for(;Pe!==null;)q_(Pe)}function CS(t,s){var a=Xe;Xe|=2;var l=B_(),d=z_();at!==t||Fe!==s?(qu=null,zu=pn()+500,co(t,s)):ro=Nr(t,s);e:do try{if(We!==0&&Pe!==null){s=Pe;var m=Rn;t:switch(We){case 1:We=0,Rn=null,uo(t,s,m,1);break;case 2:case 9:if(ey(m)){We=0,Rn=null,H_(s);break}s=function(){We!==2&&We!==9||at!==t||(We=7),Ci(t)},m.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:ey(m)?(We=0,Rn=null,H_(s)):(We=0,Rn=null,uo(t,s,m,7));break;case 5:var T=null;switch(Pe.tag){case 26:T=Pe.memoizedState;case 5:case 27:var b=Pe;if(!T||Sv(T)){We=0,Rn=null;var N=b.sibling;if(N!==null)Pe=N;else{var F=b.return;F!==null?(Pe=F,Fu(F)):Pe=null}break t}}We=0,Rn=null,uo(t,s,m,5);break;case 6:We=0,Rn=null,uo(t,s,m,6);break;case 8:Kf(),vt=6;break e;default:throw Error(r(462))}}IS();break}catch(X){U_(t,X)}while(!0);return os=Zr=null,K.H=l,K.A=d,Xe=a,Pe!==null?0:(at=null,Fe=0,hu(),vt)}function IS(){for(;Pe!==null&&!Cr();)q_(Pe)}function q_(t){var s=p_(t.alternate,t,ps);t.memoizedProps=t.pendingProps,s===null?Fu(t):Pe=s}function H_(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=c_(a,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=c_(a,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:hf(s);default:y_(a,s),s=Pe=Fg(s,ps),s=p_(a,s,ps)}t.memoizedProps=t.pendingProps,s===null?Fu(t):Pe=s}function uo(t,s,a,l){os=Zr=null,hf(s),to=null,Dl=0;var d=s.return;try{if(yS(t,d,s,a,Fe)){vt=1,Pu(t,zn(a,t.current)),Pe=null;return}}catch(m){if(d!==null)throw Pe=d,m;vt=1,Pu(t,zn(a,t.current)),Pe=null;return}s.flags&32768?($e||l===1?t=!0:ro||(Fe&536870912)!==0?t=!1:($s=t=!0,(l===2||l===9||l===3||l===6)&&(l=Gn.current,l!==null&&l.tag===13&&(l.flags|=16384))),F_(s,t)):Fu(s)}function Fu(t){var s=t;do{if((s.flags&32768)!==0){F_(s,$s);return}t=s.return;var a=vS(s.alternate,s,ps);if(a!==null){Pe=a;return}if(s=s.sibling,s!==null){Pe=s;return}Pe=s=t}while(s!==null);vt===0&&(vt=5)}function F_(t,s){do{var a=ES(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);vt=6,Pe=null}function G_(t,s,a,l,d,m,T,b,N){t.cancelPendingCommit=null;do Gu();while(Zt!==0);if((Xe&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Ud,Wo(t,a,m,T,b,N),t===at&&(Pe=at=null,Fe=0),oo=s,Xs=t,lo=a,Gf=m,Yf=d,P_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,OS(xs,function(){return X_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,d=ae.p,ae.p=2,T=Xe,Xe|=4;try{TS(t,s,a)}finally{Xe=T,ae.p=d,K.T=l}}Zt=1,Y_(),$_(),K_()}}function Y_(){if(Zt===1){Zt=0;var t=Xs,s=oo,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var d=Xe;Xe|=4;try{I_(s,t);var m=lm,T=jg(t.containerInfo),b=m.focusedElem,N=m.selectionRange;if(T!==b&&b&&b.ownerDocument&&Mg(b.ownerDocument.documentElement,b)){if(N!==null&&jd(b)){var F=N.start,X=N.end;if(X===void 0&&(X=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(X,b.value.length);else{var ee=b.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var Y=G.getSelection(),Ce=b.textContent.length,we=Math.min(N.start,Ce),it=N.end===void 0?we:Math.min(N.end,Ce);!Y.extend&&we>it&&(T=it,it=we,we=T);var B=Og(b,we),V=Og(b,it);if(B&&V&&(Y.rangeCount!==1||Y.anchorNode!==B.node||Y.anchorOffset!==B.offset||Y.focusNode!==V.node||Y.focusOffset!==V.offset)){var H=ee.createRange();H.setStart(B.node,B.offset),Y.removeAllRanges(),we>it?(Y.addRange(H),Y.extend(V.node,V.offset)):(H.setEnd(V.node,V.offset),Y.addRange(H))}}}}for(ee=[],Y=b;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ee.length;b++){var W=ee[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}ih=!!om,lm=om=null}finally{Xe=d,ae.p=l,K.T=a}}t.current=s,Zt=2}}function $_(){if(Zt===2){Zt=0;var t=Xs,s=oo,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var d=Xe;Xe|=4;try{S_(t,s.alternate,s)}finally{Xe=d,ae.p=l,K.T=a}}Zt=3}}function K_(){if(Zt===4||Zt===3){Zt=0,Sa();var t=Xs,s=oo,a=lo,l=P_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Zt=5:(Zt=0,oo=Xs=null,Q_(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Qs=null),Ca(a),s=s.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(ge,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=K.T,d=ae.p,ae.p=2,K.T=null;try{for(var m=t.onRecoverableError,T=0;T<l.length;T++){var b=l[T];m(b.value,{componentStack:b.stack})}}finally{K.T=s,ae.p=d}}(lo&3)!==0&&Gu(),Ci(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===$f?Bl++:(Bl=0,$f=t):Bl=0,zl(0)}}function Q_(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,El(s)))}function Gu(t){return Y_(),$_(),K_(),X_()}function X_(){if(Zt!==5)return!1;var t=Xs,s=Gf;Gf=0;var a=Ca(lo),l=K.T,d=ae.p;try{ae.p=32>a?32:a,K.T=null,a=Yf,Yf=null;var m=Xs,T=lo;if(Zt=0,oo=Xs=null,lo=0,(Xe&6)!==0)throw Error(r(331));var b=Xe;if(Xe|=4,M_(m.current),N_(m,m.current,T,a),Xe=b,zl(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(ge,m)}catch{}return!0}finally{ae.p=d,K.T=l,Q_(t,s)}}function W_(t,s,a){s=zn(a,s),s=Af(t.stateNode,s,2),t=Bs(t,s,2),t!==null&&($i(t,2),Ci(t))}function rt(t,s,a){if(t.tag===3)W_(t,t,a);else for(;s!==null;){if(s.tag===3){W_(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Qs===null||!Qs.has(l))){t=zn(a,t),a=t_(2),l=Bs(s,a,2),l!==null&&(n_(a,l,s,t),$i(l,2),Ci(l));break}}s=s.return}}function Wf(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new SS;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(a)||(zf=!0,d.add(a),t=xS.bind(null,t,s,a),s.then(t,t))}function xS(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,at===t&&(Fe&a)===a&&(vt===4||vt===3&&(Fe&62914560)===Fe&&300>pn()-Ff?(Xe&2)===0&&co(t,0):qf|=a,ao===Fe&&(ao=0)),Ci(t)}function Z_(t,s){s===0&&(s=Xo()),t=Ga(t,s),t!==null&&($i(t,s),Ci(t))}function NS(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),Z_(t,a)}function DS(t,s){var a=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),Z_(t,a)}function OS(t,s){return Hi(t,s)}var Yu=null,ho=null,Zf=!1,$u=!1,Jf=!1,ra=0;function Ci(t){t!==ho&&t.next===null&&(ho===null?Yu=ho=t:ho=ho.next=t),$u=!0,Zf||(Zf=!0,jS())}function zl(t,s){if(!Jf&&$u){Jf=!0;do for(var a=!1,l=Yu;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var T=l.suspendedLanes,b=l.pingedLanes;m=(1<<31-st(42|t)+1)-1,m&=d&~(T&~b),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,nv(l,m))}else m=Fe,m=Ra(l,l===at?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Nr(l,m)||(a=!0,nv(l,m));l=l.next}while(a);Jf=!1}}function MS(){J_()}function J_(){$u=Zf=!1;var t=0;ra!==0&&(qS()&&(t=ra),ra=0);for(var s=pn(),a=null,l=Yu;l!==null;){var d=l.next,m=ev(l,s);m===0?(l.next=null,a===null?Yu=d:a.next=d,d===null&&(ho=a)):(a=l,(t!==0||(m&3)!==0)&&($u=!0)),l=d}zl(t)}function ev(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var T=31-st(m),b=1<<T,N=d[T];N===-1?((b&a)===0||(b&l)!==0)&&(d[T]=Ko(b,s)):N<=s&&(t.expiredLanes|=b),m&=~b}if(s=at,a=Fe,a=Ra(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Fi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Nr(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&Fi(l),Ca(a)){case 2:case 8:a=Ir;break;case 32:a=xs;break;case 268435456:a=le;break;default:a=xs}return l=tv.bind(null,t),a=Hi(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&Fi(l),t.callbackPriority=2,t.callbackNode=null,2}function tv(t,s){if(Zt!==0&&Zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Gu()&&t.callbackNode!==a)return null;var l=Fe;return l=Ra(t,t===at?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(V_(t,l,s),ev(t,pn()),t.callbackNode!=null&&t.callbackNode===a?tv.bind(null,t):null)}function nv(t,s){if(Gu())return null;V_(t,s,!0)}function jS(){FS(function(){(Xe&6)!==0?Hi(Aa,MS):J_()})}function em(){return ra===0&&(ra=Qo()),ra}function iv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ma(""+t)}function sv(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function PS(t,s,a,l,d){if(s==="submit"&&a&&a.stateNode===d){var m=iv((d[xt]||null).action),T=l.submitter;T&&(s=(s=T[xt]||null)?iv(s.formAction):T.getAttribute("formAction"),s!==null&&(m=s,T=null));var b=new ja("action","action",null,l,d);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ra!==0){var N=T?sv(d,T):new FormData(d);Ef(a,{pending:!0,data:N,method:d.method,action:m},null,N)}}else typeof m=="function"&&(b.preventDefault(),N=T?sv(d,T):new FormData(d),Ef(a,{pending:!0,data:N,method:d.method,action:m},m,N))},currentTarget:d}]})}}for(var tm=0;tm<Ld.length;tm++){var nm=Ld[tm],kS=nm.toLowerCase(),VS=nm[0].toUpperCase()+nm.slice(1);ei(kS,"on"+VS)}ei(Vg,"onAnimationEnd"),ei(Lg,"onAnimationIteration"),ei(Ug,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(eS,"onTransitionRun"),ei(tS,"onTransitionStart"),ei(nS,"onTransitionCancel"),ei(Bg,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function rv(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var T=l.length-1;0<=T;T--){var b=l[T],N=b.instance,F=b.currentTarget;if(b=b.listener,N!==m&&d.isPropagationStopped())break e;m=b,d.currentTarget=F;try{m(d)}catch(X){ju(X)}d.currentTarget=null,m=N}else for(T=0;T<l.length;T++){if(b=l[T],N=b.instance,F=b.currentTarget,b=b.listener,N!==m&&d.isPropagationStopped())break e;m=b,d.currentTarget=F;try{m(d)}catch(X){ju(X)}d.currentTarget=null,m=N}}}}function ke(t,s){var a=s[Jo];a===void 0&&(a=s[Jo]=new Set);var l=t+"__bubble";a.has(l)||(av(s,t,2,!1),a.add(l))}function im(t,s,a){var l=0;s&&(l|=4),av(a,t,l,s)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function sm(t){if(!t[Ku]){t[Ku]=!0,el.forEach(function(a){a!=="selectionchange"&&(LS.has(a)||im(a,!1,t),im(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ku]||(s[Ku]=!0,im("selectionchange",!1,s))}}function av(t,s,a,l){switch(Nv(s)){case 2:var d=hA;break;case 8:d=dA;break;default:d=_m}a=d.bind(null,s,a,t),d=void 0,!Un||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(s,a,{capture:!0,passive:d}):t.addEventListener(s,a,!0):d!==void 0?t.addEventListener(s,a,{passive:d}):t.addEventListener(s,a,!1)}function rm(t,s,a,l,d){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var b=l.stateNode.containerInfo;if(b===d)break;if(T===4)for(T=l.return;T!==null;){var N=T.tag;if((N===3||N===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;b!==null;){if(T=Ki(b),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){l=m=T;continue e}b=b.parentNode}}l=l.return}Xc(function(){var F=m,X=Ln(a),ee=[];e:{var G=zg.get(t);if(G!==void 0){var Y=ja,Ce=t;switch(t){case"keypress":if(_i(a)===0)break e;case"keydown":case"keyup":Y=Ba;break;case"focusin":Ce="focus",Y=Va;break;case"focusout":Ce="blur",Y=Va;break;case"beforeblur":case"afterblur":Y=Va;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Nd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=su;break;case Vg:case Lg:case Ug:Y=La;break;case Bg:Y=au;break;case"scroll":case"scrollend":Y=Wc;break;case"wheel":Y=za;break;case"copy":case"cut":case"paste":Y=Ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=dl;break;case"toggle":case"beforetoggle":Y=lu}var we=(s&4)!==0,it=!we&&(t==="scroll"||t==="scrollend"),B=we?G!==null?G+"Capture":null:G;we=[];for(var V=F,H;V!==null;){var W=V;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||B===null||(W=Lr(V,B),W!=null&&we.push(Hl(V,W,H))),it)break;V=V.return}0<we.length&&(G=new Y(G,Ce,null,a,X),ee.push({event:G,listeners:we}))}}if((s&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",G&&a!==Zi&&(Ce=a.relatedTarget||a.fromElement)&&(Ki(Ce)||Ce[kn]))break e;if((Y||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(Ce=a.relatedTarget||a.toElement,Y=F,Ce=Ce?Ki(Ce):null,Ce!==null&&(it=c(Ce),we=Ce.tag,Ce!==it||we!==5&&we!==27&&we!==6)&&(Ce=null)):(Y=null,Ce=F),Y!==Ce)){if(we=Bn,W="onMouseLeave",B="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(we=dl,W="onPointerLeave",B="onPointerEnter",V="pointer"),it=Y==null?G:mi(Y),H=Ce==null?G:mi(Ce),G=new we(W,V+"leave",Y,a,X),G.target=it,G.relatedTarget=H,W=null,Ki(X)===F&&(we=new we(B,V+"enter",Ce,a,X),we.target=H,we.relatedTarget=it,W=we),it=W,Y&&Ce)t:{for(we=Y,B=Ce,V=0,H=we;H;H=fo(H))V++;for(H=0,W=B;W;W=fo(W))H++;for(;0<V-H;)we=fo(we),V--;for(;0<H-V;)B=fo(B),H--;for(;V--;){if(we===B||B!==null&&we===B.alternate)break t;we=fo(we),B=fo(B)}we=null}else we=null;Y!==null&&ov(ee,G,Y,we,!1),Ce!==null&&it!==null&&ov(ee,it,Ce,we,!0)}}e:{if(G=F?mi(F):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var fe=Rg;else if(Ut(G))if(Cg)fe=Wb;else{fe=Qb;var je=Kb}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&rl(F.elementType)&&(fe=Rg):fe=Xb;if(fe&&(fe=fe(t,F))){is(ee,fe,a,X);break e}je&&je(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Ps(G,"number",G.value)}switch(je=F?mi(F):window,t){case"focusin":(Ut(je)||je.contentEditable==="true")&&(qa=je,Pd=F,pl=null);break;case"focusout":pl=Pd=qa=null;break;case"mousedown":kd=!0;break;case"contextmenu":case"mouseup":case"dragend":kd=!1,Pg(ee,a,X);break;case"selectionchange":if(Jb)break;case"keydown":case"keyup":Pg(ee,a,X)}var _e;if(Ti)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else qe?$(t,a)&&(be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(E&&a.locale!=="ko"&&(qe||be!=="onCompositionStart"?be==="onCompositionEnd"&&qe&&(_e=ol()):(yi=X,ks="value"in yi?yi.value:yi.textContent,qe=!0)),je=Qu(F,be),0<je.length&&(be=new ul(be,t,null,a,X),ee.push({event:be,listeners:je}),_e?be.data=_e:(_e=re(a),_e!==null&&(be.data=_e)))),(_e=_?Lt(t,a):He(t,a))&&(be=Qu(F,"onBeforeInput"),0<be.length&&(je=new ul("onBeforeInput","beforeinput",null,a,X),ee.push({event:je,listeners:be}),je.data=_e)),PS(ee,t,F,a,X)}rv(ee,s)})}function Hl(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Qu(t,s){for(var a=s+"Capture",l=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Lr(t,a),d!=null&&l.unshift(Hl(t,d,m)),d=Lr(t,s),d!=null&&l.push(Hl(t,d,m))),t.tag===3)return l;t=t.return}return[]}function fo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ov(t,s,a,l,d){for(var m=s._reactName,T=[];a!==null&&a!==l;){var b=a,N=b.alternate,F=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||F===null||(N=F,d?(F=Lr(a,m),F!=null&&T.unshift(Hl(a,F,N))):d||(F=Lr(a,m),F!=null&&T.push(Hl(a,F,N)))),a=a.return}T.length!==0&&t.push({event:s,listeners:T})}var US=/\r\n?/g,BS=/\u0000|\uFFFD/g;function lv(t){return(typeof t=="string"?t:""+t).replace(US,`
`).replace(BS,"")}function cv(t,s){return s=lv(s),lv(t)===s}function Xu(){}function nt(t,s,a,l,d,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Vn(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Vn(t,""+l);break;case"className":pi(t,"class",l);break;case"tabIndex":pi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pi(t,a,l);break;case"style":sl(t,l,m);break;case"data":if(s!=="object"){pi(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ma(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&nt(t,s,"name",d.name,d,null),nt(t,s,"formEncType",d.formEncType,d,null),nt(t,s,"formMethod",d.formMethod,d,null),nt(t,s,"formTarget",d.formTarget,d,null)):(nt(t,s,"encType",d.encType,d,null),nt(t,s,"method",d.method,d,null),nt(t,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ma(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Xu);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ma(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),js(t,"popover",l);break;case"xlinkActuate":Qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":js(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Id.get(a)||a,js(t,a,l))}}function am(t,s,a,l,d,m){switch(a){case"style":sl(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Vn(t,l):(typeof l=="number"||typeof l=="bigint")&&Vn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ia.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),m=t[xt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(s,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):js(t,a,l)}}}function Jt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var T=a[m];if(T!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:nt(t,s,m,T,a,null)}}d&&nt(t,s,"srcSet",a.srcSet,a,null),l&&nt(t,s,"src",a.src,a,null);return;case"input":ke("invalid",t);var b=m=T=d=null,N=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":d=X;break;case"type":T=X;break;case"checked":N=X;break;case"defaultChecked":F=X;break;case"value":m=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:nt(t,s,l,X,a,null)}}Pr(t,m,b,N,F,T,d,!1),Oa(t);return;case"select":ke("invalid",t),l=T=m=null;for(d in a)if(a.hasOwnProperty(d)&&(b=a[d],b!=null))switch(d){case"value":m=b;break;case"defaultValue":T=b;break;case"multiple":l=b;default:nt(t,s,d,b,a,null)}s=m,a=T,t.multiple=!!l,s!=null?Wi(t,!!l,s,!1):a!=null&&Wi(t,!!l,a,!0);return;case"textarea":ke("invalid",t),m=d=l=null;for(T in a)if(a.hasOwnProperty(T)&&(b=a[T],b!=null))switch(T){case"value":l=b;break;case"defaultValue":d=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:nt(t,s,T,b,a,null)}kr(t,l,d,m),Oa(t);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(t,s,N,l,a,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<ql.length;l++)ke(ql[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:nt(t,s,F,l,a,null)}return;default:if(rl(s)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&am(t,s,X,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&nt(t,s,b,l,a,null))}function zS(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,T=null,b=null,N=null,F=null,X=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty(Y)||nt(t,s,Y,null,l,ee)}}for(var G in l){var Y=l[G];if(ee=a[G],l.hasOwnProperty(G)&&(Y!=null||ee!=null))switch(G){case"type":m=Y;break;case"name":d=Y;break;case"checked":F=Y;break;case"defaultChecked":X=Y;break;case"value":T=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Y!==ee&&nt(t,s,G,Y,l,ee)}}Tn(t,T,b,N,F,X,m,d);return;case"select":Y=T=b=G=null;for(m in a)if(N=a[m],a.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":Y=N;default:l.hasOwnProperty(m)||nt(t,s,m,null,l,N)}for(d in l)if(m=l[d],N=a[d],l.hasOwnProperty(d)&&(m!=null||N!=null))switch(d){case"value":G=m;break;case"defaultValue":b=m;break;case"multiple":T=m;default:m!==N&&nt(t,s,d,m,l,N)}s=b,a=T,l=Y,G!=null?Wi(t,!!a,G,!1):!!l!=!!a&&(s!=null?Wi(t,!!a,s,!0):Wi(t,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(b in a)if(d=a[b],a.hasOwnProperty(b)&&d!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:nt(t,s,b,null,l,d)}for(T in l)if(d=l[T],m=a[T],l.hasOwnProperty(T)&&(d!=null||m!=null))switch(T){case"value":G=d;break;case"defaultValue":Y=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==m&&nt(t,s,T,d,l,m)}et(t,G,Y);return;case"option":for(var Ce in a)if(G=a[Ce],a.hasOwnProperty(Ce)&&G!=null&&!l.hasOwnProperty(Ce))switch(Ce){case"selected":t.selected=!1;break;default:nt(t,s,Ce,null,l,G)}for(N in l)if(G=l[N],Y=a[N],l.hasOwnProperty(N)&&G!==Y&&(G!=null||Y!=null))switch(N){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:nt(t,s,N,G,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)G=a[we],a.hasOwnProperty(we)&&G!=null&&!l.hasOwnProperty(we)&&nt(t,s,we,null,l,G);for(F in l)if(G=l[F],Y=a[F],l.hasOwnProperty(F)&&G!==Y&&(G!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:nt(t,s,F,G,l,Y)}return;default:if(rl(s)){for(var it in a)G=a[it],a.hasOwnProperty(it)&&G!==void 0&&!l.hasOwnProperty(it)&&am(t,s,it,void 0,l,G);for(X in l)G=l[X],Y=a[X],!l.hasOwnProperty(X)||G===Y||G===void 0&&Y===void 0||am(t,s,X,G,l,Y);return}}for(var B in a)G=a[B],a.hasOwnProperty(B)&&G!=null&&!l.hasOwnProperty(B)&&nt(t,s,B,null,l,G);for(ee in l)G=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||G===Y||G==null&&Y==null||nt(t,s,ee,G,l,Y)}var om=null,lm=null;function Wu(t){return t.nodeType===9?t:t.ownerDocument}function uv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hv(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function cm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var um=null;function qS(){var t=window.event;return t&&t.type==="popstate"?t===um?!1:(um=t,!0):(um=null,!1)}var dv=typeof setTimeout=="function"?setTimeout:void 0,HS=typeof clearTimeout=="function"?clearTimeout:void 0,fv=typeof Promise=="function"?Promise:void 0,FS=typeof queueMicrotask=="function"?queueMicrotask:typeof fv<"u"?function(t){return fv.resolve(null).then(t).catch(GS)}:dv;function GS(t){setTimeout(function(){throw t})}function Zs(t){return t==="head"}function mv(t,s){var a=s,l=0,d=0;do{var m=a.nextSibling;if(t.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var T=t.ownerDocument;if(a&1&&Fl(T.documentElement),a&2&&Fl(T.body),a&4)for(a=T.head,Fl(a),T=a.firstChild;T;){var b=T.nextSibling,N=T.nodeName;T[Dr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=b}}if(d===0){t.removeChild(m),Zl(s);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Zl(s)}function hm(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hm(a),Ms(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function YS(t,s,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Dr])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=ni(t.nextSibling),t===null)break}return null}function $S(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ni(t.nextSibling),t===null))return null;return t}function dm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function KS(t,s){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ni(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}var fm=null;function pv(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return t;s--}else a==="/$"&&s++}t=t.previousSibling}return null}function gv(t,s,a){switch(s=Wu(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Fl(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ms(t)}var $n=new Map,yv=new Set;function Zu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gs=ae.d;ae.d={f:QS,r:XS,D:WS,C:ZS,L:JS,m:eA,X:nA,S:tA,M:iA};function QS(){var t=gs.f(),s=Hu();return t||s}function XS(t){var s=fi(t);s!==null&&s.tag===5&&s.type==="form"?Vy(s):gs.r(t)}var mo=typeof document>"u"?null:document;function _v(t,s,a){var l=mo;if(l&&typeof s=="string"&&s){var d=Nt(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),yv.has(d)||(yv.add(d),t={rel:t,crossOrigin:a,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),Jt(s,"link",t),bt(s),l.head.appendChild(s)))}}function WS(t){gs.D(t),_v("dns-prefetch",t,null)}function ZS(t,s){gs.C(t,s),_v("preconnect",t,s)}function JS(t,s,a){gs.L(t,s,a);var l=mo;if(l&&t&&s){var d='link[rel="preload"][as="'+Nt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Nt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Nt(a.imageSizes)+'"]')):d+='[href="'+Nt(t)+'"]';var m=d;switch(s){case"style":m=po(t);break;case"script":m=go(t)}$n.has(m)||(t=v({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),$n.set(m,t),l.querySelector(d)!==null||s==="style"&&l.querySelector(Gl(m))||s==="script"&&l.querySelector(Yl(m))||(s=l.createElement("link"),Jt(s,"link",t),bt(s),l.head.appendChild(s)))}}function eA(t,s){gs.m(t,s);var a=mo;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Nt(l)+'"][href="'+Nt(t)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=go(t)}if(!$n.has(m)&&(t=v({rel:"modulepreload",href:t},s),$n.set(m,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yl(m)))return}l=a.createElement("link"),Jt(l,"link",t),bt(l),a.head.appendChild(l)}}}function tA(t,s,a){gs.S(t,s,a);var l=mo;if(l&&t){var d=hn(l).hoistableStyles,m=po(t);s=s||"default";var T=d.get(m);if(!T){var b={loading:0,preload:null};if(T=l.querySelector(Gl(m)))b.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":s},a),(a=$n.get(m))&&mm(t,a);var N=T=l.createElement("link");bt(N),Jt(N,"link",t),N._p=new Promise(function(F,X){N.onload=F,N.onerror=X}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Ju(T,s,l)}T={type:"stylesheet",instance:T,count:1,state:b},d.set(m,T)}}}function nA(t,s){gs.X(t,s);var a=mo;if(a&&t){var l=hn(a).hoistableScripts,d=go(t),m=l.get(d);m||(m=a.querySelector(Yl(d)),m||(t=v({src:t,async:!0},s),(s=$n.get(d))&&pm(t,s),m=a.createElement("script"),bt(m),Jt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function iA(t,s){gs.M(t,s);var a=mo;if(a&&t){var l=hn(a).hoistableScripts,d=go(t),m=l.get(d);m||(m=a.querySelector(Yl(d)),m||(t=v({src:t,async:!0,type:"module"},s),(s=$n.get(d))&&pm(t,s),m=a.createElement("script"),bt(m),Jt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function vv(t,s,a,l){var d=(d=Re.current)?Zu(d):null;if(!d)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=po(a.href),a=hn(d).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=po(a.href);var m=hn(d).hoistableStyles,T=m.get(t);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,T),(m=d.querySelector(Gl(t)))&&!m._p&&(T.instance=m,T.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),m||sA(d,t,a,T.state))),s&&l===null)throw Error(r(528,""));return T}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=go(a),a=hn(d).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function po(t){return'href="'+Nt(t)+'"'}function Gl(t){return'link[rel="stylesheet"]['+t+"]"}function Ev(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function sA(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Jt(s,"link",a),bt(s),t.head.appendChild(s))}function go(t){return'[src="'+Nt(t)+'"]'}function Yl(t){return"script[async]"+t}function Tv(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+Nt(a.href)+'"]');if(l)return s.instance=l,bt(l),l;var d=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Jt(l,"style",d),Ju(l,a.precedence,t),s.instance=l;case"stylesheet":d=po(a.href);var m=t.querySelector(Gl(d));if(m)return s.state.loading|=4,s.instance=m,bt(m),m;l=Ev(a),(d=$n.get(d))&&mm(l,d),m=(t.ownerDocument||t).createElement("link"),bt(m);var T=m;return T._p=new Promise(function(b,N){T.onload=b,T.onerror=N}),Jt(m,"link",l),s.state.loading|=4,Ju(m,a.precedence,t),s.instance=m;case"script":return m=go(a.src),(d=t.querySelector(Yl(m)))?(s.instance=d,bt(d),d):(l=a,(d=$n.get(m))&&(l=v({},a),pm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),bt(d),Jt(d,"link",l),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Ju(l,a.precedence,t));return s.instance}function Ju(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,T=0;T<l.length;T++){var b=l[T];if(b.dataset.precedence===s)m=b;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function mm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function pm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var eh=null;function wv(t,s,a){if(eh===null){var l=new Map,d=eh=new Map;d.set(a,l)}else d=eh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var m=a[d];if(!(m[Dr]||m[Vt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(s)||"";T=t+T;var b=l.get(T);b?b.push(m):l.set(T,[m])}}return l}function bv(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function rA(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Sv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var $l=null;function aA(){}function oA(t,s,a){if($l===null)throw Error(r(475));var l=$l;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=po(a.href),m=t.querySelector(Gl(d));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=th.bind(l),t.then(l,l)),s.state.loading|=4,s.instance=m,bt(m);return}m=t.ownerDocument||t,a=Ev(a),(d=$n.get(d))&&mm(a,d),m=m.createElement("link"),bt(m);var T=m;T._p=new Promise(function(b,N){T.onload=b,T.onerror=N}),Jt(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=th.bind(l),t.addEventListener("load",s),t.addEventListener("error",s))}}function lA(){if($l===null)throw Error(r(475));var t=$l;return t.stylesheets&&t.count===0&&gm(t,t.stylesheets),0<t.count?function(s){var a=setTimeout(function(){if(t.stylesheets&&gm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(a)}}:null}function th(){if(this.count--,this.count===0){if(this.stylesheets)gm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var nh=null;function gm(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,nh=new Map,s.forEach(cA,t),nh=null,th.call(t))}function cA(t,s){if(!(s.state.loading&4)){var a=nh.get(t);if(a)var l=a.get(null);else{a=new Map,nh.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var T=d[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}d=s.instance,T=d.getAttribute("data-precedence"),m=a.get(T)||l,m===l&&a.set(null,d),a.set(T,d),this.count++,l=th.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var Kl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function uA(t,s,a,l,d,m,T,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.hiddenUpdates=Yi(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Av(t,s,a,l,d,m,T,b,N,F,X,ee){return t=new uA(t,s,a,T,b,N,F,ee),s=1,m===!0&&(s|=24),m=bn(3,null,null,s),t.current=m,m.stateNode=t,s=Xd(),s.refCount++,t.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},ef(m),t}function Rv(t){return t?(t=Ya,t):Ya}function Cv(t,s,a,l,d,m){d=Rv(d),l.context===null?l.context=d:l.pendingContext=d,l=Us(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Bs(t,l,s),a!==null&&(In(a,t,s),Sl(a,t,s))}function Iv(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function ym(t,s){Iv(t,s),(t=t.alternate)&&Iv(t,s)}function xv(t){if(t.tag===13){var s=Ga(t,67108864);s!==null&&In(s,t,67108864),ym(t,67108864)}}var ih=!0;function hA(t,s,a,l){var d=K.T;K.T=null;var m=ae.p;try{ae.p=2,_m(t,s,a,l)}finally{ae.p=m,K.T=d}}function dA(t,s,a,l){var d=K.T;K.T=null;var m=ae.p;try{ae.p=8,_m(t,s,a,l)}finally{ae.p=m,K.T=d}}function _m(t,s,a,l){if(ih){var d=vm(l);if(d===null)rm(t,s,l,sh,a),Dv(t,l);else if(mA(d,t,s,a,l))l.stopPropagation();else if(Dv(t,l),s&4&&-1<fA.indexOf(t)){for(;d!==null;){var m=fi(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=Wn(m.pendingLanes);if(T!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var N=1<<31-st(T);b.entanglements[1]|=N,T&=~N}Ci(m),(Xe&6)===0&&(zu=pn()+500,zl(0))}}break;case 13:b=Ga(m,2),b!==null&&In(b,m,2),Hu(),ym(m,2)}if(m=vm(l),m===null&&rm(t,s,l,sh,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else rm(t,s,l,null,a)}}function vm(t){return t=Ln(t),Em(t)}var sh=null;function Em(t){if(sh=null,t=Ki(t),t!==null){var s=c(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=h(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return sh=t,null}function Nv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ve()){case Aa:return 2;case Ir:return 8;case xs:case $o:return 32;case le:return 268435456;default:return 32}default:return 32}}var Tm=!1,Js=null,er=null,tr=null,Ql=new Map,Xl=new Map,nr=[],fA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dv(t,s){switch(t){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Ql.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(s.pointerId)}}function Wl(t,s,a,l,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},s!==null&&(s=fi(s),s!==null&&xv(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function mA(t,s,a,l,d){switch(s){case"focusin":return Js=Wl(Js,t,s,a,l,d),!0;case"dragenter":return er=Wl(er,t,s,a,l,d),!0;case"mouseover":return tr=Wl(tr,t,s,a,l,d),!0;case"pointerover":var m=d.pointerId;return Ql.set(m,Wl(Ql.get(m)||null,t,s,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,Xl.set(m,Wl(Xl.get(m)||null,t,s,a,l,d)),!0}return!1}function Ov(t){var s=Ki(t.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){t.blockedOn=s,Hc(t.priority,function(){if(a.tag===13){var l=Cn();l=Ns(l);var d=Ga(a,l);d!==null&&In(d,a,l),ym(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rh(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=vm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Zi=l,a.target.dispatchEvent(l),Zi=null}else return s=fi(a),s!==null&&xv(s),t.blockedOn=a,!1;s.shift()}return!0}function Mv(t,s,a){rh(t)&&a.delete(s)}function pA(){Tm=!1,Js!==null&&rh(Js)&&(Js=null),er!==null&&rh(er)&&(er=null),tr!==null&&rh(tr)&&(tr=null),Ql.forEach(Mv),Xl.forEach(Mv)}function ah(t,s){t.blockedOn===s&&(t.blockedOn=null,Tm||(Tm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,pA)))}var oh=null;function jv(t){oh!==t&&(oh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){oh===t&&(oh=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],d=t[s+2];if(typeof l!="function"){if(Em(l||a)===null)continue;break}var m=fi(a);m!==null&&(t.splice(s,3),s-=3,Ef(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Zl(t){function s(N){return ah(N,t)}Js!==null&&ah(Js,t),er!==null&&ah(er,t),tr!==null&&ah(tr,t),Ql.forEach(s),Xl.forEach(s);for(var a=0;a<nr.length;a++){var l=nr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<nr.length&&(a=nr[0],a.blockedOn===null);)Ov(a),a.blockedOn===null&&nr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],T=d[xt]||null;if(typeof m=="function")T||jv(a);else if(T){var b=null;if(m&&m.hasAttribute("formAction")){if(d=m,T=m[xt]||null)b=T.formAction;else if(Em(d)!==null)continue}else b=T.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),jv(a)}}}function wm(t){this._internalRoot=t}lh.prototype.render=wm.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=Cn();Cv(a,l,t,s,null,null)},lh.prototype.unmount=wm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Cv(t.current,2,null,t,null,null),Hu(),s[kn]=null}};function lh(t){this._internalRoot=t}lh.prototype.unstable_scheduleHydration=function(t){if(t){var s=Ds();t={blockedOn:null,target:t,priority:s};for(var a=0;a<nr.length&&s!==0&&s<nr[a].priority;a++);nr.splice(a,0,t),a===0&&Ov(t)}};var Pv=e.version;if(Pv!=="19.1.1")throw Error(r(527,Pv,"19.1.1"));ae.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(s),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var gA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{ge=ch.inject(gA),Te=ch}catch{}}return ec.createRoot=function(t,s){if(!o(t))throw Error(r(299));var a=!1,l="",d=Wy,m=Zy,T=Jy,b=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks)),s=Av(t,1,!1,null,null,a,l,d,m,T,b,null),t[kn]=s.current,sm(t),new wm(s)},ec.hydrateRoot=function(t,s,a){if(!o(t))throw Error(r(299));var l=!1,d="",m=Wy,T=Zy,b=Jy,N=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),s=Av(t,1,!0,s,a??null,l,d,m,T,b,N,F),s.context=Rv(null),a=s.current,l=Cn(),l=Ns(l),d=Us(l),d.callback=null,Bs(a,d,l),a=l,s.current.lanes=a,$i(s,a),Ci(s),t[kn]=s.current,sm(t),new lh(s)},ec.version="19.1.1",ec}var Gv;function RA(){if(Gv)return Am.exports;Gv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Am.exports=AA(),Am.exports}var CA=RA();const IA=KT(CA);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yv="popstate";function xA(i={}){function e(r,o){let{pathname:c,search:h,hash:p}=r.location;return $m("",{pathname:c,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:pc(o)}return DA(e,n,null,i)}function pt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function oi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NA(){return Math.random().toString(36).substring(2,10)}function $v(i,e){return{usr:i.state,key:i.key,idx:e}}function $m(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Lo(e):e,state:n,key:e&&e.key||r||NA()}}function pc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Lo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function DA(i,e,n,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,h=o.history,p="POP",g=null,y=v();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function v(){return(h.state||{idx:null}).idx}function w(){p="POP";let L=v(),J=L==null?null:L-y;y=L,g&&g({action:p,location:z.location,delta:J})}function S(L,J){p="PUSH";let Q=$m(z.location,L,J);y=v()+1;let ie=$v(Q,y),he=z.createHref(Q);try{h.pushState(ie,"",he)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(he)}c&&g&&g({action:p,location:z.location,delta:1})}function I(L,J){p="REPLACE";let Q=$m(z.location,L,J);y=v();let ie=$v(Q,y),he=z.createHref(Q);h.replaceState(ie,"",he),c&&g&&g({action:p,location:z.location,delta:0})}function x(L){return OA(L)}let z={get action(){return p},get location(){return i(o,h)},listen(L){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Yv,w),g=L,()=>{o.removeEventListener(Yv,w),g=null}},createHref(L){return e(o,L)},createURL:x,encodeLocation(L){let J=x(L);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:S,replace:I,go(L){return h.go(L)}};return z}function OA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),pt(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:pc(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function XT(i,e,n="/"){return MA(i,e,n,!1)}function MA(i,e,n,r){let o=typeof e=="string"?Lo(e):e,c=ws(o.pathname||"/",n);if(c==null)return null;let h=WT(i);jA(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=GA(c);p=HA(h[g],y,r)}return p}function WT(i,e=[],n=[],r="",o=!1){let c=(h,p,g=o,y)=>{let v={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&g)return;pt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let w=vs([r,v.relativePath]),S=n.concat(v);h.children&&h.children.length>0&&(pt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),WT(h.children,e,S,w,g)),!(h.path==null&&!h.index)&&e.push({path:w,score:zA(w,h.index),routesMeta:S})};return i.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))c(h,p);else for(let g of ZT(h.path))c(h,p,!0,g)}),e}function ZT(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let h=ZT(r.join("/")),p=[];return p.push(...h.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...h),p.map(g=>i.startsWith("/")&&g===""?"/":g)}function jA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:qA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var PA=/^:[\w-]+$/,kA=3,VA=2,LA=1,UA=10,BA=-2,Kv=i=>i==="*";function zA(i,e){let n=i.split("/"),r=n.length;return n.some(Kv)&&(r+=BA),e&&(r+=VA),n.filter(o=>!Kv(o)).reduce((o,c)=>o+(PA.test(c)?kA:c===""?LA:UA),r)}function qA(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function HA(i,e,n=!1){let{routesMeta:r}=i,o={},c="/",h=[];for(let p=0;p<r.length;++p){let g=r[p],y=p===r.length-1,v=c==="/"?e:e.slice(c.length)||"/",w=Dh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},v),S=g.route;if(!w&&y&&n&&!r[r.length-1].route.index&&(w=Dh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:vs([c,w.pathname]),pathnameBase:QA(vs([c,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(c=vs([c,w.pathnameBase]))}return h}function Dh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=FA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((y,{paramName:v,isOptional:w},S)=>{if(v==="*"){let x=p[S]||"";h=c.slice(0,c.length-x.length).replace(/(.)\/+$/,"$1")}const I=p[S];return w&&!I?y[v]=void 0:y[v]=(I||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:i}}function FA(i,e=!1,n=!0){oi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function GA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ws(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}function YA(i,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof i=="string"?Lo(i):i;return{pathname:n?n.startsWith("/")?n:$A(n,e):e,search:XA(r),hash:WA(o)}}function $A(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function xm(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function JT(i){let e=KA(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ew(i,e,n,r=!1){let o;typeof i=="string"?o=Lo(i):(o={...i},pt(!o.pathname||!o.pathname.includes("?"),xm("?","pathname","search",o)),pt(!o.pathname||!o.pathname.includes("#"),xm("#","pathname","hash",o)),pt(!o.search||!o.search.includes("#"),xm("#","search","hash",o)));let c=i===""||o.pathname==="",h=c?"/":o.pathname,p;if(h==null)p=n;else{let w=e.length-1;if(!r&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}p=w>=0?e[w]:"/"}let g=YA(o,p),y=h&&h!=="/"&&h.endsWith("/"),v=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||v)&&(g.pathname+="/"),g}var vs=i=>i.join("/").replace(/\/\/+/g,"/"),QA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),XA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,WA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function ZA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var tw=["POST","PUT","PATCH","DELETE"];new Set(tw);var JA=["GET",...tw];new Set(JA);var Uo=M.createContext(null);Uo.displayName="DataRouter";var ed=M.createContext(null);ed.displayName="DataRouterState";M.createContext(!1);var nw=M.createContext({isTransitioning:!1});nw.displayName="ViewTransition";var eR=M.createContext(new Map);eR.displayName="Fetchers";var tR=M.createContext(null);tR.displayName="Await";var Ui=M.createContext(null);Ui.displayName="Navigation";var Rc=M.createContext(null);Rc.displayName="Location";var ui=M.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var Sp=M.createContext(null);Sp.displayName="RouteError";function nR(i,{relative:e}={}){pt(Cc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(Ui),{hash:o,pathname:c,search:h}=Ic(i,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:vs([n,c])),r.createHref({pathname:p,search:h,hash:o})}function Cc(){return M.useContext(Rc)!=null}function br(){return pt(Cc(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Rc).location}var iw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sw(i){M.useContext(Ui).static||M.useLayoutEffect(i)}function Mn(){let{isDataRoute:i}=M.useContext(ui);return i?_R():iR()}function iR(){pt(Cc(),"useNavigate() may be used only in the context of a <Router> component.");let i=M.useContext(Uo),{basename:e,navigator:n}=M.useContext(Ui),{matches:r}=M.useContext(ui),{pathname:o}=br(),c=JSON.stringify(JT(r)),h=M.useRef(!1);return sw(()=>{h.current=!0}),M.useCallback((g,y={})=>{if(oi(h.current,iw),!h.current)return;if(typeof g=="number"){n.go(g);return}let v=ew(g,JSON.parse(c),o,y.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:vs([e,v.pathname])),(y.replace?n.replace:n.push)(v,y.state,y)},[e,n,c,o,i])}var sR=M.createContext(null);function rR(i){let e=M.useContext(ui).outlet;return e&&M.createElement(sR.Provider,{value:i},e)}function aR(){let{matches:i}=M.useContext(ui),e=i[i.length-1];return e?e.params:{}}function Ic(i,{relative:e}={}){let{matches:n}=M.useContext(ui),{pathname:r}=br(),o=JSON.stringify(JT(n));return M.useMemo(()=>ew(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function oR(i,e){return rw(i,e)}function rw(i,e,n,r,o){pt(Cc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=M.useContext(Ui),{matches:h}=M.useContext(ui),p=h[h.length-1],g=p?p.params:{},y=p?p.pathname:"/",v=p?p.pathnameBase:"/",w=p&&p.route;{let Q=w&&w.path||"";aw(y,!w||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let S=br(),I;if(e){let Q=typeof e=="string"?Lo(e):e;pt(v==="/"||Q.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),I=Q}else I=S;let x=I.pathname||"/",z=x;if(v!=="/"){let Q=v.replace(/^\//,"").split("/");z="/"+x.replace(/^\//,"").split("/").slice(Q.length).join("/")}let L=XT(i,{pathname:z});oi(w||L!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),oi(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=dR(L&&L.map(Q=>Object.assign({},Q,{params:Object.assign({},g,Q.params),pathname:vs([v,c.encodeLocation?c.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?v:vs([v,c.encodeLocation?c.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),h,n,r,o);return e&&J?M.createElement(Rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},J):J}function lR(){let i=yR(),e=ZA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:c},"ErrorBoundary")," or"," ",M.createElement("code",{style:c},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:o},n):null,h)}var cR=M.createElement(lR,null),uR=class extends M.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?M.createElement(ui.Provider,{value:this.props.routeContext},M.createElement(Sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hR({routeContext:i,match:e,children:n}){let r=M.useContext(Uo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(ui.Provider,{value:i},n)}function dR(i,e=[],n=null,r=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,h=n?.errors;if(h!=null){let y=c.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);pt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,g=-1;if(n)for(let y=0;y<c.length;y++){let v=c[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(g=y),v.route.id){let{loaderData:w,errors:S}=n,I=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||I){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((y,v,w)=>{let S,I=!1,x=null,z=null;n&&(S=h&&v.route.id?h[v.route.id]:void 0,x=v.route.errorElement||cR,p&&(g<0&&w===0?(aw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,z=null):g===w&&(I=!0,z=v.route.hydrateFallbackElement||null)));let L=e.concat(c.slice(0,w+1)),J=()=>{let Q;return S?Q=x:I?Q=z:v.route.Component?Q=M.createElement(v.route.Component,null):v.route.element?Q=v.route.element:Q=y,M.createElement(hR,{match:v,routeContext:{outlet:y,matches:L,isDataRoute:n!=null},children:Q})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?M.createElement(uR,{location:n.location,revalidation:n.revalidation,component:x,error:S,children:J(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:r}):J()},null)}function Ap(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fR(i){let e=M.useContext(Uo);return pt(e,Ap(i)),e}function mR(i){let e=M.useContext(ed);return pt(e,Ap(i)),e}function pR(i){let e=M.useContext(ui);return pt(e,Ap(i)),e}function Rp(i){let e=pR(i),n=e.matches[e.matches.length-1];return pt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function gR(){return Rp("useRouteId")}function yR(){let i=M.useContext(Sp),e=mR("useRouteError"),n=Rp("useRouteError");return i!==void 0?i:e.errors?.[n]}function _R(){let{router:i}=fR("useNavigate"),e=Rp("useNavigate"),n=M.useRef(!1);return sw(()=>{n.current=!0}),M.useCallback(async(o,c={})=>{oi(n.current,iw),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var Qv={};function aw(i,e,n){!e&&!Qv[i]&&(Qv[i]=!0,oi(!1,n))}M.memo(vR);function vR({routes:i,future:e,state:n,unstable_onError:r}){return rw(i,void 0,n,r,e)}function Cp(i){return rR(i.context)}function lt(i){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ER({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:c=!1}){pt(!Cc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:h,navigator:o,static:c,future:{}}),[h,o,c]);typeof n=="string"&&(n=Lo(n));let{pathname:g="/",search:y="",hash:v="",state:w=null,key:S="default"}=n,I=M.useMemo(()=>{let x=ws(g,h);return x==null?null:{location:{pathname:x,search:y,hash:v,state:w,key:S},navigationType:r}},[h,g,y,v,w,S,r]);return oi(I!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:M.createElement(Ui.Provider,{value:p},M.createElement(Rc.Provider,{children:e,value:I}))}function TR({children:i,location:e}){return oR(Km(i),e)}function Km(i,e=[]){let n=[];return M.Children.forEach(i,(r,o)=>{if(!M.isValidElement(r))return;let c=[...e,o];if(r.type===M.Fragment){n.push.apply(n,Km(r.props.children,c));return}pt(r.type===lt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=Km(r.props.children,c)),n.push(h)}),n}var _h="get",vh="application/x-www-form-urlencoded";function td(i){return i!=null&&typeof i.tagName=="string"}function wR(i){return td(i)&&i.tagName.toLowerCase()==="button"}function bR(i){return td(i)&&i.tagName.toLowerCase()==="form"}function SR(i){return td(i)&&i.tagName.toLowerCase()==="input"}function AR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function RR(i,e){return i.button===0&&(!e||e==="_self")&&!AR(i)}function Qm(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,n)=>{let r=i[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function CR(i,e){let n=Qm(i);return e&&e.forEach((r,o)=>{n.has(o)||e.getAll(o).forEach(c=>{n.append(o,c)})}),n}var uh=null;function IR(){if(uh===null)try{new FormData(document.createElement("form"),0),uh=!1}catch{uh=!0}return uh}var xR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nm(i){return i!=null&&!xR.has(i)?(oi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vh}"`),null):i}function NR(i,e){let n,r,o,c,h;if(bR(i)){let p=i.getAttribute("action");r=p?ws(p,e):null,n=i.getAttribute("method")||_h,o=Nm(i.getAttribute("enctype"))||vh,c=new FormData(i)}else if(wR(i)||SR(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||p.getAttribute("action");if(r=g?ws(g,e):null,n=i.getAttribute("formmethod")||p.getAttribute("method")||_h,o=Nm(i.getAttribute("formenctype"))||Nm(p.getAttribute("enctype"))||vh,c=new FormData(p,i),!IR()){let{name:y,type:v,value:w}=i;if(v==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,w)}}else{if(td(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_h,r=null,o=vh,h=i}return c&&o==="text/plain"&&(h=c,c=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ip(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function DR(i,e,n){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ws(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function OR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function jR(i,e,n){let r=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await OR(c,n);return h.links?h.links():[]}return[]}));return LR(r.flat(1).filter(MR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Xv(i,e,n,r,o,c){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>h(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let v=r.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function PR(i,e,{includeHydrateFallback:n}={}){return kR(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function kR(i){return[...new Set(i)]}function VR(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function LR(i,e){let n=new Set;return new Set(e),i.reduce((r,o)=>{let c=JSON.stringify(VR(o));return n.has(c)||(n.add(c),r.push({key:c,link:o})),r},[])}function ow(){let i=M.useContext(Uo);return Ip(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function UR(){let i=M.useContext(ed);return Ip(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var xp=M.createContext(void 0);xp.displayName="FrameworkContext";function lw(){let i=M.useContext(xp);return Ip(i,"You must render this element inside a <HydratedRouter> element"),i}function BR(i,e){let n=M.useContext(xp),[r,o]=M.useState(!1),[c,h]=M.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:v,onTouchStart:w}=e,S=M.useRef(null);M.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let z=J=>{J.forEach(Q=>{h(Q.isIntersecting)})},L=new IntersectionObserver(z,{threshold:.5});return S.current&&L.observe(S.current),()=>{L.disconnect()}}},[i]),M.useEffect(()=>{if(r){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[r]);let I=()=>{o(!0)},x=()=>{o(!1),h(!1)};return n?i!=="intent"?[c,S,{}]:[c,S,{onFocus:tc(p,I),onBlur:tc(g,x),onMouseEnter:tc(y,I),onMouseLeave:tc(v,x),onTouchStart:tc(w,I)}]:[!1,S,{}]}function tc(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function zR({page:i,...e}){let{router:n}=ow(),r=M.useMemo(()=>XT(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?M.createElement(HR,{page:i,matches:r,...e}):null}function qR(i){let{manifest:e,routeModules:n}=lw(),[r,o]=M.useState([]);return M.useEffect(()=>{let c=!1;return jR(i,e,n).then(h=>{c||o(h)}),()=>{c=!0}},[i,e,n]),r}function HR({page:i,matches:e,...n}){let r=br(),{manifest:o,routeModules:c}=lw(),{basename:h}=ow(),{loaderData:p,matches:g}=UR(),y=M.useMemo(()=>Xv(i,e,g,o,r,"data"),[i,e,g,o,r]),v=M.useMemo(()=>Xv(i,e,g,o,r,"assets"),[i,e,g,o,r]),w=M.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let x=new Set,z=!1;if(e.forEach(J=>{let Q=o.routes[J.route.id];!Q||!Q.hasLoader||(!y.some(ie=>ie.route.id===J.route.id)&&J.route.id in p&&c[J.route.id]?.shouldRevalidate||Q.hasClientLoader?z=!0:x.add(J.route.id))}),x.size===0)return[];let L=DR(i,h,"data");return z&&x.size>0&&L.searchParams.set("_routes",e.filter(J=>x.has(J.route.id)).map(J=>J.route.id).join(",")),[L.pathname+L.search]},[h,p,r,o,y,e,i,c]),S=M.useMemo(()=>PR(v,o),[v,o]),I=qR(v);return M.createElement(M.Fragment,null,w.map(x=>M.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),S.map(x=>M.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),I.map(({key:x,link:z})=>M.createElement("link",{key:x,nonce:n.nonce,...z})))}function FR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var cw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cw&&(window.__reactRouterVersion="7.8.2")}catch{}function GR({basename:i,children:e,window:n}){let r=M.useRef();r.current==null&&(r.current=xA({window:n,v5Compat:!0}));let o=r.current,[c,h]=M.useState({action:o.action,location:o.location}),p=M.useCallback(g=>{M.startTransition(()=>h(g))},[h]);return M.useLayoutEffect(()=>o.listen(p),[o,p]),M.createElement(ER,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:o})}var uw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xn=M.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:c,replace:h,state:p,target:g,to:y,preventScrollReset:v,viewTransition:w,...S},I){let{basename:x}=M.useContext(Ui),z=typeof y=="string"&&uw.test(y),L,J=!1;if(typeof y=="string"&&z&&(L=y,cw))try{let C=new URL(window.location.href),O=y.startsWith("//")?new URL(C.protocol+y):new URL(y),k=ws(O.pathname,x);O.origin===C.origin&&k!=null?y=k+O.search+O.hash:J=!0}catch{oi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=nR(y,{relative:o}),[ie,he,ue]=BR(r,S),pe=KR(y,{replace:h,state:p,target:g,preventScrollReset:v,relative:o,viewTransition:w});function P(C){e&&e(C),C.defaultPrevented||pe(C)}let R=M.createElement("a",{...S,...ue,href:L||Q,onClick:J||c?e:P,ref:FR(I,he),target:g,"data-discover":!z&&n==="render"?"true":void 0});return ie&&!z?M.createElement(M.Fragment,null,R,M.createElement(zR,{page:Q})):R});xn.displayName="Link";var si=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:c,to:h,viewTransition:p,children:g,...y},v){let w=Ic(h,{relative:y.relative}),S=br(),I=M.useContext(ed),{navigator:x,basename:z}=M.useContext(Ui),L=I!=null&&eC(w)&&p===!0,J=x.encodeLocation?x.encodeLocation(w).pathname:w.pathname,Q=S.pathname,ie=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),ie=ie?ie.toLowerCase():null,J=J.toLowerCase()),ie&&z&&(ie=ws(ie,z)||ie);const he=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let ue=Q===J||!o&&Q.startsWith(J)&&Q.charAt(he)==="/",pe=ie!=null&&(ie===J||!o&&ie.startsWith(J)&&ie.charAt(J.length)==="/"),P={isActive:ue,isPending:pe,isTransitioning:L},R=ue?e:void 0,C;typeof r=="function"?C=r(P):C=[r,ue?"active":null,pe?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let O=typeof c=="function"?c(P):c;return M.createElement(xn,{...y,"aria-current":R,className:C,ref:v,style:O,to:h,viewTransition:p},typeof g=="function"?g(P):g)});si.displayName="NavLink";var YR=M.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:c,method:h=_h,action:p,onSubmit:g,relative:y,preventScrollReset:v,viewTransition:w,...S},I)=>{let x=ZR(),z=JR(p,{relative:y}),L=h.toLowerCase()==="get"?"get":"post",J=typeof p=="string"&&uw.test(p),Q=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let he=ie.nativeEvent.submitter,ue=he?.getAttribute("formmethod")||h;x(he||ie.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:c,relative:y,preventScrollReset:v,viewTransition:w})};return M.createElement("form",{ref:I,method:L,action:z,onSubmit:r?g:Q,...S,"data-discover":!J&&i==="render"?"true":void 0})});YR.displayName="Form";function $R(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hw(i){let e=M.useContext(Uo);return pt(e,$R(i)),e}function KR(i,{target:e,replace:n,state:r,preventScrollReset:o,relative:c,viewTransition:h}={}){let p=Mn(),g=br(),y=Ic(i,{relative:c});return M.useCallback(v=>{if(RR(v,e)){v.preventDefault();let w=n!==void 0?n:pc(g)===pc(y);p(i,{replace:w,state:r,preventScrollReset:o,relative:c,viewTransition:h})}},[g,p,y,n,r,e,i,o,c,h])}function QR(i){oi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=M.useRef(Qm(i)),n=M.useRef(!1),r=br(),o=M.useMemo(()=>CR(r.search,n.current?null:e.current),[r.search]),c=Mn(),h=M.useCallback((p,g)=>{const y=Qm(typeof p=="function"?p(new URLSearchParams(o)):p);n.current=!0,c("?"+y,g)},[c,o]);return[o,h]}var XR=0,WR=()=>`__${String(++XR)}__`;function ZR(){let{router:i}=hw("useSubmit"),{basename:e}=M.useContext(Ui),n=gR();return M.useCallback(async(r,o={})=>{let{action:c,method:h,encType:p,formData:g,body:y}=NR(r,e);if(o.navigate===!1){let v=o.fetcherKey||WR();await i.fetch(v,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await i.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function JR(i,{relative:e}={}){let{basename:n}=M.useContext(Ui),r=M.useContext(ui);pt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Ic(i||".",{relative:e})},h=br();if(i==null){c.search=h.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(v=>v==="")){p.delete("index"),g.filter(w=>w).forEach(w=>p.append("index",w));let v=p.toString();c.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:vs([n,c.pathname])),pc(c)}function eC(i,{relative:e}={}){let n=M.useContext(nw);pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hw("useViewTransitionState"),o=Ic(i,{relative:e});if(!n.isTransitioning)return!1;let c=ws(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=ws(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Dh(o.pathname,h)!=null||Dh(o.pathname,c)!=null}const tC=()=>{};var Wv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},nC=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const o=i[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],h=i[n++],p=i[n++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],h=i[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},fw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const c=i[o],h=o+1<i.length,p=h?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,v=c>>2,w=(c&3)<<4|p>>4;let S=(p&15)<<2|y>>6,I=y&63;g||(I=64,h||(S=64)),r.push(n[v],n[w],n[S],n[I])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(dw(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):nC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],p=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||p==null||y==null||w==null)throw new iC;const S=c<<2|p>>4;if(r.push(S),y!==64){const I=p<<4&240|y>>2;if(r.push(I),w!==64){const x=y<<6&192|w;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class iC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sC=function(i){const e=dw(i);return fw.encodeByteArray(e,!0)},Oh=function(i){return sC(i).replace(/\./g,"")},mw=function(i){try{return fw.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=()=>rC().__FIREBASE_DEFAULTS__,oC=()=>{if(typeof process>"u"||typeof Wv>"u")return;const i=Wv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},lC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&mw(i[1]);return e&&JSON.parse(e)},nd=()=>{try{return tC()||aC()||oC()||lC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},pw=i=>nd()?.emulatorHosts?.[i],gw=i=>{const e=pw(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yw=()=>nd()?.config,_w=i=>nd()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Np(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Oh(JSON.stringify(n)),Oh(JSON.stringify(h)),""].join(".")}const lc={};function uC(){const i={prod:[],emulator:[]};for(const e of Object.keys(lc))lc[e]?i.emulator.push(e):i.prod.push(e);return i}function hC(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Zv=!1;function Dp(i,e){if(typeof window>"u"||typeof document>"u"||!va(window.location.host)||lc[i]===e||lc[i]||Zv)return;lc[i]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",c=uC().prod.length>0;function h(){const S=document.getElementById(r);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,I){S.setAttribute("width","24"),S.setAttribute("id",I),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Zv=!0,h()},S}function v(S,I){S.setAttribute("id",I),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=hC(r),I=n("text"),x=document.getElementById(I)||document.createElement("span"),z=n("learnmore"),L=document.getElementById(z)||document.createElement("a"),J=n("preprendIcon"),Q=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ie=S.element;p(ie),v(L,z);const he=y();g(Q,J),ie.append(Q,x,L,he),document.body.appendChild(ie)}c?(x.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function fC(){const i=nd()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function gC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yC(){const i=un();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function _C(){return!fC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vC(){try{return typeof indexedDB=="object"}catch{return!1}}function EC(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="FirebaseError";class Bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TC,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xc.prototype.create)}}class xc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?wC(c,r):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Bi(o,p,r)}}function wC(i,e){return i.replace(bC,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const bC=/\{\$([^}]+)}/g;function SC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function da(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=i[o],h=e[o];if(Jv(c)&&Jv(h)){if(!da(c,h))return!1}else if(c!==h)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Jv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nc(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function ic(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function AC(i,e){const n=new RC(i,e);return n.subscribe.bind(n)}class RC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");CC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Dm),o.error===void 0&&(o.error=Dm),o.complete===void 0&&(o.complete=Dm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CC(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(i){return i&&i._delegate?i._delegate:i}class gr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NC(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&h.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xC(i){return i===ca?void 0:i}function NC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const OC={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},MC=Le.INFO,jC={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},PC=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=jC[e];if(o)console[o](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Op{constructor(e){this.name=e,this._logLevel=MC,this._logHandler=PC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const kC=(i,e)=>e.some(n=>i instanceof n);let eE,tE;function VC(){return eE||(eE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LC(){return tE||(tE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ew=new WeakMap,Xm=new WeakMap,Tw=new WeakMap,Om=new WeakMap,Mp=new WeakMap;function UC(i){const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{n(hr(i.result)),o()},h=()=>{r(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Ew.set(n,i)}).catch(()=>{}),Mp.set(e,i),e}function BC(i){if(Xm.has(i))return;const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});Xm.set(i,e)}let Wm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Xm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Tw.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function zC(i){Wm=i(Wm)}function qC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(Mm(this),e,...n);return Tw.set(r,e.sort?e.sort():[e]),hr(r)}:LC().includes(i)?function(...e){return i.apply(Mm(this),e),hr(Ew.get(this))}:function(...e){return hr(i.apply(Mm(this),e))}}function HC(i){return typeof i=="function"?qC(i):(i instanceof IDBTransaction&&BC(i),kC(i,VC())?new Proxy(i,Wm):i)}function hr(i){if(i instanceof IDBRequest)return UC(i);if(Om.has(i))return Om.get(i);const e=HC(i);return e!==i&&(Om.set(i,e),Mp.set(e,i)),e}const Mm=i=>Mp.get(i);function FC(i,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const h=indexedDB.open(i,e),p=hr(h);return r&&h.addEventListener("upgradeneeded",g=>{r(hr(h.result),g.oldVersion,g.newVersion,hr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const GC=["get","getKey","getAll","getAllKeys","count"],YC=["put","add","delete","clear"],jm=new Map;function nE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(jm.get(e))return jm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=YC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||GC.includes(n)))return;const c=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return jm.set(e,c),c}zC(i=>({...i,get:(e,n,r)=>nE(e,n)||i.get(e,n,r),has:(e,n)=>!!nE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function KC(i){return i.getComponent()?.type==="VERSION"}const Zm="@firebase/app",iE="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new Op("@firebase/app"),QC="@firebase/app-compat",XC="@firebase/analytics-compat",WC="@firebase/analytics",ZC="@firebase/app-check-compat",JC="@firebase/app-check",eI="@firebase/auth",tI="@firebase/auth-compat",nI="@firebase/database",iI="@firebase/data-connect",sI="@firebase/database-compat",rI="@firebase/functions",aI="@firebase/functions-compat",oI="@firebase/installations",lI="@firebase/installations-compat",cI="@firebase/messaging",uI="@firebase/messaging-compat",hI="@firebase/performance",dI="@firebase/performance-compat",fI="@firebase/remote-config",mI="@firebase/remote-config-compat",pI="@firebase/storage",gI="@firebase/storage-compat",yI="@firebase/firestore",_I="@firebase/ai",vI="@firebase/firestore-compat",EI="firebase",TI="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="[DEFAULT]",wI={[Zm]:"fire-core",[QC]:"fire-core-compat",[WC]:"fire-analytics",[XC]:"fire-analytics-compat",[JC]:"fire-app-check",[ZC]:"fire-app-check-compat",[eI]:"fire-auth",[tI]:"fire-auth-compat",[nI]:"fire-rtdb",[iI]:"fire-data-connect",[sI]:"fire-rtdb-compat",[rI]:"fire-fn",[aI]:"fire-fn-compat",[oI]:"fire-iid",[lI]:"fire-iid-compat",[cI]:"fire-fcm",[uI]:"fire-fcm-compat",[hI]:"fire-perf",[dI]:"fire-perf-compat",[fI]:"fire-rc",[mI]:"fire-rc-compat",[pI]:"fire-gcs",[gI]:"fire-gcs-compat",[yI]:"fire-fst",[vI]:"fire-fst-compat",[_I]:"fire-vertex","fire-js":"fire-js",[EI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,bI=new Map,ep=new Map;function sE(i,e){try{i.container.addComponent(e)}catch(n){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function fa(i){const e=i.name;if(ep.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,i);for(const n of Mh.values())sE(n,i);for(const n of bI.values())sE(n,i);return!0}function id(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Nn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new xc("app","Firebase",SI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=TI;function ww(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:Jm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw dr.create("bad-app-name",{appName:String(o)});if(n||(n=yw()),!n)throw dr.create("no-options");const c=Mh.get(o);if(c){if(da(n,c.options)&&da(r,c.config))return c;throw dr.create("duplicate-app",{appName:o})}const h=new DC(o);for(const g of ep.values())h.addComponent(g);const p=new AI(n,r,h);return Mh.set(o,p),p}function jp(i=Jm){const e=Mh.get(i);if(!e&&i===Jm&&yw())return ww();if(!e)throw dr.create("no-app",{appName:i});return e}function Ni(i,e,n){let r=wI[i]??i;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(h.join(" "));return}fa(new gr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI="firebase-heartbeat-database",CI=1,gc="firebase-heartbeat-store";let Pm=null;function bw(){return Pm||(Pm=FC(RI,CI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(gc)}catch(n){console.warn(n)}}}}).catch(i=>{throw dr.create("idb-open",{originalErrorMessage:i.message})})),Pm}async function II(i){try{const n=(await bw()).transaction(gc),r=await n.objectStore(gc).get(Sw(i));return await n.done,r}catch(e){if(e instanceof Bi)bs.warn(e.message);else{const n=dr.create("idb-get",{originalErrorMessage:e?.message});bs.warn(n.message)}}}async function rE(i,e){try{const r=(await bw()).transaction(gc,"readwrite");await r.objectStore(gc).put(e,Sw(i)),await r.done}catch(n){if(n instanceof Bi)bs.warn(n.message);else{const r=dr.create("idb-set",{originalErrorMessage:n?.message});bs.warn(r.message)}}}function Sw(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=1024,NI=30;class DI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=aE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>NI){const o=jI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=aE(),{heartbeatsToSend:n,unsentEntries:r}=OI(this._heartbeatsCache.heartbeats),o=Oh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return bs.warn(e),""}}}function aE(){return new Date().toISOString().substring(0,10)}function OI(i,e=xI){const n=[];let r=i.slice();for(const o of i){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),oE(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),oE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vC()?EC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await II(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function oE(i){return Oh(JSON.stringify({version:2,heartbeats:i})).length}function jI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(i){fa(new gr("platform-logger",e=>new $C(e),"PRIVATE")),fa(new gr("heartbeat",e=>new DI(e),"PRIVATE")),Ni(Zm,iE,i),Ni(Zm,iE,"esm2020"),Ni("fire-js","")}PI("");function Aw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kI=Aw,Rw=new xc("auth","Firebase",Aw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new Op("@firebase/auth");function VI(i,...e){jh.logLevel<=Le.WARN&&jh.warn(`Auth (${Ea}): ${i}`,...e)}function Eh(i,...e){jh.logLevel<=Le.ERROR&&jh.error(`Auth (${Ea}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(i,...e){throw Pp(i,...e)}function Di(i,...e){return Pp(i,...e)}function Cw(i,e,n){const r={...kI(),[e]:n};return new xc("auth","Firebase",r).create(e,{appName:i.name})}function Es(i){return Cw(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pp(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return Rw.create(i,...e)}function Se(i,e,...n){if(!i)throw Pp(e,...n)}function ys(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Eh(e),new Error(e)}function Ss(i,e){i||ys(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){return typeof self<"u"&&self.location?.href||""}function LI(){return lE()==="http:"||lE()==="https:"}function lE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LI()||pC()||"connection"in navigator)?navigator.onLine:!0}function BI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ss(n>e,"Short delay should be less than long delay!"),this.isMobile=dC()||gC()}get(){return UI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(i,e){Ss(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HI=new Dc(3e4,6e4);function Sr(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Is(i,e,n,r,o={}){return xw(i,o,async()=>{let c={},h={};r&&(e==="GET"?h=r:c={body:JSON.stringify(r)});const p=Nc({key:i.config.apiKey,...h}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...c};return mC()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&va(i.emulatorConfig.host)&&(y.credentials="include"),Iw.fetch()(await Nw(i,i.config.apiHost,n,p),y)})}async function xw(i,e,n){i._canInitEmulator=!1;const r={...zI,...e};try{const o=new GI(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw hh(i,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw hh(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw hh(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw hh(i,"user-disabled",h);const v=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Cw(i,v,y);li(i,v)}}catch(o){if(o instanceof Bi)throw o;li(i,"network-request-failed",{message:String(o)})}}async function Oc(i,e,n,r,o={}){const c=await Is(i,e,n,r,o);return"mfaPendingCredential"in c&&li(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function Nw(i,e,n,r){const o=`${e}${n}?${r}`,c=i,h=c.config.emulator?kp(i.config,o):`${i.config.apiScheme}://${o}`;return qI.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function FI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Di(this.auth,"network-request-failed")),HI.get())})}}function hh(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Di(i,e,r);return o.customData._tokenResponse=n,o}function cE(i){return i!==void 0&&i.enterprise!==void 0}class YI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $I(i,e){return Is(i,"GET","/v2/recaptchaConfig",Sr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(i,e){return Is(i,"POST","/v1/accounts:delete",e)}async function Ph(i,e){return Is(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QI(i,e=!1){const n=Ct(i),r=await n.getIdToken(e),o=Vp(r);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:r,authTime:cc(km(o.auth_time)),issuedAtTime:cc(km(o.iat)),expirationTime:cc(km(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function km(i){return Number(i)*1e3}function Vp(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=mw(n);return o?JSON.parse(o):(Eh("Failed to decode base64 JWT payload"),null)}catch(o){return Eh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function uE(i){const e=Vp(i);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bi&&XI(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function XI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cc(this.lastLoginAt),this.creationTime=cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(i){const e=i.auth,n=await i.getIdToken(),r=await Do(i,Ph(e,{idToken:n}));Se(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?Dw(o.providerUserInfo):[],h=JI(i.providerData,c),p=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!h?.length,y=p?g:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new np(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,v)}async function ZI(i){const e=Ct(i);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JI(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Dw(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1(i,e){const n=await xw(i,{},async()=>{const r=Nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,h=await Nw(i,o,"/v1/token",`key=${c}`),p=await i._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return i.emulatorConfig&&va(i.emulatorConfig.host)&&(g.credentials="include"),Iw.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function t1(i,e){return Is(i,"POST","/v2/accounts:revokeToken",Sr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=uE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await e1(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,h=new Ro;return r&&(Se(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),o&&(Se(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Se(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return ys("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(i,e){Se(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new WI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new np(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Do(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QI(this,e)}reload(){return ZI(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await kh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await Do(this,KI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:w,emailVerified:S,isAnonymous:I,providerData:x,stsTokenManager:z}=n;Se(w&&z,e,"internal-error");const L=Ro.fromJSON(this.name,z);Se(typeof w=="string",e,"internal-error"),sr(r,e.name),sr(o,e.name),Se(typeof S=="boolean",e,"internal-error"),Se(typeof I=="boolean",e,"internal-error"),sr(c,e.name),sr(h,e.name),sr(p,e.name),sr(g,e.name),sr(y,e.name),sr(v,e.name);const J=new ri({uid:w,auth:e,email:o,emailVerified:S,displayName:r,isAnonymous:I,photoURL:h,phoneNumber:c,tenantId:p,stsTokenManager:L,createdAt:y,lastLoginAt:v});return x&&Array.isArray(x)&&(J.providerData=x.map(Q=>({...Q}))),g&&(J._redirectEventId=g),J}static async _fromIdTokenResponse(e,n,r=!1){const o=new Ro;o.updateFromServerResponse(n);const c=new ri({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await kh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Dw(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,p=new Ro;p.updateFromIdToken(r);const g=new ri({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new np(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=new Map;function _s(i){Ss(i instanceof Function,"Expected a class definition");let e=hE.get(i);return e?(Ss(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,hE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ow.type="NONE";const dE=Ow;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(i,e,n){return`firebase:${i}:${e}:${n}`}class Co{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Th(this.userKey,o.apiKey,c),this.fullPersistenceKey=Th("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ph(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Co(_s(dE),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||_s(dE);const h=Th(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const v=await y._get(h);if(v){let w;if(typeof v=="string"){const S=await Ph(e,{idToken:v}).catch(()=>{});if(!S)break;w=await ri._fromGetAccountInfoResponse(e,S,v)}else w=ri._fromJSON(e,v);y!==c&&(p=w),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Co(c,e,r):(c=g[0],p&&await c._set(h,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new Co(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lw(e))return"Blackberry";if(Uw(e))return"Webos";if(jw(e))return"Safari";if((e.includes("chrome/")||Pw(e))&&!e.includes("edge/"))return"Chrome";if(Vw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function Mw(i=un()){return/firefox\//i.test(i)}function jw(i=un()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pw(i=un()){return/crios\//i.test(i)}function kw(i=un()){return/iemobile/i.test(i)}function Vw(i=un()){return/android/i.test(i)}function Lw(i=un()){return/blackberry/i.test(i)}function Uw(i=un()){return/webos/i.test(i)}function Lp(i=un()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function n1(i=un()){return Lp(i)&&!!window.navigator?.standalone}function i1(){return yC()&&document.documentMode===10}function Bw(i=un()){return Lp(i)||Vw(i)||Uw(i)||Lw(i)||/windows phone/i.test(i)||kw(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(i,e=[]){let n;switch(i){case"Browser":n=fE(un());break;case"Worker":n=`${fE(un())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ea}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((h,p)=>{try{const g=e(c);h(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(i,e={}){return Is(i,"GET","/v2/passwordPolicy",Sr(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=6;class o1{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??a1,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mE(this),this.idTokenSubscription=new mE(this),this.beforeStateQueue=new s1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_s(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ph(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Nn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&p?.user&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(Es(this));const n=e?Ct(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await r1(this),n=new o1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new xc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await t1(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_s(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[_s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&VI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ta(i){return Ct(i)}class mE{constructor(e){this.auth=e,this.observer=null,this.addObserver=AC(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c1(i){sd=i}function qw(i){return sd.loadJS(i)}function u1(){return sd.recaptchaEnterpriseScript}function h1(){return sd.gapiScript}function d1(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class f1{constructor(){this.enterprise=new m1}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class m1{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const p1="recaptcha-enterprise",Hw="NO_RECAPTCHA";class g1{constructor(e){this.type=p1,this.auth=Ta(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,p)=>{$I(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new YI(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,h,p){const g=window.grecaptcha;cE(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(Hw)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new f1().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{r(this.auth).then(p=>{if(!n&&cE(window.grecaptcha))o(p,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=u1();g.length!==0&&(g+=p),qw(g).then(()=>{o(p,c,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function pE(i,e,n,r=!1,o=!1){const c=new g1(i);let h;if(o)h=Hw;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function ip(i,e,n,r,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await pE(i,e,n,n==="getOobCode");return r(i,c)}else return r(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await pE(i,e,n,n==="getOobCode");return r(i,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(i,e){const n=id(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(da(c,e??{}))return o;li(o,"already-initialized")}return n.initialize({options:e})}function _1(i,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(_s);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function v1(i,e,n){const r=Ta(i);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=Fw(e),{host:h,port:p}=E1(e),g=p===null?"":`:${p}`,y={url:`${c}//${h}${g}/`},v=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(da(y,r.config.emulator)&&da(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,va(h)?(Np(`${c}//${h}${g}`),Dp("Auth",!0)):T1()}function Fw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function E1(i){const e=Fw(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:gE(r.substr(c.length+1))}}else{const[c,h]=r.split(":");return{host:c,port:gE(h)}}}function gE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function T1(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ys("not implemented")}_getIdTokenResponse(e){return ys("not implemented")}_linkToIdToken(e,n){return ys("not implemented")}_getReauthenticationResolver(e){return ys("not implemented")}}async function w1(i,e){return Is(i,"POST","/v1/accounts:update",e)}async function b1(i,e){return Is(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(i,e){return Oc(i,"POST","/v1/accounts:signInWithPassword",Sr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(i,e){return Oc(i,"POST","/v1/accounts:signInWithEmailLink",Sr(i,e))}async function R1(i,e){return Oc(i,"POST","/v1/accounts:signInWithEmailLink",Sr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends Up{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new yc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ip(e,n,"signInWithPassword",S1);case"emailLink":return A1(e,{email:this._email,oobCode:this._password});default:li(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ip(e,r,"signUpPassword",b1);case"emailLink":return R1(e,{idToken:n,email:this._email,oobCode:this._password});default:li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(i,e){return Oc(i,"POST","/v1/accounts:signInWithIdp",Sr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="http://localhost";class ma extends Up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const h=new ma(r,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Io(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Io(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Io(e,n)}buildRequest(){const e={requestUri:C1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function x1(i){const e=nc(ic(i)).link,n=e?nc(ic(e)).deep_link_id:null,r=nc(ic(i)).deep_link_id;return(r?nc(ic(r)).link:null)||r||n||e||i}class Bp{constructor(e){const n=nc(ic(e)),r=n.apiKey??null,o=n.oobCode??null,c=I1(n.mode??null);Se(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=x1(e);try{return new Bp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.providerId=Bo.PROVIDER_ID}static credential(e,n){return yc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bp.parseLink(n);return Se(r,"argument-error"),yc._fromEmailAndCode(e,r.code,r.tenantId)}}Bo.PROVIDER_ID="password";Bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends Gw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Mc{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ma._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return or.credential(n,r)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Mc{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Mc{constructor(){super("twitter.com")}static credential(e,n){return ma._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return cr.credential(n,r)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N1(i,e){return Oc(i,"POST","/v1/accounts:signUp",Sr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await ri._fromIdTokenResponse(e,r,o),h=yE(r);return new pa({user:c,providerId:h,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=yE(r);return new pa({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function yE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends Bi{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Vh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Vh(e,n,r,o)}}function Yw(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Vh._fromErrorAndOperation(i,c,e,r):c})}async function D1(i,e,n=!1){const r=await Do(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return pa._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O1(i,e,n=!1){const{auth:r}=i;if(Nn(r.app))return Promise.reject(Es(r));const o="reauthenticate";try{const c=await Do(i,Yw(r,o,e,i),n);Se(c.idToken,r,"internal-error");const h=Vp(c.idToken);Se(h,r,"internal-error");const{sub:p}=h;return Se(i.uid===p,r,"user-mismatch"),pa._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&li(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $w(i,e,n=!1){if(Nn(i.app))return Promise.reject(Es(i));const r="signIn",o=await Yw(i,r,e),c=await pa._fromIdTokenResponse(i,r,o);return n||await i._updateCurrentUser(c.user),c}async function M1(i,e){return $w(Ta(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kw(i){const e=Ta(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function j1(i,e,n){if(Nn(i.app))return Promise.reject(Es(i));const r=Ta(i),h=await ip(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",N1).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Kw(i),g}),p=await pa._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(p.user),p}function P1(i,e,n){return Nn(i.app)?Promise.reject(Es(i)):M1(Ct(i),Bo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Kw(i),r})}function k1(i,e){return V1(Ct(i),null,e)}async function V1(i,e,n){const{auth:r}=i,c={idToken:await i.getIdToken(),returnSecureToken:!0};n&&(c.password=n);const h=await Do(i,w1(r,c));await i._updateTokensIfNecessary(h,!0)}function L1(i,e,n,r){return Ct(i).onIdTokenChanged(e,n,r)}function U1(i,e,n){return Ct(i).beforeAuthStateChanged(e,n)}function B1(i,e,n,r){return Ct(i).onAuthStateChanged(e,n,r)}function z1(i){return Ct(i).signOut()}const Lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lh,"1"),this.storage.removeItem(Lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=1e3,H1=10;class Xw extends Qw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Bw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!n&&this.localCache[r]===h||this.notifyListeners(r,h)},c=this.storage.getItem(r);i1()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,H1):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},q1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xw.type="LOCAL";const F1=Xw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww extends Qw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ww.type="SESSION";const Zw=Ww;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new rd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(h).map(async y=>y(n.origin,c)),g=await G1(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((p,g)=>{const y=zp("",20);o.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(S.data.response);break;default:clearTimeout(v),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function $1(i){Oi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function K1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q1(){return navigator?.serviceWorker?.controller||null}function X1(){return Jw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="firebaseLocalStorageDb",W1=1,Uh="firebaseLocalStorage",t0="fbase_key";class jc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ad(i,e){return i.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function Z1(){const i=indexedDB.deleteDatabase(e0);return new jc(i).toPromise()}function sp(){const i=indexedDB.open(e0,W1);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Uh,{keyPath:t0})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Uh)?e(r):(r.close(),await Z1(),e(await sp()))})})}async function _E(i,e,n){const r=ad(i,!0).put({[t0]:e,value:n});return new jc(r).toPromise()}async function J1(i,e){const n=ad(i,!1).get(e),r=await new jc(n).toPromise();return r===void 0?null:r.value}function vE(i,e){const n=ad(i,!0).delete(e);return new jc(n).toPromise()}const ex=800,tx=3;class n0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rd._getInstance(X1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await K1(),!this.activeServiceWorker)return;this.sender=new Y1(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sp();return await _E(e,Lh,"1"),await vE(e,Lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_E(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>J1(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=ad(o,!1).getAll();return new jc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ex)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n0.type="LOCAL";const nx=n0;new Dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(i,e){return e?_s(e):(Se(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends Up{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sx(i){return $w(i.auth,new qp(i),i.bypassAuthState)}function rx(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),O1(n,new qp(i),i.bypassAuthState)}async function ax(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),D1(n,new qp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sx;case"linkViaPopup":case"linkViaRedirect":return ax;case"reauthViaPopup":case"reauthViaRedirect":return rx;default:li(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=new Dc(2e3,1e4);class bo extends i0{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,bo.currentPopupAction&&bo.currentPopupAction.cancel(),bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ox.get())};e()}}bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="pendingRedirect",wh=new Map;class cx extends i0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wh.get(this.auth._key());if(!e){try{const r=await ux(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ux(i,e){const n=fx(e),r=dx(i);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function hx(i,e){wh.set(i._key(),e)}function dx(i){return _s(i._redirectPersistence)}function fx(i){return Th(lx,i.config.apiKey,i.name)}async function mx(i,e,n=!1){if(Nn(i.app))return Promise.reject(Es(i));const r=Ta(i),o=ix(r,e),h=await new cx(r,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=600*1e3;class gx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!s0(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Di(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=px&&this.cachedEventUids.clear(),this.cachedEventUids.has(EE(e))}saveEventToCache(e){this.cachedEventUids.add(EE(e)),this.lastProcessedEventTime=Date.now()}}function EE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function s0({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function yx(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(i,e={}){return Is(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ex=/^https?/;async function Tx(i){if(i.config.emulator)return;const{authorizedDomains:e}=await _x(i);for(const n of e)try{if(wx(n))return}catch{}li(i,"unauthorized-domain")}function wx(i){const e=tp(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===r}if(!Ex.test(n))return!1;if(vx.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=new Dc(3e4,6e4);function TE(){const i=Oi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function Sx(i){return new Promise((e,n)=>{function r(){TE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TE(),n(Di(i,"network-request-failed"))},timeout:bx.get()})}if(Oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oi().gapi?.load)r();else{const o=d1("iframefcb");return Oi()[o]=()=>{gapi.load?r():n(Di(i,"network-request-failed"))},qw(`${h1()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw bh=null,e})}let bh=null;function Ax(i){return bh=bh||Sx(i),bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=new Dc(5e3,15e3),Cx="__/auth/iframe",Ix="emulator/auth/iframe",xx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dx(i){const e=i.config;Se(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?kp(e,Ix):`https://${i.config.authDomain}/${Cx}`,r={apiKey:e.apiKey,appName:i.name,v:Ea},o=Nx.get(i.config.apiHost);o&&(r.eid=o);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Nc(r).slice(1)}`}async function Ox(i){const e=await Ax(i),n=Oi().gapi;return Se(n,i,"internal-error"),e.open({where:document.body,url:Dx(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xx,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const h=Di(i,"network-request-failed"),p=Oi().setTimeout(()=>{c(h)},Rx.get());function g(){Oi().clearTimeout(p),o(r)}r.ping(g).then(g,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jx=500,Px=600,kx="_blank",Vx="http://localhost";class wE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Lx(i,e,n,r=jx,o=Px){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...Mx,width:r.toString(),height:o.toString(),top:c,left:h},y=un().toLowerCase();n&&(p=Pw(y)?kx:n),Mw(y)&&(e=e||Vx,g.scrollbars="yes");const v=Object.entries(g).reduce((S,[I,x])=>`${S}${I}=${x},`,"");if(n1(y)&&p!=="_self")return Ux(e||"",p),new wE(null);const w=window.open(e||"",p,v);Se(w,i,"popup-blocked");try{w.focus()}catch{}return new wE(w)}function Ux(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="__/auth/handler",zx="emulator/auth/handler",qx=encodeURIComponent("fac");async function bE(i,e,n,r,o,c){Se(i.config.authDomain,i,"auth-domain-config-required"),Se(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:Ea,eventId:o};if(e instanceof Gw){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",SC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))h[v]=w}if(e instanceof Mc){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const p=h;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const g=await i._getAppCheckToken(),y=g?`#${qx}=${encodeURIComponent(g)}`:"";return`${Hx(i)}?${Nc(p).slice(1)}${y}`}function Hx({config:i}){return i.emulator?kp(i,zx):`https://${i.authDomain}/${Bx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="webStorageSupport";class Fx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zw,this._completeRedirectFn=mx,this._overrideRedirectResult=hx}async _openPopup(e,n,r,o){Ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await bE(e,n,r,tp(),o);return Lx(e,c,zp())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await bE(e,n,r,tp(),o);return $1(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Ss(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Ox(e),r=new gx(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vm,{type:Vm},o=>{const c=o?.[0]?.[Vm];c!==void 0&&n(!!c),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Tx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Bw()||jw()||Lp()}}const Gx=Fx;var SE="@firebase/auth",AE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Kx(i){fa(new gr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=r.options;Se(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:h,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zw(i)},y=new l1(r,o,c,g);return _1(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fa(new gr("auth-internal",e=>{const n=Ta(e.getProvider("auth").getImmediate());return(r=>new Yx(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ni(SE,AE,$x(i)),Ni(SE,AE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=300,Xx=_w("authIdTokenMaxAge")||Qx;let RE=null;const Wx=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Xx)return;const o=n?.token;RE!==o&&(RE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Zx(i=jp()){const e=id(i,"auth");if(e.isInitialized())return e.getImmediate();const n=y1(i,{popupRedirectResolver:Gx,persistence:[nx,F1,Zw]}),r=_w("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const h=Wx(c.toString());U1(n,h,()=>h(n.currentUser)),L1(n,p=>h(p))}}const o=pw("auth");return o&&v1(n,`http://${o}`),n}function Jx(){return document.getElementsByTagName("head")?.[0]??document}c1({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const c=Di("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",Jx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kx("Browser");var CE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fr,r0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function C(){}C.prototype=R.prototype,P.D=R.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(O,k,U){for(var D=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)D[yt-2]=arguments[yt];return R.prototype[k].apply(O,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,R,C){C||(C=0);var O=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)O[k]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(k=0;16>k;++k)O[k]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=P.g[0],C=P.g[1],k=P.g[2];var U=P.g[3],D=R+(U^C&(k^U))+O[0]+3614090360&4294967295;R=C+(D<<7&4294967295|D>>>25),D=U+(k^R&(C^k))+O[1]+3905402710&4294967295,U=R+(D<<12&4294967295|D>>>20),D=k+(C^U&(R^C))+O[2]+606105819&4294967295,k=U+(D<<17&4294967295|D>>>15),D=C+(R^k&(U^R))+O[3]+3250441966&4294967295,C=k+(D<<22&4294967295|D>>>10),D=R+(U^C&(k^U))+O[4]+4118548399&4294967295,R=C+(D<<7&4294967295|D>>>25),D=U+(k^R&(C^k))+O[5]+1200080426&4294967295,U=R+(D<<12&4294967295|D>>>20),D=k+(C^U&(R^C))+O[6]+2821735955&4294967295,k=U+(D<<17&4294967295|D>>>15),D=C+(R^k&(U^R))+O[7]+4249261313&4294967295,C=k+(D<<22&4294967295|D>>>10),D=R+(U^C&(k^U))+O[8]+1770035416&4294967295,R=C+(D<<7&4294967295|D>>>25),D=U+(k^R&(C^k))+O[9]+2336552879&4294967295,U=R+(D<<12&4294967295|D>>>20),D=k+(C^U&(R^C))+O[10]+4294925233&4294967295,k=U+(D<<17&4294967295|D>>>15),D=C+(R^k&(U^R))+O[11]+2304563134&4294967295,C=k+(D<<22&4294967295|D>>>10),D=R+(U^C&(k^U))+O[12]+1804603682&4294967295,R=C+(D<<7&4294967295|D>>>25),D=U+(k^R&(C^k))+O[13]+4254626195&4294967295,U=R+(D<<12&4294967295|D>>>20),D=k+(C^U&(R^C))+O[14]+2792965006&4294967295,k=U+(D<<17&4294967295|D>>>15),D=C+(R^k&(U^R))+O[15]+1236535329&4294967295,C=k+(D<<22&4294967295|D>>>10),D=R+(k^U&(C^k))+O[1]+4129170786&4294967295,R=C+(D<<5&4294967295|D>>>27),D=U+(C^k&(R^C))+O[6]+3225465664&4294967295,U=R+(D<<9&4294967295|D>>>23),D=k+(R^C&(U^R))+O[11]+643717713&4294967295,k=U+(D<<14&4294967295|D>>>18),D=C+(U^R&(k^U))+O[0]+3921069994&4294967295,C=k+(D<<20&4294967295|D>>>12),D=R+(k^U&(C^k))+O[5]+3593408605&4294967295,R=C+(D<<5&4294967295|D>>>27),D=U+(C^k&(R^C))+O[10]+38016083&4294967295,U=R+(D<<9&4294967295|D>>>23),D=k+(R^C&(U^R))+O[15]+3634488961&4294967295,k=U+(D<<14&4294967295|D>>>18),D=C+(U^R&(k^U))+O[4]+3889429448&4294967295,C=k+(D<<20&4294967295|D>>>12),D=R+(k^U&(C^k))+O[9]+568446438&4294967295,R=C+(D<<5&4294967295|D>>>27),D=U+(C^k&(R^C))+O[14]+3275163606&4294967295,U=R+(D<<9&4294967295|D>>>23),D=k+(R^C&(U^R))+O[3]+4107603335&4294967295,k=U+(D<<14&4294967295|D>>>18),D=C+(U^R&(k^U))+O[8]+1163531501&4294967295,C=k+(D<<20&4294967295|D>>>12),D=R+(k^U&(C^k))+O[13]+2850285829&4294967295,R=C+(D<<5&4294967295|D>>>27),D=U+(C^k&(R^C))+O[2]+4243563512&4294967295,U=R+(D<<9&4294967295|D>>>23),D=k+(R^C&(U^R))+O[7]+1735328473&4294967295,k=U+(D<<14&4294967295|D>>>18),D=C+(U^R&(k^U))+O[12]+2368359562&4294967295,C=k+(D<<20&4294967295|D>>>12),D=R+(C^k^U)+O[5]+4294588738&4294967295,R=C+(D<<4&4294967295|D>>>28),D=U+(R^C^k)+O[8]+2272392833&4294967295,U=R+(D<<11&4294967295|D>>>21),D=k+(U^R^C)+O[11]+1839030562&4294967295,k=U+(D<<16&4294967295|D>>>16),D=C+(k^U^R)+O[14]+4259657740&4294967295,C=k+(D<<23&4294967295|D>>>9),D=R+(C^k^U)+O[1]+2763975236&4294967295,R=C+(D<<4&4294967295|D>>>28),D=U+(R^C^k)+O[4]+1272893353&4294967295,U=R+(D<<11&4294967295|D>>>21),D=k+(U^R^C)+O[7]+4139469664&4294967295,k=U+(D<<16&4294967295|D>>>16),D=C+(k^U^R)+O[10]+3200236656&4294967295,C=k+(D<<23&4294967295|D>>>9),D=R+(C^k^U)+O[13]+681279174&4294967295,R=C+(D<<4&4294967295|D>>>28),D=U+(R^C^k)+O[0]+3936430074&4294967295,U=R+(D<<11&4294967295|D>>>21),D=k+(U^R^C)+O[3]+3572445317&4294967295,k=U+(D<<16&4294967295|D>>>16),D=C+(k^U^R)+O[6]+76029189&4294967295,C=k+(D<<23&4294967295|D>>>9),D=R+(C^k^U)+O[9]+3654602809&4294967295,R=C+(D<<4&4294967295|D>>>28),D=U+(R^C^k)+O[12]+3873151461&4294967295,U=R+(D<<11&4294967295|D>>>21),D=k+(U^R^C)+O[15]+530742520&4294967295,k=U+(D<<16&4294967295|D>>>16),D=C+(k^U^R)+O[2]+3299628645&4294967295,C=k+(D<<23&4294967295|D>>>9),D=R+(k^(C|~U))+O[0]+4096336452&4294967295,R=C+(D<<6&4294967295|D>>>26),D=U+(C^(R|~k))+O[7]+1126891415&4294967295,U=R+(D<<10&4294967295|D>>>22),D=k+(R^(U|~C))+O[14]+2878612391&4294967295,k=U+(D<<15&4294967295|D>>>17),D=C+(U^(k|~R))+O[5]+4237533241&4294967295,C=k+(D<<21&4294967295|D>>>11),D=R+(k^(C|~U))+O[12]+1700485571&4294967295,R=C+(D<<6&4294967295|D>>>26),D=U+(C^(R|~k))+O[3]+2399980690&4294967295,U=R+(D<<10&4294967295|D>>>22),D=k+(R^(U|~C))+O[10]+4293915773&4294967295,k=U+(D<<15&4294967295|D>>>17),D=C+(U^(k|~R))+O[1]+2240044497&4294967295,C=k+(D<<21&4294967295|D>>>11),D=R+(k^(C|~U))+O[8]+1873313359&4294967295,R=C+(D<<6&4294967295|D>>>26),D=U+(C^(R|~k))+O[15]+4264355552&4294967295,U=R+(D<<10&4294967295|D>>>22),D=k+(R^(U|~C))+O[6]+2734768916&4294967295,k=U+(D<<15&4294967295|D>>>17),D=C+(U^(k|~R))+O[13]+1309151649&4294967295,C=k+(D<<21&4294967295|D>>>11),D=R+(k^(C|~U))+O[4]+4149444226&4294967295,R=C+(D<<6&4294967295|D>>>26),D=U+(C^(R|~k))+O[11]+3174756917&4294967295,U=R+(D<<10&4294967295|D>>>22),D=k+(R^(U|~C))+O[2]+718787259&4294967295,k=U+(D<<15&4294967295|D>>>17),D=C+(U^(k|~R))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,P.g[2]=P.g[2]+k&4294967295,P.g[3]=P.g[3]+U&4294967295}r.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var C=R-this.blockSize,O=this.B,k=this.h,U=0;U<R;){if(k==0)for(;U<=C;)o(this,P,U),U+=this.blockSize;if(typeof P=="string"){for(;U<R;)if(O[k++]=P.charCodeAt(U++),k==this.blockSize){o(this,O),k=0;break}}else for(;U<R;)if(O[k++]=P[U++],k==this.blockSize){o(this,O),k=0;break}}this.h=k,this.o+=R},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var C=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=C&255,C/=256;for(this.u(P),P=Array(16),R=C=0;4>R;++R)for(var O=0;32>O;O+=8)P[C++]=this.g[R]>>>O&255;return P};function c(P,R){var C=p;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=R(P)}function h(P,R){this.h=R;for(var C=[],O=!0,k=P.length-1;0<=k;k--){var U=P[k]|0;O&&U==R||(C[k]=U,O=!1)}this.g=C}var p={};function g(P){return-128<=P&&128>P?c(P,function(R){return new h([R|0],0>R?-1:0)}):new h([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return w;if(0>P)return L(y(-P));for(var R=[],C=1,O=0;P>=C;O++)R[O]=P/C|0,C*=4294967296;return new h(R,0)}function v(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return L(v(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(R,8)),O=w,k=0;k<P.length;k+=8){var U=Math.min(8,P.length-k),D=parseInt(P.substring(k,k+U),R);8>U?(U=y(Math.pow(R,U)),O=O.j(U).add(y(D))):(O=O.j(C),O=O.add(y(D)))}return O}var w=g(0),S=g(1),I=g(16777216);i=h.prototype,i.m=function(){if(z(this))return-L(this).m();for(var P=0,R=1,C=0;C<this.g.length;C++){var O=this.i(C);P+=(0<=O?O:4294967296+O)*R,R*=4294967296}return P},i.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(x(this))return"0";if(z(this))return"-"+L(this).toString(P);for(var R=y(Math.pow(P,6)),C=this,O="";;){var k=he(C,R).g;C=J(C,k.j(R));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=k,x(C))return U+O;for(;6>U.length;)U="0"+U;O=U+O}},i.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function x(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function z(P){return P.h==-1}i.l=function(P){return P=J(this,P),z(P)?-1:x(P)?0:1};function L(P){for(var R=P.g.length,C=[],O=0;O<R;O++)C[O]=~P.g[O];return new h(C,~P.h).add(S)}i.abs=function(){return z(this)?L(this):this},i.add=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],O=0,k=0;k<=R;k++){var U=O+(this.i(k)&65535)+(P.i(k)&65535),D=(U>>>16)+(this.i(k)>>>16)+(P.i(k)>>>16);O=D>>>16,U&=65535,D&=65535,C[k]=D<<16|U}return new h(C,C[C.length-1]&-2147483648?-1:0)};function J(P,R){return P.add(L(R))}i.j=function(P){if(x(this)||x(P))return w;if(z(this))return z(P)?L(this).j(L(P)):L(L(this).j(P));if(z(P))return L(this.j(L(P)));if(0>this.l(I)&&0>P.l(I))return y(this.m()*P.m());for(var R=this.g.length+P.g.length,C=[],O=0;O<2*R;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<P.g.length;k++){var U=this.i(O)>>>16,D=this.i(O)&65535,yt=P.i(k)>>>16,ut=P.i(k)&65535;C[2*O+2*k]+=D*ut,Q(C,2*O+2*k),C[2*O+2*k+1]+=U*ut,Q(C,2*O+2*k+1),C[2*O+2*k+1]+=D*yt,Q(C,2*O+2*k+1),C[2*O+2*k+2]+=U*yt,Q(C,2*O+2*k+2)}for(O=0;O<R;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=R;O<2*R;O++)C[O]=0;return new h(C,0)};function Q(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function ie(P,R){this.g=P,this.h=R}function he(P,R){if(x(R))throw Error("division by zero");if(x(P))return new ie(w,w);if(z(P))return R=he(L(P),R),new ie(L(R.g),L(R.h));if(z(R))return R=he(P,L(R)),new ie(L(R.g),R.h);if(30<P.g.length){if(z(P)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var C=S,O=R;0>=O.l(P);)C=ue(C),O=ue(O);var k=pe(C,1),U=pe(O,1);for(O=pe(O,2),C=pe(C,2);!x(O);){var D=U.add(O);0>=D.l(P)&&(k=k.add(C),U=D),O=pe(O,1),C=pe(C,1)}return R=J(P,k.j(R)),new ie(k,R)}for(k=w;0<=P.l(R);){for(C=Math.max(1,Math.floor(P.m()/R.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),U=y(C),D=U.j(R);z(D)||0<D.l(P);)C-=O,U=y(C),D=U.j(R);x(U)&&(U=S),k=k.add(U),P=J(P,D)}return new ie(k,P)}i.A=function(P){return he(this,P).h},i.and=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)&P.i(O);return new h(C,this.h&P.h)},i.or=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)|P.i(O);return new h(C,this.h|P.h)},i.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)^P.i(O);return new h(C,this.h^P.h)};function ue(P){for(var R=P.g.length+1,C=[],O=0;O<R;O++)C[O]=P.i(O)<<1|P.i(O-1)>>>31;return new h(C,P.h)}function pe(P,R){var C=R>>5;R%=32;for(var O=P.g.length-C,k=[],U=0;U<O;U++)k[U]=0<R?P.i(U+C)>>>R|P.i(U+C+1)<<32-R:P.i(U+C);return new h(k,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,r0=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=v,fr=h}).apply(typeof CE<"u"?CE:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a0,sc,o0,Sh,rp,l0,c0,u0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,_,E){return u==Array.prototype||u==Object.prototype||(u[_]=E.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var _=0;_<u.length;++_){var E=u[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function o(u,_){if(_)e:{var E=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var q=u[A];if(!(q in E))break e;E=E[q]}u=u[u.length-1],A=E[u],_=_(A),_!=A&&_!=null&&e(E,u,{configurable:!0,writable:!0,value:_})}}function c(u,_){u instanceof String&&(u+="");var E=0,A=!1,q={next:function(){if(!A&&E<u.length){var $=E++;return{value:_($,u[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(u){return u||function(){return c(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},p=this||self;function g(u){var _=typeof u;return _=_!="object"?_:u?Array.isArray(u)?"array":_:"null",_=="array"||_=="object"&&typeof u.length=="number"}function y(u){var _=typeof u;return _=="object"&&u!=null||_=="function"}function v(u,_,E){return u.call.apply(u.bind,arguments)}function w(u,_,E){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),u.apply(_,q)}}return function(){return u.apply(_,arguments)}}function S(u,_,E){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,S.apply(null,arguments)}function I(u,_){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function x(u,_){function E(){}E.prototype=_.prototype,u.aa=_.prototype,u.prototype=new E,u.prototype.constructor=u,u.Qb=function(A,q,$){for(var re=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)re[qe-2]=arguments[qe];return _.prototype[q].apply(A,re)}}function z(u){const _=u.length;if(0<_){const E=Array(_);for(let A=0;A<_;A++)E[A]=u[A];return E}return[]}function L(u,_){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(g(A)){const q=u.length||0,$=A.length||0;u.length=q+$;for(let re=0;re<$;re++)u[q+re]=A[re]}else u.push(A)}}class J{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function Q(u){return/^[\s\xa0]*$/.test(u)}function ie(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function he(u){return he[" "](u),u}he[" "]=function(){};var ue=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function pe(u,_,E){for(const A in u)_.call(E,u[A],A,u)}function P(u,_){for(const E in u)_.call(void 0,u[E],E,u)}function R(u){const _={};for(const E in u)_[E]=u[E];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,_){let E,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(E in A)u[E]=A[E];for(let $=0;$<C.length;$++)E=C[$],Object.prototype.hasOwnProperty.call(A,E)&&(u[E]=A[E])}}function k(u){var _=1;u=u.split(":");const E=[];for(;0<_&&u.length;)E.push(u.shift()),_--;return u.length&&E.push(u.join(":")),E}function U(u){p.setTimeout(()=>{throw u},0)}function D(){var u=ze;let _=null;return u.g&&(_=u.g,u.g=u.g.next,u.g||(u.h=null),_.next=null),_}class yt{constructor(){this.h=this.g=null}add(_,E){const A=ut.get();A.set(_,E),this.h?this.h.next=A:this.g=A,this.h=A}}var ut=new J(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ye=!1,ze=new yt,j=()=>{const u=p.Promise.resolve(void 0);ae=()=>{u.then(ne)}};var ne=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(E){U(E)}var _=ut;_.j(u),100>_.h&&(_.h++,u.next=_.g,_.g=u)}ye=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(u,_){this.type=u,this.g=this.target=_,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ve=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,_=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};p.addEventListener("test",E,_),p.removeEventListener("test",E,_)}catch{}return u})();function Oe(u,_){if(se.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var E=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=_,_=u.relatedTarget){if(ue){e:{try{he(_.nodeName);var q=!0;break e}catch{}q=!1}q||(_=null)}}else E=="mouseover"?_=u.fromElement:E=="mouseout"&&(_=u.toElement);this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Re[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Oe.aa.h.call(this)}}x(Oe,se);var Re={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var It="closure_listenable_"+(1e6*Math.random()|0),Je=0;function jn(u,_,E,A,q){this.listener=u,this.proxy=null,this.src=_,this.type=E,this.capture=!!A,this.ha=q,this.key=++Je,this.da=this.fa=!1}function hi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Xn(u){this.src=u,this.g={},this.h=0}Xn.prototype.add=function(u,_,E,A,q){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var re=Hi(u,_,A,q);return-1<re?(_=u[re],E||(_.fa=!1)):(_=new jn(_,this.src,$,!!A,q),_.fa=E,u.push(_)),_};function qi(u,_){var E=_.type;if(E in u.g){var A=u.g[E],q=Array.prototype.indexOf.call(A,_,void 0),$;($=0<=q)&&Array.prototype.splice.call(A,q,1),$&&(hi(_),u.g[E].length==0&&(delete u.g[E],u.h--))}}function Hi(u,_,E,A){for(var q=0;q<u.length;++q){var $=u[q];if(!$.da&&$.listener==_&&$.capture==!!E&&$.ha==A)return q}return-1}var Fi="closure_lm_"+(1e6*Math.random()|0),Cr={};function Sa(u,_,E,A,q){if(Array.isArray(_)){for(var $=0;$<_.length;$++)Sa(u,_[$],E,A,q);return null}return E=Ie(E),u&&u[It]?u.K(_,E,y(A)?!!A.capture:!1,q):pn(u,_,E,!1,A,q)}function pn(u,_,E,A,q,$){if(!_)throw Error("Invalid event type");var re=y(q)?!!q.capture:!!q,qe=le(u);if(qe||(u[Fi]=qe=new Xn(u)),E=qe.add(_,E,A,re,$),E.proxy)return E;if(A=Ve(),E.proxy=A,A.src=u,A.listener=E,u.addEventListener)ve||(q=re),q===void 0&&(q=!1),u.addEventListener(_.toString(),A,q);else if(u.attachEvent)u.attachEvent(xs(_.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ve(){function u(E){return _.call(u.src,u.listener,E)}const _=$o;return u}function Aa(u,_,E,A,q){if(Array.isArray(_))for(var $=0;$<_.length;$++)Aa(u,_[$],E,A,q);else A=y(A)?!!A.capture:!!A,E=Ie(E),u&&u[It]?(u=u.i,_=String(_).toString(),_ in u.g&&($=u.g[_],E=Hi($,E,A,q),-1<E&&(hi($[E]),Array.prototype.splice.call($,E,1),$.length==0&&(delete u.g[_],u.h--)))):u&&(u=le(u))&&(_=u.g[_.toString()],u=-1,_&&(u=Hi(_,E,A,q)),(E=-1<u?_[u]:null)&&Ir(E))}function Ir(u){if(typeof u!="number"&&u&&!u.da){var _=u.src;if(_&&_[It])qi(_.i,u);else{var E=u.type,A=u.proxy;_.removeEventListener?_.removeEventListener(E,A,u.capture):_.detachEvent?_.detachEvent(xs(E),A):_.addListener&&_.removeListener&&_.removeListener(A),(E=le(_))?(qi(E,u),E.h==0&&(E.src=null,_[Fi]=null)):hi(u)}}}function xs(u){return u in Cr?Cr[u]:Cr[u]="on"+u}function $o(u,_){if(u.da)u=!0;else{_=new Oe(_,this);var E=u.listener,A=u.ha||u.src;u.fa&&Ir(u),u=E.call(A,_)}return u}function le(u){return u=u[Fi],u instanceof Xn?u:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(u){return typeof u=="function"?u:(u[me]||(u[me]=function(_){return u.handleEvent(_)}),u[me])}function ge(){oe.call(this),this.i=new Xn(this),this.M=this,this.F=null}x(ge,oe),ge.prototype[It]=!0,ge.prototype.removeEventListener=function(u,_,E,A){Aa(this,u,_,E,A)};function Te(u,_){var E,A=u.F;if(A)for(E=[];A;A=A.F)E.push(A);if(u=u.M,A=_.type||_,typeof _=="string")_=new se(_,u);else if(_ instanceof se)_.target=_.target||u;else{var q=_;_=new se(A,u),O(_,q)}if(q=!0,E)for(var $=E.length-1;0<=$;$--){var re=_.g=E[$];q=ht(re,A,!0,_)&&q}if(re=_.g=u,q=ht(re,A,!0,_)&&q,q=ht(re,A,!1,_)&&q,E)for($=0;$<E.length;$++)re=_.g=E[$],q=ht(re,A,!1,_)&&q}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var u=this.i,_;for(_ in u.g){for(var E=u.g[_],A=0;A<E.length;A++)hi(E[A]);delete u.g[_],u.h--}}this.F=null},ge.prototype.K=function(u,_,E,A){return this.i.add(String(u),_,!1,E,A)},ge.prototype.L=function(u,_,E,A){return this.i.add(String(u),_,!0,E,A)};function ht(u,_,E,A){if(_=u.i.g[String(_)],!_)return!0;_=_.concat();for(var q=!0,$=0;$<_.length;++$){var re=_[$];if(re&&!re.da&&re.capture==E){var qe=re.listener,Lt=re.ha||re.src;re.fa&&qi(u.i,re),q=qe.call(Lt,A)!==!1&&q}}return q&&!A.defaultPrevented}function st(u,_,E){if(typeof u=="function")E&&(u=S(u,E));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:p.setTimeout(u,_||0)}function Pn(u){u.g=st(()=>{u.g=null,u.i&&(u.i=!1,Pn(u))},u.l);const _=u.h;u.h=null,u.m.apply(null,_)}class Tt extends oe{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Pn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wt(u){oe.call(this),this.h=u,this.g={}}x(wt,oe);var Gi=[];function xr(u){pe(u.g,function(_,E){this.g.hasOwnProperty(E)&&Ir(_)},u),u.g={}}wt.prototype.N=function(){wt.aa.N.call(this),xr(this)},wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=p.JSON.stringify,Ra=p.JSON.parse,Nr=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function Ko(){}Ko.prototype.h=null;function Qo(u){return u.h||(u.h=u.i())}function Xo(){}var Yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $i(){se.call(this,"d")}x($i,se);function Wo(){se.call(this,"c")}x(Wo,se);var di={},Zo=null;function Ns(){return Zo=Zo||new ge}di.La="serverreachability";function Ca(u){se.call(this,di.La,u)}x(Ca,se);function Ds(u){const _=Ns();Te(_,new Ca(_))}di.STAT_EVENT="statevent";function Hc(u,_){se.call(this,di.STAT_EVENT,u),this.stat=_}x(Hc,se);function dt(u){const _=Ns();Te(_,new Hc(_,u))}di.Ma="timingevent";function Vt(u,_){se.call(this,di.Ma,u),this.size=_}x(Vt,se);function xt(u,_){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},_)}function kn(){this.g=!0}kn.prototype.xa=function(){this.g=!1};function Jo(u,_,E,A,q,$){u.info(function(){if(u.g)if($)for(var re="",qe=$.split("&"),Lt=0;Lt<qe.length;Lt++){var He=qe[Lt].split("=");if(1<He.length){var Ft=He[0];He=He[1];var Ut=Ft.split("_");re=2<=Ut.length&&Ut[1]=="type"?re+(Ft+"="+He+"&"):re+(Ft+"=redacted&")}}else re=null;else re=$;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+_+`
`+E+`
`+re})}function Ad(u,_,E,A,q,$,re){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+_+`
`+E+`
`+$+" "+re})}function Os(u,_,E,A){u.info(function(){return"XMLHTTP TEXT ("+_+"): "+Dr(u,E)+(A?" "+A:"")})}function Fc(u,_){u.info(function(){return"TIMEOUT: "+_})}kn.prototype.info=function(){};function Dr(u,_){if(!u.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(u=0;u<E.length;u++)if(Array.isArray(E[u])){var A=E[u];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var $=q[0];if($!="noop"&&$!="stop"&&$!="close")for(var re=1;re<q.length;re++)q[re]=""}}}}return Wn(E)}catch{return _}}var Ms={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fi;function mi(){}x(mi,Ko),mi.prototype.g=function(){return new XMLHttpRequest},mi.prototype.i=function(){return{}},fi=new mi;function hn(u,_,E,A){this.j=u,this.i=_,this.l=E,this.R=A||1,this.U=new wt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var el={},Ia={};function Zn(u,_,E){u.L=1,u.v=kr(Tn(_)),u.m=E,u.P=!0,Qi(u,null)}function Qi(u,_){u.F=Date.now(),Or(u),u.A=Tn(u.v);var E=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),al(E.i,"t",A),u.C=0,E=u.j.J,u.h=new bt,u.g=au(u.j,E?_:null,!u.m),0<u.O&&(u.M=new Tt(S(u.Y,u,u.g),u.O)),_=u.U,E=u.g,A=u.ca;var q="readystatechange";Array.isArray(q)||(q&&(Gi[0]=q.toString()),q=Gi);for(var $=0;$<q.length;$++){var re=Sa(E,q[$],A||_.handleEvent,!1,_.h||_);if(!re)break;_.g[re.key]=re}_=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,_)):(u.u="GET",u.g.ea(u.A,u.u,null,_)),Ds(),Jo(u.i,u.u,u.A,u.l,u.R,u.m)}hn.prototype.ca=function(u){u=u.target;const _=this.M;_&&Bn(u)==3?_.j():this.Y(u)},hn.prototype.Y=function(u){try{if(u==this.g)e:{const Ut=Bn(this.g);var _=this.g.Ba();const is=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||Zc(this.g)))){this.J||Ut!=4||_==7||(_==8||0>=is?Ds(3):Ds(2)),js(this);var E=this.g.Z();this.X=E;t:if(Gc(this)){var A=Zc(this.g);u="";var q=A.length,$=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qt(this),pi(this);var re="";break t}this.h.i=new p.TextDecoder}for(_=0;_<q;_++)this.h.h=!0,u+=this.h.i.decode(A[_],{stream:!($&&_==q-1)});A.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=E==200,Ad(this.i,this.u,this.A,this.l,this.R,Ut,E),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Lt=this.g;if((qe=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(qe)){var He=qe;break t}}He=null}if(E=He)Os(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mr(this,E);else{this.o=!1,this.s=3,dt(12),Qt(this),pi(this);break e}}if(this.P){E=!0;let Xt;for(;!this.J&&this.C<re.length;)if(Xt=Yc(this,re),Xt==Ia){Ut==4&&(this.s=4,dt(14),E=!1),Os(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==el){this.s=4,dt(15),Os(this.i,this.l,re,"[Invalid Chunk]"),E=!1;break}else Os(this.i,this.l,Xt,null),Mr(this,Xt);if(Gc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||re.length!=0||this.h.h||(this.s=1,dt(16),E=!1),this.o=this.o&&E,!E)Os(this.i,this.l,re,"[Invalid Chunked Response]"),Qt(this),pi(this);else if(0<re.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),Fr(Ft),Ft.M=!0,dt(11))}}else Os(this.i,this.l,re,null),Mr(this,re);Ut==4&&Qt(this),this.o&&!this.J&&(Ut==4?iu(this.j,this):(this.o=!1,Or(this)))}else Nd(this.g),E==400&&0<re.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Qt(this),pi(this)}}}catch{}finally{}};function Gc(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Yc(u,_){var E=u.C,A=_.indexOf(`
`,E);return A==-1?Ia:(E=Number(_.substring(E,A)),isNaN(E)?el:(A+=1,A+E>_.length?Ia:(_=_.slice(A,A+E),u.C=A+E,_)))}hn.prototype.cancel=function(){this.J=!0,Qt(this)};function Or(u){u.S=Date.now()+u.I,$c(u,u.I)}function $c(u,_){if(u.B!=null)throw Error("WatchDog timer not null");u.B=xt(S(u.ba,u),_)}function js(u){u.B&&(p.clearTimeout(u.B),u.B=null)}hn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Fc(this.i,this.A),this.L!=2&&(Ds(),dt(17)),Qt(this),this.s=2,pi(this)):$c(this,this.S-u)};function pi(u){u.j.G==0||u.J||iu(u.j,u)}function Qt(u){js(u);var _=u.M;_&&typeof _.ma=="function"&&_.ma(),u.M=null,xr(u.U),u.g&&(_=u.g,u.g=null,_.abort(),_.ma())}function Mr(u,_){try{var E=u.j;if(E.G!=0&&(E.g==u||tl(E.h,u))){if(!u.K&&tl(E.h,u)&&E.G==3){try{var A=E.Da.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<u.F)Ba(E),La(E);else break e;hl(E),dt(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=xt(S(E.Za,E),6e3));if(1>=Na(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ns(E,11)}else if((u.K||E.g==u)&&Ba(E),!Q(_))for(q=E.Da.g.parse(_),_=0;_<q.length;_++){let He=q[_];if(E.T=He[0],He=He[1],E.G==2)if(He[0]=="c"){E.K=He[1],E.ia=He[2];const Ft=He[3];Ft!=null&&(E.la=Ft,E.j.info("VER="+E.la));const Ut=He[4];Ut!=null&&(E.Aa=Ut,E.j.info("SVER="+E.Aa));const is=He[5];is!=null&&typeof is=="number"&&0<is&&(A=1.5*is,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Xt=u.g;if(Xt){const wi=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wi){var $=A.h;$.g||wi.indexOf("spdy")==-1&&wi.indexOf("quic")==-1&&wi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Da($,$.h),$.h=null))}if(A.D){const fl=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;fl&&(A.ya=fl,et(A.I,A.D,fl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-u.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var re=u;if(A.qa=ru(A,A.J?A.ia:null,A.W),re.K){dn(A.h,re);var qe=re,Lt=A.L;Lt&&(qe.I=Lt),qe.B&&(js(qe),Or(qe)),A.g=re}else tu(A);0<E.i.length&&Ua(E)}else He[0]!="stop"&&He[0]!="close"||ns(E,7);else E.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?ns(E,7):cl(E):He[0]!="noop"&&E.l&&E.l.ta(He),E.v=0)}}Ds(4)}catch{}}var Kc=class{constructor(u,_){this.g=u,this.map=_}};function Xi(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Na(u){return u.h?1:u.g?u.g.size:0}function tl(u,_){return u.h?u.h==_:u.g?u.g.has(_):!1}function Da(u,_){u.g?u.g.add(_):u.h=_}function dn(u,_){u.h&&u.h==_?u.h=null:u.g&&u.g.has(_)&&u.g.delete(_)}Xi.prototype.cancel=function(){if(this.i=nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function nl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let _=u.i;for(const E of u.g.values())_=_.concat(E.D);return _}return z(u.i)}function Rd(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var _=[],E=u.length,A=0;A<E;A++)_.push(u[A]);return _}_=[],E=0;for(A in u)_[E++]=u[A];return _}function Oa(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var _=[];u=u.length;for(var E=0;E<u;E++)_.push(E);return _}_=[],E=0;for(const A in u)_[E++]=A;return _}}}function il(u,_){if(u.forEach&&typeof u.forEach=="function")u.forEach(_,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,_,void 0);else for(var E=Oa(u),A=Rd(u),q=A.length,$=0;$<q;$++)_.call(void 0,A[$],E&&E[$],u)}var jr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cd(u,_){if(u){u=u.split("&");for(var E=0;E<u.length;E++){var A=u[E].indexOf("="),q=null;if(0<=A){var $=u[E].substring(0,A);q=u[E].substring(A+1)}else $=u[E];_($,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Nt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Nt){this.h=u.h,Pr(this,u.j),this.o=u.o,this.g=u.g,Ps(this,u.s),this.l=u.l;var _=u.i,E=new Zi;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Wi(this,E),this.m=u.m}else u&&(_=String(u).match(jr))?(this.h=!1,Pr(this,_[1]||"",!0),this.o=Vn(_[2]||""),this.g=Vn(_[3]||"",!0),Ps(this,_[4]),this.l=Vn(_[5]||"",!0),Wi(this,_[6]||"",!0),this.m=Vn(_[7]||"")):(this.h=!1,this.i=new Zi(null,this.h))}Nt.prototype.toString=function(){var u=[],_=this.j;_&&u.push(Vr(_,sl,!0),":");var E=this.g;return(E||_=="file")&&(u.push("//"),(_=this.o)&&u.push(Vr(_,sl,!0),"@"),u.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&u.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Vr(E,E.charAt(0)=="/"?Id:rl,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Vr(E,Ma)),u.join("")};function Tn(u){return new Nt(u)}function Pr(u,_,E){u.j=E?Vn(_,!0):_,u.j&&(u.j=u.j.replace(/:$/,""))}function Ps(u,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);u.s=_}else u.s=null}function Wi(u,_,E){_ instanceof Zi?(u.i=_,Xc(u.i,u.h)):(E||(_=Vr(_,xd)),u.i=new Zi(_,u.h))}function et(u,_,E){u.i.set(_,E)}function kr(u){return et(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Vn(u,_){return u?_?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Vr(u,_,E){return typeof u=="string"?(u=encodeURI(u).replace(_,Qc),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Qc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sl=/[#\/\?@]/g,rl=/[#\?:]/g,Id=/[#\?]/g,xd=/[#\?@]/g,Ma=/#/g;function Zi(u,_){this.h=this.g=null,this.i=u||null,this.j=!!_}function Ln(u){u.g||(u.g=new Map,u.h=0,u.i&&Cd(u.i,function(_,E){u.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}i=Zi.prototype,i.add=function(u,_){Ln(this),this.i=null,u=gi(this,u);var E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(_),this.h+=1,this};function Ji(u,_){Ln(u),_=gi(u,_),u.g.has(_)&&(u.i=null,u.h-=u.g.get(_).length,u.g.delete(_))}function es(u,_){return Ln(u),_=gi(u,_),u.g.has(_)}i.forEach=function(u,_){Ln(this),this.g.forEach(function(E,A){E.forEach(function(q){u.call(_,q,A,this)},this)},this)},i.na=function(){Ln(this);const u=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let A=0;A<_.length;A++){const q=u[A];for(let $=0;$<q.length;$++)E.push(_[A])}return E},i.V=function(u){Ln(this);let _=[];if(typeof u=="string")es(this,u)&&(_=_.concat(this.g.get(gi(this,u))));else{u=Array.from(this.g.values());for(let E=0;E<u.length;E++)_=_.concat(u[E])}return _},i.set=function(u,_){return Ln(this),this.i=null,u=gi(this,u),es(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[_]),this.h+=1,this},i.get=function(u,_){return u?(u=this.V(u),0<u.length?String(u[0]):_):_};function al(u,_,E){Ji(u,_),0<E.length&&(u.i=null,u.g.set(gi(u,_),z(E)),u.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var A=_[E];const $=encodeURIComponent(String(A)),re=this.V(A);for(A=0;A<re.length;A++){var q=$;re[A]!==""&&(q+="="+encodeURIComponent(String(re[A]))),u.push(q)}}return this.i=u.join("&")};function gi(u,_){return _=String(_),u.j&&(_=_.toLowerCase()),_}function Xc(u,_){_&&!u.j&&(Ln(u),u.i=null,u.g.forEach(function(E,A){var q=A.toLowerCase();A!=q&&(Ji(this,A),al(this,q,E))},u)),u.j=_}function Lr(u,_){const E=new kn;if(p.Image){const A=new Image;A.onload=I(Un,E,"TestLoadImage: loaded",!0,_,A),A.onerror=I(Un,E,"TestLoadImage: error",!1,_,A),A.onabort=I(Un,E,"TestLoadImage: abort",!1,_,A),A.ontimeout=I(Un,E,"TestLoadImage: timeout",!1,_,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else _(!1)}function Jn(u,_){const E=new kn,A=new AbortController,q=setTimeout(()=>{A.abort(),Un(E,"TestPingServer: timeout",!1,_)},1e4);fetch(u,{signal:A.signal}).then($=>{clearTimeout(q),$.ok?Un(E,"TestPingServer: ok",!0,_):Un(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),Un(E,"TestPingServer: error",!1,_)})}function Un(u,_,E,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(E)}catch{}}function Ur(){this.g=new Nr}function yi(u,_,E){const A=E||"";try{il(u,function(q,$){let re=q;y(q)&&(re=Wn(q)),_.push(A+$+"="+encodeURIComponent(re))})}catch(q){throw _.push(A+"type="+encodeURIComponent("_badmap")),q}}function ks(u){this.l=u.Ub||null,this.j=u.eb||!1}x(ks,Ko),ks.prototype.g=function(){return new ts(this.l,this.j)},ks.prototype.i=(function(u){return function(){return u}})({});function ts(u,_){ge.call(this),this.D=u,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(ts,ge),i=ts.prototype,i.open=function(u,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=_,this.readyState=1,vi(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(_.body=u),(this.D||p).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},i.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ol(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ol(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}i.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var _=u.value?u.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!u.done}))&&(this.response=this.responseText+=_)}u.done?_i(this):vi(this),this.readyState==3&&ol(this)}},i.Ra=function(u){this.g&&(this.response=this.responseText=u,_i(this))},i.Qa=function(u){this.g&&(this.response=u,_i(this))},i.ga=function(){this.g&&_i(this)};function _i(u){u.readyState=4,u.l=null,u.j=null,u.v=null,vi(u)}i.setRequestHeader=function(u,_){this.u.append(u,_)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=_.next();return u.join(`\r
`)};function vi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ll(u){let _="";return pe(u,function(E,A){_+=A,_+=":",_+=E,_+=`\r
`}),_}function Ht(u,_,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=ll(E),typeof u=="string"?E!=null&&encodeURIComponent(String(E)):et(u,_,E))}function Ke(u){ge.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ke,ge);var ja=/^https?$/i,Br=["POST","PUT"];i=Ke.prototype,i.Ha=function(u){this.J=u},i.ea=function(u,_,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);_=_?_.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fi.g(),this.v=this.o?Qo(this.o):Qo(fi),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(_,String(u),!0),this.B=!1}catch($){Wc(this,$);return}if(u=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)E.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())E.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),q=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Br,_,void 0))||A||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,re]of E)this.g.setRequestHeader($,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zr(this),this.u=!0,this.g.send(u),this.u=!1}catch($){Wc(this,$)}};function Wc(u,_){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=_,u.m=5,Pa(u),Ei(u)}function Pa(u){u.A||(u.A=!0,Te(u,"complete"),Te(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Te(this,"complete"),Te(this,"abort"),Ei(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ka(this):this.bb())},i.bb=function(){ka(this)};function ka(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Bn(u)!=4||u.Z()!=2)){if(u.u&&Bn(u)==4)st(u.Ea,0,u);else if(Te(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var A;if(A=re===0){var q=String(u.D).match(jr)[1]||null;!q&&p.self&&p.self.location&&(q=p.self.location.protocol.slice(0,-1)),A=!ja.test(q?q.toLowerCase():"")}E=A}if(E)Te(u,"complete"),Te(u,"success");else{u.m=6;try{var $=2<Bn(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",Pa(u)}}finally{Ei(u)}}}}function Ei(u,_){if(u.g){zr(u);const E=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,_||Te(u,"ready");try{E.onreadystatechange=A}catch{}}}function zr(u){u.I&&(p.clearTimeout(u.I),u.I=null)}i.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}i.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(u){if(this.g){var _=this.g.responseText;return u&&_.indexOf(u)==0&&(_=_.substring(u.length)),Ra(_)}};function Zc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Nd(u){const _={};u=(u.g&&2<=Bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(Q(u[A]))continue;var E=k(u[A]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=_[q]||[];_[q]=$,$.push(E)}P(_,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(u,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||_}function Va(u){this.Aa=0,this.i=[],this.j=new kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qr("baseRetryDelayMs",5e3,u),this.cb=qr("retryDelaySeedMs",1e4,u),this.Wa=qr("forwardChannelMaxRetries",2,u),this.wa=qr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Xi(u&&u.concurrentRequestLimit),this.Da=new Ur,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Va.prototype,i.la=8,i.G=1,i.connect=function(u,_,E,A){dt(0),this.W=u,this.H=_||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=ru(this,null,this.W),Ua(this)};function cl(u){if(Jc(u),u.G==3){var _=u.U++,E=Tn(u.I);if(et(E,"SID",u.K),et(E,"RID",_),et(E,"TYPE","terminate"),Hr(u,E),_=new hn(u,u.j,_),_.L=2,_.v=kr(Tn(E)),E=!1,p.navigator&&p.navigator.sendBeacon)try{E=p.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&p.Image&&(new Image().src=_.v,E=!0),E||(_.g=au(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Or(_)}su(u)}function La(u){u.g&&(Fr(u),u.g.cancel(),u.g=null)}function Jc(u){La(u),u.u&&(p.clearTimeout(u.u),u.u=null),Ba(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function Ua(u){if(!xa(u.h)&&!u.s){u.s=!0;var _=u.Ga;ae||j(),ye||(ae(),ye=!0),ze.add(_,u),u.B=0}}function Dd(u,_){return Na(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=_.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=xt(S(u.Ga,u,_),dl(u,u.B)),u.B++,!0)}i.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const q=new hn(this,this.j,u);let $=this.o;if(this.S&&($?($=R($),O($,this.S)):$=this.S),this.m!==null||this.O||(q.H=$,$=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=eu(this,q,_),E=Tn(this.I),et(E,"RID",u),et(E,"CVER",22),this.D&&et(E,"X-HTTP-Session-Id",this.D),Hr(this,E),$&&(this.O?_="headers="+encodeURIComponent(String(ll($)))+"&"+_:this.m&&Ht(E,this.m,$)),Da(this.h,q),this.Ua&&et(E,"TYPE","init"),this.P?(et(E,"$req",_),et(E,"SID","null"),q.T=!0,Zn(q,E,null)):Zn(q,E,_),this.G=2}}else this.G==3&&(u?ul(this,u):this.i.length==0||xa(this.h)||ul(this))};function ul(u,_){var E;_?E=_.l:E=u.U++;const A=Tn(u.I);et(A,"SID",u.K),et(A,"RID",E),et(A,"AID",u.T),Hr(u,A),u.m&&u.o&&Ht(A,u.m,u.o),E=new hn(u,u.j,E,u.B+1),u.m===null&&(E.H=u.o),_&&(u.i=_.D.concat(u.i)),_=eu(u,E,1e3),E.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Da(u.h,E),Zn(E,A,_)}function Hr(u,_){u.H&&pe(u.H,function(E,A){et(_,A,E)}),u.l&&il({},function(E,A){et(_,A,E)})}function eu(u,_,E){E=Math.min(u.i.length,E);var A=u.l?S(u.l.Na,u.l,u):null;e:{var q=u.i;let $=-1;for(;;){const re=["count="+E];$==-1?0<E?($=q[0].g,re.push("ofs="+$)):$=0:re.push("ofs="+$);let qe=!0;for(let Lt=0;Lt<E;Lt++){let He=q[Lt].g;const Ft=q[Lt].map;if(He-=$,0>He)$=Math.max(0,q[Lt].g-100),qe=!1;else try{yi(Ft,re,"req"+He+"_")}catch{A&&A(Ft)}}if(qe){A=re.join("&");break e}}}return u=u.i.splice(0,E),_.D=u,A}function tu(u){if(!u.g&&!u.u){u.Y=1;var _=u.Fa;ae||j(),ye||(ae(),ye=!0),ze.add(_,u),u.v=0}}function hl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=xt(S(u.Fa,u),dl(u,u.v)),u.v++,!0)}i.Fa=function(){if(this.u=null,nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=xt(S(this.ab,this),u)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),La(this),nu(this))};function Fr(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function nu(u){u.g=new hn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var _=Tn(u.qa);et(_,"RID","rpc"),et(_,"SID",u.K),et(_,"AID",u.T),et(_,"CI",u.F?"0":"1"),!u.F&&u.ja&&et(_,"TO",u.ja),et(_,"TYPE","xmlhttp"),Hr(u,_),u.m&&u.o&&Ht(_,u.m,u.o),u.L&&(u.g.I=u.L);var E=u.g;u=u.ia,E.L=1,E.v=kr(Tn(_)),E.m=null,E.P=!0,Qi(E,u)}i.Za=function(){this.C!=null&&(this.C=null,La(this),hl(this),dt(19))};function Ba(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function iu(u,_){var E=null;if(u.g==_){Ba(u),Fr(u),u.g=null;var A=2}else if(tl(u.h,_))E=_.D,dn(u.h,_),A=1;else return;if(u.G!=0){if(_.o)if(A==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var q=u.B;A=Ns(),Te(A,new Vt(A,E)),Ua(u)}else tu(u);else if(q=_.s,q==3||q==0&&0<_.X||!(A==1&&Dd(u,_)||A==2&&hl(u)))switch(E&&0<E.length&&(_=u.h,_.i=_.i.concat(E)),q){case 1:ns(u,5);break;case 4:ns(u,10);break;case 3:ns(u,6);break;default:ns(u,2)}}}function dl(u,_){let E=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(E*=2),E*_}function ns(u,_){if(u.j.info("Error code "+_),_==2){var E=S(u.fb,u),A=u.Xa;const q=!A;A=new Nt(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Pr(A,"https"),kr(A),q?Lr(A.toString(),E):Jn(A.toString(),E)}else dt(2);u.G=0,u.l&&u.l.sa(_),su(u),Jc(u)}i.fb=function(u){u?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function su(u){if(u.G=0,u.ka=[],u.l){const _=nl(u.h);(_.length!=0||u.i.length!=0)&&(L(u.ka,_),L(u.ka,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.ra()}}function ru(u,_,E){var A=E instanceof Nt?Tn(E):new Nt(E);if(A.g!="")_&&(A.g=_+"."+A.g),Ps(A,A.s);else{var q=p.location;A=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;var $=new Nt(null);A&&Pr($,A),_&&($.g=_),q&&Ps($,q),E&&($.l=E),A=$}return E=u.D,_=u.ya,E&&_&&et(A,E,_),et(A,"VER",u.la),Hr(u,A),A}function au(u,_,E){if(_&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=u.Ca&&!u.pa?new Ke(new ks({eb:E})):new Ke(u.pa),_.Ha(u.J),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ou(){}i=ou.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function za(){}za.prototype.g=function(u,_){return new fn(u,_)};function fn(u,_){ge.call(this),this.g=new Va(_),this.l=u,this.h=_&&_.messageUrlParams||null,u=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(u?u["X-WebChannel-Content-Type"]=_.messageContentType:u={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(u?u["X-WebChannel-Client-Profile"]=_.va:u={"X-WebChannel-Client-Profile":_.va}),this.g.S=u,(u=_&&_.Sb)&&!Q(u)&&(this.g.m=u),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!Q(_)&&(this.g.D=_,u=this.h,u!==null&&_ in u&&(u=this.h,_ in u&&delete u[_])),this.j=new Ti(this)}x(fn,ge),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){cl(this.g)},fn.prototype.o=function(u){var _=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.u&&(E={},E.__data__=Wn(u),u=E);_.i.push(new Kc(_.Ya++,u)),_.G==3&&Ua(_)},fn.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,fn.aa.N.call(this)};function lu(u){$i.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var _=u.__sm__;if(_){e:{for(const E in _){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,_=_!==null&&u in _?_[u]:void 0),this.data=_}else this.data=u}x(lu,$i);function cu(){Wo.call(this),this.status=1}x(cu,Wo);function Ti(u){this.g=u}x(Ti,ou),Ti.prototype.ua=function(){Te(this.g,"a")},Ti.prototype.ta=function(u){Te(this.g,new lu(u))},Ti.prototype.sa=function(u){Te(this.g,new cu)},Ti.prototype.ra=function(){Te(this.g,"b")},za.prototype.createWebChannel=za.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,u0=function(){return new za},c0=function(){return Ns()},l0=di,rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ms.NO_ERROR=0,Ms.TIMEOUT=8,Ms.HTTP_ERROR=6,Sh=Ms,Ki.COMPLETE="complete",o0=Ki,Xo.EventType=Yi,Yi.OPEN="a",Yi.CLOSE="b",Yi.ERROR="c",Yi.MESSAGE="d",ge.prototype.listen=ge.prototype.K,sc=Xo,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,a0=Ke}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});const IE="@firebase/firestore",xE="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga=new Op("@firebase/firestore");function vo(){return ga.logLevel}function de(i,...e){if(ga.logLevel<=Le.DEBUG){const n=e.map(Hp);ga.debug(`Firestore (${zo}): ${i}`,...n)}}function As(i,...e){if(ga.logLevel<=Le.ERROR){const n=e.map(Hp);ga.error(`Firestore (${zo}): ${i}`,...n)}}function Oo(i,...e){if(ga.logLevel<=Le.WARN){const n=e.map(Hp);ga.warn(`Firestore (${zo}): ${i}`,...n)}}function Hp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,h0(i,r,n)}function h0(i,e,n){let r=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw As(r),new Error(r)}function Qe(i,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,i||h0(e,o,r)}function Ne(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class tN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class nN{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ts,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ts)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new d0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class iN{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sN{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new iN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class NE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const r=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new NE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new NE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=aN(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function Ue(i,e){return i<e?-1:i>e?1:0}function ap(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const o=i.charAt(r),c=e.charAt(r);if(o!==c)return Lm(o)===Lm(c)?Ue(o,c):Lm(o)?1:-1}return Ue(i.length,e.length)}const oN=55296,lN=57343;function Lm(i){const e=i.charCodeAt(0);return e>=oN&&e<=lN}function Mo(i,e,n){return i.length===e.length&&i.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="__name__";class xi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=xi.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Ue(e.length,n.length)}static compareSegments(e,n){const r=xi.isNumericId(e),o=xi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?xi.extractNumericId(e).compare(xi.extractNumericId(n)):ap(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}}class ot extends xi{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const cN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends xi{construct(e,n,r){return new tn(e,n,r)}static isValidIdentifier(e){return cN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DE}static keyField(){return new tn([DE])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(r+=p,o++):(c(),o++)}if(c(),h)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ot.fromString(e))}static fromName(e){return new Ee(ot.fromString(e).popFirst(5))}static empty(){return new Ee(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(i,e,n){if(!n)throw new ce(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function uN(i,e,n,r){if(e===!0&&r===!0)throw new ce(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function OE(i){if(!Ee.isDocumentKey(i))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function ME(i){if(Ee.isDocumentKey(i))throw new ce(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function m0(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function od(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ae(12329,{type:typeof i})}function Rs(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=od(i);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Pc(i,e){if(!m0(i))throw new ce(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const h=i[r];if(o&&typeof h!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new ce(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=-62135596800,PE=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*PE);return new ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<jE)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pc(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:Pt("string",ct._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new ct(0,0))}static max(){return new xe(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=-1;function hN(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new yr(o,Ee.empty(),e)}function dN(i){return new yr(i.readTime,i.key,_c)}class yr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yr(xe.min(),Ee.empty(),_c)}static max(){return new yr(xe.max(),Ee.empty(),_c)}}function fN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(i.documentKey,e.documentKey),n!==0?n:Ue(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==mN)throw i;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,r)=>{n(e)}))}static reject(e){return new te(((n,r)=>{r(e)}))}static waitFor(e){return new te(((n,r)=>{let o=0,c=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++c,h&&c===o&&n()}),(g=>r(g)))})),h=!0,c===o&&n()}))}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next((o=>o?te.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new te(((r,o)=>{const c=e.length,h=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((v=>{h[y]=v,++p,p===c&&r(h)}),(v=>o(v)))}}))}static doWhile(e,n){return new te(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function gN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ho(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ld.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function cd(i){return i==null}function Bh(i){return i===0&&1/i==-1/0}function yN(i){return typeof i=="number"&&Number.isInteger(i)&&!Bh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="";function _N(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=kE(e)),e=vN(i.get(n),e);return kE(e)}function vN(i,e){let n=e;const r=i.length;for(let o=0;o<r;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case p0:n+="";break;default:n+=c}}return n}function kE(i){return i+p0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ar(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function g0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??en.RED,this.left=o??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new en(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LE(this.data.getIterator())}getIteratorFrom(e){return new LE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class LE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new qt(tn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Mo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new y0("Invalid base64 string: "+c):c}})(e);return new nn(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const EN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(i){if(Qe(!!i,39018),typeof i=="string"){let e=0;const n=EN.exec(i);if(Qe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(i.seconds),nanos:Rt(i.nanos)}}function Rt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function vr(i){return typeof i=="string"?nn.fromBase64String(i):nn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="server_timestamp",v0="__type__",E0="__previous_value__",T0="__local_write_time__";function Yp(i){return(i?.mapValue?.fields||{})[v0]?.stringValue===_0}function ud(i){const e=i.mapValue.fields[E0];return Yp(e)?ud(e):e}function vc(i){const e=_r(i.mapValue.fields[T0].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n,r,o,c,h,p,g,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=v}}const zh="(default)";class Ec{constructor(e,n){this.projectId=e,this.database=n||zh}static empty(){return new Ec("","")}get isDefaultDatabase(){return this.database===zh}isEqual(e){return e instanceof Ec&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="__type__",wN="__max__",mh={mapValue:{}},b0="__vector__",qh="value";function Er(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Yp(i)?4:SN(i)?9007199254740991:bN(i)?10:11:Ae(28295,{value:i})}function Vi(i,e){if(i===e)return!0;const n=Er(i);if(n!==Er(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return vc(i).isEqual(vc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=_r(o.timestampValue),p=_r(c.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return vr(o.bytesValue).isEqual(vr(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return Rt(o.geoPointValue.latitude)===Rt(c.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Rt(o.integerValue)===Rt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=Rt(o.doubleValue),p=Rt(c.doubleValue);return h===p?Bh(h)===Bh(p):isNaN(h)&&isNaN(p)}return!1})(i,e);case 9:return Mo(i.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},p=c.mapValue.fields||{};if(VE(h)!==VE(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Vi(h[g],p[g])))return!1;return!0})(i,e);default:return Ae(52216,{left:i})}}function Tc(i,e){return(i.values||[]).find((n=>Vi(n,e)))!==void 0}function jo(i,e){if(i===e)return 0;const n=Er(i),r=Er(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return(function(c,h){const p=Rt(c.integerValue||c.doubleValue),g=Rt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(i,e);case 3:return UE(i.timestampValue,e.timestampValue);case 4:return UE(vc(i),vc(e));case 5:return ap(i.stringValue,e.stringValue);case 6:return(function(c,h){const p=vr(c),g=vr(h);return p.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(c,h){const p=c.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const v=Ue(p[y],g[y]);if(v!==0)return v}return Ue(p.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,h){const p=Ue(Rt(c.latitude),Rt(h.latitude));return p!==0?p:Ue(Rt(c.longitude),Rt(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return BE(i.arrayValue,e.arrayValue);case 10:return(function(c,h){const p=c.fields||{},g=h.fields||{},y=p[qh]?.arrayValue,v=g[qh]?.arrayValue,w=Ue(y?.values?.length||0,v?.values?.length||0);return w!==0?w:BE(y,v)})(i.mapValue,e.mapValue);case 11:return(function(c,h){if(c===mh.mapValue&&h===mh.mapValue)return 0;if(c===mh.mapValue)return 1;if(h===mh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=h.fields||{},v=Object.keys(y);g.sort(),v.sort();for(let w=0;w<g.length&&w<v.length;++w){const S=ap(g[w],v[w]);if(S!==0)return S;const I=jo(p[g[w]],y[v[w]]);if(I!==0)return I}return Ue(g.length,v.length)})(i.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function UE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const n=_r(i),r=_r(e),o=Ue(n.seconds,r.seconds);return o!==0?o:Ue(n.nanos,r.nanos)}function BE(i,e){const n=i.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=jo(n[o],r[o]);if(c)return c}return Ue(n.length,r.length)}function Po(i){return op(i)}function op(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=_r(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return vr(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Ee.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=op(c);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of r)c?c=!1:o+=",",o+=`${h}:${op(n.fields[h])}`;return o+"}"})(i.mapValue):Ae(61005,{value:i})}function Ah(i){switch(Er(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ud(i);return e?16+Ah(e):16;case 5:return 2*i.stringValue.length;case 6:return vr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+Ah(c)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return Ar(r.fields,((c,h)=>{o+=c.length+Ah(h)})),o})(i.mapValue);default:throw Ae(13486,{value:i})}}function zE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function lp(i){return!!i&&"integerValue"in i}function $p(i){return!!i&&"arrayValue"in i}function qE(i){return!!i&&"nullValue"in i}function HE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Rh(i){return!!i&&"mapValue"in i}function bN(i){return(i?.mapValue?.fields||{})[w0]?.stringValue===b0}function uc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ar(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=uc(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uc(i.arrayValue.values[n]);return e}return{...i}}function SN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===wN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uc(n)}setAll(e){let n=tn.emptyPath(),r={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=p.popLast()}h?r[p.lastSegment()]=uc(h):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());Rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Ar(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new En(uc(this.value))}}function S0(i){const e=[];return Ar(i.fields,((n,r)=>{const o=new tn([n]);if(Rh(r)){const c=S0(r.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,r,o,c,h,p){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=h,this.documentState=p}static newInvalidDocument(e){return new ln(e,0,xe.min(),xe.min(),xe.min(),En.empty(),0)}static newFoundDocument(e,n,r,o){return new ln(e,1,n,xe.min(),r,o,0)}static newNoDocument(e,n){return new ln(e,2,n,xe.min(),xe.min(),En.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,xe.min(),xe.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.position=e,this.inclusive=n}}function FE(i,e,n){let r=0;for(let o=0;o<i.position.length;o++){const c=e[o],h=i.position[o];if(c.field.isKeyField()?r=Ee.comparator(Ee.fromName(h.referenceValue),n.key):r=jo(h,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function GE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Vi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n="asc"){this.field=e,this.dir=n}}function AN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{}class jt extends A0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CN(e,n,r):n==="array-contains"?new NN(e,r):n==="in"?new DN(e,r):n==="not-in"?new ON(e,r):n==="array-contains-any"?new MN(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new IN(e,r):new xN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(jo(n,this.value)):n!==null&&Er(this.value)===Er(n)&&this.matchesComparison(jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends A0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ci(e,n)}matches(e){return R0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function R0(i){return i.op==="and"}function C0(i){return RN(i)&&R0(i)}function RN(i){for(const e of i.filters)if(e instanceof ci)return!1;return!0}function cp(i){if(i instanceof jt)return i.field.canonicalString()+i.op.toString()+Po(i.value);if(C0(i))return i.filters.map((e=>cp(e))).join(",");{const e=i.filters.map((n=>cp(n))).join(",");return`${i.op}(${e})`}}function I0(i,e){return i instanceof jt?(function(r,o){return o instanceof jt&&r.op===o.op&&r.field.isEqual(o.field)&&Vi(r.value,o.value)})(i,e):i instanceof ci?(function(r,o){return o instanceof ci&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,h,p)=>c&&I0(h,o.filters[p])),!0):!1})(i,e):void Ae(19439)}function x0(i){return i instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Po(n.value)}`})(i):i instanceof ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(x0).join(" ,")+"}"})(i):"Filter"}class CN extends jt{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class IN extends jt{constructor(e,n){super(e,"in",n),this.keys=N0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class xN extends jt{constructor(e,n){super(e,"not-in",n),this.keys=N0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function N0(i,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class NN extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $p(n)&&Tc(n.arrayValue,this.value)}}class DN extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tc(this.value.arrayValue,n)}}class ON extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tc(this.value.arrayValue,n)}}class MN extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$p(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Tc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n=null,r=[],o=[],c=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=h,this.endAt=p,this.Te=null}}function YE(i,e=null,n=[],r=[],o=null,c=null,h=null){return new jN(i,e,n,r,o,c,h)}function Kp(i){const e=Ne(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>cp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),cd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Po(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Po(r))).join(",")),e.Te=n}return e.Te}function Qp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!AN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!I0(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!GE(i.startAt,e.startAt)&&GE(i.endAt,e.endAt)}function up(i){return Ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n=null,r=[],o=[],c=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PN(i,e,n,r,o,c,h,p){return new kc(i,e,n,r,o,c,h,p)}function Xp(i){return new kc(i)}function $E(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function D0(i){return i.collectionGroup!==null}function hc(i){const e=Ne(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new qt(tn.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Fh(c,r))})),n.has(tn.keyField().canonicalString())||e.Ie.push(new Fh(tn.keyField(),r))}return e.Ie}function Mi(i){const e=Ne(i);return e.Ee||(e.Ee=kN(e,hc(i))),e.Ee}function kN(i,e){if(i.limitType==="F")return YE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Fh(o.field,c)}));const n=i.endAt?new Hh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Hh(i.startAt.position,i.startAt.inclusive):null;return YE(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function hp(i,e){const n=i.filters.concat([e]);return new kc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function dp(i,e,n){return new kc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function hd(i,e){return Qp(Mi(i),Mi(e))&&i.limitType===e.limitType}function O0(i){return`${Kp(Mi(i))}|lt:${i.limitType}`}function Eo(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>x0(o))).join(", ")}]`),cd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Po(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Po(o))).join(",")),`Target(${r})`})(Mi(i))}; limitType=${i.limitType})`}function dd(i,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Ee.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(i,e)&&(function(r,o){for(const c of hc(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(h,p,g){const y=FE(h,p,g);return h.inclusive?y<=0:y<0})(r.startAt,hc(r),o)||r.endAt&&!(function(h,p,g){const y=FE(h,p,g);return h.inclusive?y>=0:y>0})(r.endAt,hc(r),o))})(i,e)}function VN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function M0(i){return(e,n)=>{let r=!1;for(const o of hc(i)){const c=LN(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function LN(i,e,n){const r=i.field.isKeyField()?Ee.comparator(e.key,n.key):(function(c,h,p){const g=h.data.field(c),y=p.data.field(c);return g!==null&&y!==null?jo(g,y):Ae(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ar(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return g0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=new gt(Ee.comparator);function Cs(){return UN}const j0=new gt(Ee.comparator);function rc(...i){let e=j0;for(const n of i)e=e.insert(n.key,n);return e}function P0(i){let e=j0;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ua(){return dc()}function k0(){return dc()}function dc(){return new wa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const BN=new gt(Ee.comparator),zN=new qt(Ee.comparator);function Be(...i){let e=zN;for(const n of i)e=e.add(n);return e}const qN=new qt(Ue);function HN(){return qN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function V0(i){return{integerValue:""+i}}function FN(i,e){return yN(e)?V0(e):Wp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this._=void 0}}function GN(i,e,n){return i instanceof Gh?(function(o,c){const h={fields:{[v0]:{stringValue:_0},[T0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Yp(c)&&(c=ud(c)),c&&(h.fields[E0]=c),{mapValue:h}})(n,e):i instanceof wc?U0(i,e):i instanceof bc?B0(i,e):(function(o,c){const h=L0(o,c),p=KE(h)+KE(o.Ae);return lp(h)&&lp(o.Ae)?V0(p):Wp(o.serializer,p)})(i,e)}function YN(i,e,n){return i instanceof wc?U0(i,e):i instanceof bc?B0(i,e):n}function L0(i,e){return i instanceof Yh?(function(r){return lp(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class Gh extends fd{}class wc extends fd{constructor(e){super(),this.elements=e}}function U0(i,e){const n=z0(e);for(const r of i.elements)n.some((o=>Vi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class bc extends fd{constructor(e){super(),this.elements=e}}function B0(i,e){let n=z0(e);for(const r of i.elements)n=n.filter((o=>!Vi(o,r)));return{arrayValue:{values:n}}}class Yh extends fd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function KE(i){return Rt(i.integerValue||i.doubleValue)}function z0(i){return $p(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function $N(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof wc&&o instanceof wc||r instanceof bc&&o instanceof bc?Mo(r.elements,o.elements,Vi):r instanceof Yh&&o instanceof Yh?Vi(r.Ae,o.Ae):r instanceof Gh&&o instanceof Gh})(i.transform,e.transform)}class KN{constructor(e,n){this.version=e,this.transformResults=n}}class On{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class md{}function q0(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new pd(i.key,On.none()):new Vc(i.key,i.data,On.none());{const n=i.data,r=En.empty();let o=new qt(tn.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?r.delete(c):r.set(c,h),o=o.add(c)}return new Rr(i.key,r,new Dn(o.toArray()),On.none())}}function QN(i,e,n){i instanceof Vc?(function(o,c,h){const p=o.value.clone(),g=XE(o.fieldTransforms,c,h.transformResults);p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):i instanceof Rr?(function(o,c,h){if(!Ch(o.precondition,c))return void c.convertToUnknownDocument(h.version);const p=XE(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(H0(o)),g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(i,e,n):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function fc(i,e,n,r){return i instanceof Vc?(function(c,h,p,g){if(!Ch(c.precondition,h))return p;const y=c.value.clone(),v=WE(c.fieldTransforms,g,h);return y.setAll(v),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(i,e,n,r):i instanceof Rr?(function(c,h,p,g){if(!Ch(c.precondition,h))return p;const y=WE(c.fieldTransforms,g,h),v=h.data;return v.setAll(H0(c)),v.setAll(y),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(i,e,n,r):(function(c,h,p){return Ch(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(i,e,n)}function XN(i,e){let n=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),c=L0(r.transform,o||null);c!=null&&(n===null&&(n=En.empty()),n.set(r.field,c))}return n||null}function QE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Mo(r,o,((c,h)=>$N(c,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Vc extends md{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Rr extends md{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function H0(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function XE(i,e,n){const r=new Map;Qe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const c=i[o],h=c.transform,p=e.data.field(c.field);r.set(c.field,YN(h,p,n[o]))}return r}function WE(i,e,n){const r=new Map;for(const o of i){const c=o.transform,h=n.data.field(o.field);r.set(o.field,GN(c,h,e))}return r}class pd extends md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WN extends md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&QN(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=k0();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let p=this.applyToLocalView(h,c.mutatedFields);p=n.has(o.key)?null:p;const g=q0(h,p);g!==null&&r.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Mo(this.mutations,e.mutations,((n,r)=>QE(n,r)))&&Mo(this.baseMutations,e.baseMutations,((n,r)=>QE(n,r)))}}class Zp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return BN})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,r[h].version);return new Zp(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Ge;function tD(i){switch(i){case Z.OK:return Ae(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ae(15467,{code:i})}}function F0(i){if(i===void 0)return As("GRPC error has no .code"),Z.UNKNOWN;switch(i){case Mt.OK:return Z.OK;case Mt.CANCELLED:return Z.CANCELLED;case Mt.UNKNOWN:return Z.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return Z.INTERNAL;case Mt.UNAVAILABLE:return Z.UNAVAILABLE;case Mt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Mt.NOT_FOUND:return Z.NOT_FOUND;case Mt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Mt.ABORTED:return Z.ABORTED;case Mt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Mt.DATA_LOSS:return Z.DATA_LOSS;default:return Ae(39323,{code:i})}}(Ge=Mt||(Mt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=new fr([4294967295,4294967295],0);function ZE(i){const e=nD().encode(i),n=new r0;return n.update(e),new Uint8Array(n.digest())}function JE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new fr([n,r],0),new fr([o,c],0)]}class Jp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ac(`Invalid padding: ${n}`);if(r<0)throw new ac(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ac(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ac(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(fr.fromNumber(r)));return o.compare(iD)===1&&(o=new fr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ZE(e),[r,o]=JE(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(r,o,c);if(!this.we(h))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Jp(c,o,n);return r.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=ZE(e),[r,o]=JE(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(r,o,c);this.Se(h)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Lc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gd(xe.min(),o,new gt(Ue),Cs(),Be())}}class Lc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lc(r,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class G0{constructor(e,n){this.targetId=e,this.Ce=n}}class Y0{constructor(e,n,r=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class eT{constructor(){this.ve=0,this.Fe=tT(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),r=Be();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Ae(38017,{changeType:c})}})),new Lc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=tT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cs(),this.Je=ph(),this.He=ph(),this.Ye=new gt(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(up(c))if(r===0){const h=new Ee(c.path);this.et(n,h,ln.newNoDocument(h,xe.min()))}else Qe(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let h,p;try{h=vr(r).toUint8Array()}catch(g){if(g instanceof y0)return Oo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Jp(h,o,c)}catch(g){return Oo(g instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const p=this.ot(h);if(p){if(c.current&&up(p.target)){const g=new Ee(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,ln.newNoDocument(g,e))}c.Be&&(n.set(h,c.ke()),c.qe())}}));let r=Be();this.He.forEach(((c,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new gd(e,n,this.Ye,this.je,r);return this.je=Cs(),this.Je=ph(),this.He=ph(),this.Ye=new gt(Ue),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new eT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new qt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new qt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ph(){return new gt(Ee.comparator)}function tT(){return new gt(Ee.comparator)}const rD={asc:"ASCENDING",desc:"DESCENDING"},aD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oD={and:"AND",or:"OR"};class lD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function fp(i,e){return i.useProto3Json||cd(e)?e:{value:e}}function $h(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $0(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function cD(i,e){return $h(i,e.toTimestamp())}function ji(i){return Qe(!!i,49232),xe.fromTimestamp((function(n){const r=_r(n);return new ct(r.seconds,r.nanos)})(i))}function eg(i,e){return mp(i,e).canonicalString()}function mp(i,e){const n=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function K0(i){const e=ot.fromString(i);return Qe(J0(e),10190,{key:e.toString()}),e}function pp(i,e){return eg(i.databaseId,e.path)}function Um(i,e){const n=K0(e);if(n.get(1)!==i.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ee(X0(n))}function Q0(i,e){return eg(i.databaseId,e)}function uD(i){const e=K0(i);return e.length===4?ot.emptyPath():X0(e)}function gp(i){return new ot(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function X0(i){return Qe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function nT(i,e,n){return{name:pp(i,e),fields:n.value.mapValue.fields}}function hD(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,v){return y.useProto3Json?(Qe(v===void 0||typeof v=="string",58123),nn.fromBase64String(v||"")):(Qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),nn.fromUint8Array(v||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const v=y.code===void 0?Z.UNKNOWN:F0(y.code);return new ce(v,y.message||"")})(h);n=new Y0(r,o,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Um(i,r.document.name),c=ji(r.document.updateTime),h=r.document.createTime?ji(r.document.createTime):xe.min(),p=new En({mapValue:{fields:r.document.fields}}),g=ln.newFoundDocument(o,c,h,p),y=r.targetIds||[],v=r.removedTargetIds||[];n=new Ih(y,v,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Um(i,r.document),c=r.readTime?ji(r.readTime):xe.min(),h=ln.newNoDocument(o,c),p=r.removedTargetIds||[];n=new Ih([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Um(i,r.document),c=r.removedTargetIds||[];n=new Ih([],c,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,h=new eD(o,c),p=r.targetId;n=new G0(p,h)}}return n}function dD(i,e){let n;if(e instanceof Vc)n={update:nT(i,e.key,e.value)};else if(e instanceof pd)n={delete:pp(i,e.key)};else if(e instanceof Rr)n={update:nT(i,e.key,e.data),updateMask:TD(e.fieldMask)};else{if(!(e instanceof WN))return Ae(16599,{Vt:e.type});n={verify:pp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,h){const p=h.transform;if(p instanceof Gh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof wc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof bc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Yh)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw Ae(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:cD(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ae(27497)})(i,e.precondition)),n}function fD(i,e){return i&&i.length>0?(Qe(e!==void 0,14353),i.map((n=>(function(o,c){let h=o.updateTime?ji(o.updateTime):ji(c);return h.isEqual(xe.min())&&(h=ji(c)),new KN(h,o.transformResults||[])})(n,e)))):[]}function mD(i,e){return{documents:[Q0(i,e.path)]}}function pD(i,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Q0(i,o);const c=(function(y){if(y.length!==0)return Z0(ci.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(y){if(y.length!==0)return y.map((v=>(function(S){return{field:To(S.field),direction:_D(S.dir)}})(v)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=fp(i,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function gD(i){let e=uD(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Qe(r===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let c=[];n.where&&(c=(function(w){const S=W0(w);return S instanceof ci&&C0(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(w){return w.map((S=>(function(x){return new Fh(wo(x.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(w){let S;return S=typeof w=="object"?w.value:w,cd(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(w){const S=!!w.before,I=w.values||[];return new Hh(I,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(w){const S=!w.before,I=w.values||[];return new Hh(I,S)})(n.endAt)),PN(e,o,h,c,p,"F",g,y)}function yD(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function W0(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wo(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=wo(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=wo(n.unaryFilter.field);return jt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=wo(n.unaryFilter.field);return jt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(i):i.fieldFilter!==void 0?(function(n){return jt.create(wo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return ci.create(n.compositeFilter.filters.map((r=>W0(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(i):Ae(30097,{filter:i})}function _D(i){return rD[i]}function vD(i){return aD[i]}function ED(i){return oD[i]}function To(i){return{fieldPath:i.canonicalString()}}function wo(i){return tn.fromServerFormat(i.fieldPath)}function Z0(i){return i instanceof jt?(function(n){if(n.op==="=="){if(HE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(qE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(qE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:vD(n.op),value:n.value}}})(i):i instanceof ci?(function(n){const r=n.getFilters().map((o=>Z0(o)));return r.length===1?r[0]:{compositeFilter:{op:ED(n.op),filters:r}}})(i):Ae(54877,{filter:i})}function TD(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function J0(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n,r,o,c=xe.min(),h=xe.min(),p=nn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.yt=e}}function bD(i){const e=gD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?dp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.Cn=new AD}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(yr.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class AD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new qt(ot.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new qt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eb=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(eb,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ko(0)}static cr(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="LruGarbageCollector",RD=1048576;function rT([i,e],[n,r]){const o=Ue(i,n);return o===0?Ue(e,r):o}class CD{constructor(e){this.Ir=e,this.buffer=new qt(rT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();rT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ID{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(sT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ho(n)?de(sT,"Ignoring IndexedDB error during garbage collection: ",n):await qo(n)}await this.Vr(3e5)}))}}class xD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(ld.ce);const r=new CD(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(iT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,c,h,p,g,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,p=Date.now(),this.removeTargets(e,r,n)))).next((w=>(c=w,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(y=Date.now(),vo()<=Le.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function ND(i,e){return new xD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.changes=new wa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&fc(r.mutation,o,Dn.empty(),ct.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Be()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Be()){const o=ua();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let h=rc();return c.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const r=ua();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Be())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,r,o){let c=Cs();const h=dc(),p=(function(){return dc()})();return n.forEach(((g,y)=>{const v=r.get(y.key);o.has(y.key)&&(v===void 0||v.mutation instanceof Rr)?c=c.insert(y.key,y):v!==void 0?(h.set(y.key,v.mutation.getFieldMask()),fc(v.mutation,y,v.mutation.getFieldMask(),ct.now())):h.set(y.key,Dn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,v)=>h.set(y,v))),n.forEach(((y,v)=>p.set(y,new OD(v,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=dc();let o=new gt(((h,p)=>h-p)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let v=r.get(g)||Dn.empty();v=p.applyToLocalView(y,v),r.set(g,v);const w=(o.get(p.batchId)||Be()).add(g);o=o.insert(p.batchId,w)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,v=g.value,w=k0();v.forEach((S=>{if(!c.has(S)){const I=q0(n.get(S),r.get(S));I!==null&&w.set(S,I),c=c.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,w))}return te.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(h){return Ee.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):D0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):te.resolve(ua());let p=_c,g=c;return h.next((y=>te.forEach(y,((v,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{g=g.insert(v,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Be()))).next((v=>({batchId:p,changes:P0(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((r=>{let o=rc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let h=rc();return this.indexManager.getCollectionParents(e,c).next((p=>te.forEach(p,(g=>{const y=(function(w,S){return new kc(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((v=>{v.forEach(((w,S)=>{h=h.insert(w,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((h=>{c.forEach(((g,y)=>{const v=y.getKey();h.get(v)===null&&(h=h.insert(v,ln.newInvalidDocument(v)))}));let p=rc();return h.forEach(((g,y)=>{const v=c.get(g);v!==void 0&&fc(v.mutation,y,Dn.empty(),ct.now()),dd(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ji(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:bD(o.bundledQuery),readTime:ji(o.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.overlays=new gt(Ee.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ua();return te.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.St(e,n,c)})),te.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const o=ua(),c=n.length+1,h=new Ee(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new gt(((y,v)=>y-v));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let v=c.get(y.largestBatchId);v===null&&(v=ua(),c=c.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const p=ua(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,v)=>p.set(y,v))),!(p.size()>=o)););return te.resolve(p)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new JN(n,r));let c=this.qr.get(n);c===void 0&&(c=Be(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.Qr=new qt(Kt.$r),this.Ur=new qt(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Kt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Kt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ee(new ot([])),r=new Kt(n,e),o=new Kt(n,e+1),c=[];return this.Ur.forEachInRange([r,o],(h=>{this.Gr(h),c.push(h.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new ot([])),r=new Kt(n,e),o=new Kt(n,e+1);let c=Be();return this.Ur.forEachInRange([r,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new Kt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Kt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new ZN(c,n,r,o);this.mutationQueue.push(h);for(const p of o)this.Zr=this.Zr.add(new Kt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),c=o<0?0:o;return te.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Gp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kt(n,0),o=new Kt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],(h=>{const p=this.Xr(h.Yr);c.push(p)})),te.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qt(Ue);return n.forEach((o=>{const c=new Kt(o,0),h=new Kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,h],(p=>{r=r.add(p.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;Ee.isDocumentKey(c)||(c=c.child(""));const h=new Kt(new Ee(c),0);let p=new qt(Ue);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),h),te.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(n.mutations,(o=>{const c=new Kt(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Kt(n,0),o=this.Zr.firstAfterOrEqual(r);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.ri=e,this.docs=(function(){return new gt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=Cs();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():ln.newInvalidDocument(o))})),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=Cs();const h=n.path,p=new Ee(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:v}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||fN(dN(v),r)<=0||(o.has(v.key)||dd(n,v))&&(c=c.insert(v.key,v.mutableCopy()))}return te.resolve(c)}getAllFromCollectionGroup(e,n,r,o){Ae(9500)}ii(e,n){return te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new UD(this)}getSize(e){return te.resolve(this.size)}}class UD extends DD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.persistence=e,this.si=new wa((n=>Kp(n)),Qp),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new tg,this.targetCount=0,this.ai=ko.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ko(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.si.forEach(((h,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(h),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),te.waitFor(c).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),te.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n){this.ui={},this.overlays={},this.ci=new ld(0),this.li=!1,this.li=!0,this.hi=new kD,this.referenceDelegate=e(this),this.Pi=new BD(this),this.indexManager=new SD,this.remoteDocumentCache=(function(o){return new LD(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new wD(n),this.Ii=new jD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new VD(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const o=new zD(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class zD extends pN{constructor(e){super(),this.currentSequenceNumber=e}}class ng{constructor(e){this.persistence=e,this.Ri=new tg,this.Vi=null}static mi(e){return new ng(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const o=Ee.fromPath(r);return this.gi(e,o).next((c=>{c||n.removeEntry(o,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Kh{constructor(e,n){this.persistence=e,this.pi=new wa((r=>_N(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=ND(this,n)}static mi(e,n){return new Kh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((r,o)=>this.br(e,r,o).next((c=>c?te.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((p=>{p||(r++,c.removeEntry(h,xe.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ah(e.data.value)),n}br(e,n,r){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Be(),o=Be();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ig(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _C()?8:gN(un())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.ys(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ws(e,n,o,r).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new qD;return this.Ss(e,n,h).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,h,p.size)}))})).next((()=>c.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(vo()<=Le.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(vo()<=Le.DEBUG&&de("QueryEngine","Query:",Eo(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(vo()<=Le.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):te.resolve())}ys(e,n){if($E(n))return te.resolve(null);let r=Mi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=dp(n,null,"F"),r=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const h=Be(...c);return this.ps.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,h,g.readTime)?this.ys(e,dp(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,r,o){return $E(n)||o.isEqual(xe.min())?te.resolve(null):this.ps.getDocuments(e,r).next((c=>{const h=this.Ds(n,c);return this.Cs(n,h,r,o)?te.resolve(null):(vo()<=Le.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(n)),this.vs(e,h,n,hN(o,_c)).next((p=>p)))}))}Ds(e,n){let r=new qt(M0(e));return n.forEach(((o,c)=>{dd(e,c)&&(r=r.add(c))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,r){return vo()<=Le.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.ps.getDocumentsMatchingQuery(e,n,yr.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg="LocalStore",FD=3e8;class GD{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new gt(Ue),this.xs=new wa((c=>Kp(c)),Qp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function YD(i,e,n,r){return new GD(i,e,n,r)}async function nb(i,e){const n=Ne(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const h=[],p=[];let g=Be();for(const y of o){h.push(y.batchId);for(const v of y.mutations)g=g.add(v.key)}for(const y of c){p.push(y.batchId);for(const v of y.mutations)g=g.add(v.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function $D(i,e){const n=Ne(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,v){const w=y.batch,S=w.keys();let I=te.resolve();return S.forEach((x=>{I=I.next((()=>v.getEntry(g,x))).next((z=>{const L=y.docVersions.get(x);Qe(L!==null,48541),z.version.compareTo(L)<0&&(w.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),v.addEntry(z)))}))})),I.next((()=>p.mutationQueue.removeMutationBatch(g,w)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Be();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function ib(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function KD(i,e){const n=Ne(i),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((v,w)=>{const S=o.get(w);if(!S)return;p.push(n.Pi.removeMatchingKeys(c,v.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(c,v.addedDocuments,w))));let I=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(nn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,r)),o=o.insert(w,I),(function(z,L,J){return z.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=FD?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(S,I,v)&&p.push(n.Pi.updateTargetData(c,I))}));let g=Cs(),y=Be();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,v))})),p.push(QD(c,h,e.documentUpdates).next((v=>{g=v.ks,y=v.qs}))),!r.isEqual(xe.min())){const v=n.Pi.getLastRemoteSnapshotVersion(c).next((w=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(v)}return te.waitFor(p).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=o,c)))}function QD(i,e,n){let r=Be(),o=Be();return n.forEach((c=>r=r.add(c))),e.getEntries(i,r).next((c=>{let h=Cs();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(xe.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):de(sg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:h,qs:o}}))}function XD(i,e){const n=Ne(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Gp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function WD(i,e){const n=Ne(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((c=>c?(o=c,te.resolve(o)):n.Pi.allocateTargetId(r).next((h=>(o=new ur(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function yp(i,e,n){const r=Ne(i),o=r.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Ho(h))throw h;de(sg,`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function aT(i,e,n){const r=Ne(i);let o=xe.min(),c=Be();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,v){const w=Ne(g),S=w.xs.get(v);return S!==void 0?te.resolve(w.Ms.get(S)):w.Pi.getTargetData(y,v)})(r,h,Mi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(h,p.targetId).next((g=>{c=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(h,e,n?o:xe.min(),n?c:Be()))).next((p=>(ZD(r,VN(e),p),{documents:p,Qs:c})))))}function ZD(i,e,n){let r=i.Os.get(e)||xe.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),i.Os.set(e,r)}class oT{constructor(){this.activeTargetIds=HN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JD{constructor(){this.Mo=new oT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new oT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="ConnectivityMonitor";class cT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(lT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(lT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh=null;function _p(){return gh===null?gh=(function(){return 268435456+Math.round(2147483648*Math.random())})():gh++,"0x"+gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="RestConnection",tO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===zh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,c){const h=_p(),p=this.zo(e,n.toUriEncodedString());de(Bm,`Sending RPC '${e}' ${h}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(p),v=va(y);return this.Jo(e,p,g,r,v).then((w=>(de(Bm,`Received RPC '${e}' ${h}: `,w),w)),(w=>{throw Oo(Bm,`RPC '${e}' ${h} failed with error: `,w,"url: ",p,"request:",r),w}))}Ho(e,n,r,o,c,h){return this.Go(e,n,r,o,c)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const r=tO[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class sO extends nO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,c){const h=_p();return new Promise(((p,g)=>{const y=new a0;y.setWithCredentials(!0),y.listenOnce(o0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Sh.NO_ERROR:const w=y.getResponseJson();de(an,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),p(w);break;case Sh.TIMEOUT:de(an,`RPC '${e}' ${h} timed out`),g(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const S=y.getStatus();if(de(an,`RPC '${e}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let I=y.getResponseJson();Array.isArray(I)&&(I=I[0]);const x=I?.error;if(x&&x.status&&x.message){const z=(function(J){const Q=J.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Q)>=0?Q:Z.UNKNOWN})(x.status);g(new ce(z,x.message))}else g(new ce(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{de(an,`RPC '${e}' ${h} completed.`)}}));const v=JSON.stringify(o);de(an,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",v,r,15)}))}T_(e,n,r){const o=_p(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=u0(),p=c0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const v=c.join("");de(an,`Creating RPC '${e}' stream ${o}: ${v}`,g);const w=h.createWebChannel(v,g);this.I_(w);let S=!1,I=!1;const x=new iO({Yo:L=>{I?de(an,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(S||(de(an,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),de(an,`RPC '${e}' stream ${o} sending:`,L),w.send(L))},Zo:()=>w.close()}),z=(L,J,Q)=>{L.listen(J,(ie=>{try{Q(ie)}catch(he){setTimeout((()=>{throw he}),0)}}))};return z(w,sc.EventType.OPEN,(()=>{I||(de(an,`RPC '${e}' stream ${o} transport opened.`),x.o_())})),z(w,sc.EventType.CLOSE,(()=>{I||(I=!0,de(an,`RPC '${e}' stream ${o} transport closed`),x.a_(),this.E_(w))})),z(w,sc.EventType.ERROR,(L=>{I||(I=!0,Oo(an,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),x.a_(new ce(Z.UNAVAILABLE,"The operation could not be completed")))})),z(w,sc.EventType.MESSAGE,(L=>{if(!I){const J=L.data[0];Qe(!!J,16349);const Q=J,ie=Q?.error||Q[0]?.error;if(ie){de(an,`RPC '${e}' stream ${o} received error:`,ie);const he=ie.status;let ue=(function(R){const C=Mt[R];if(C!==void 0)return F0(C)})(he),pe=ie.message;ue===void 0&&(ue=Z.INTERNAL,pe="Unknown error status: "+he+" with message "+ie.message),I=!0,x.a_(new ce(ue,pe)),w.close()}else de(an,`RPC '${e}' stream ${o} received:`,J),x.u_(J)}})),z(p,l0.STAT_EVENT,(L=>{L.stat===rp.PROXY?de(an,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===rp.NOPROXY&&de(an,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(i){return new lD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="PersistentStream";class rb{constructor(e,n,r,o,c,h,p,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(As(n.toString()),As("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new ce(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(uT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(uT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rO extends rb{constructor(e,n,r,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=hD(this.serializer,e),r=(function(c){if(!("targetChange"in c))return xe.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?xe.min():h.readTime?ji(h.readTime):xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=gp(this.serializer),n.addTarget=(function(c,h){let p;const g=h.target;if(p=up(g)?{documents:mD(c,g)}:{query:pD(c,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=$0(c,h.resumeToken);const y=fp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(xe.min())>0){p.readTime=$h(c,h.snapshotVersion.toTimestamp());const y=fp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=yD(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=gp(this.serializer),n.removeTarget=e,this.q_(n)}}class aO extends rb{constructor(e,n,r,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,h),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=fD(e.writeResults,e.commitTime),r=ji(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=gp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>dD(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{}class lO extends oO{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Go(e,mp(n,r),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(Z.UNKNOWN,c.toString())}))}Ho(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.Ho(e,mp(n,r),o,h,p,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(Z.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class cO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(As(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class uO{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((h=>{r.enqueueAndForget((async()=>{ba(this)&&(de(ya,"Restarting streams for network reachability change."),await(async function(g){const y=Ne(g);y.Ea.add(4),await Uc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await _d(y)})(this))}))})),this.Ra=new cO(r,o)}}async function _d(i){if(ba(i))for(const e of i.da)await e(!0)}async function Uc(i){for(const e of i.da)await e(!1)}function ab(i,e){const n=Ne(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),lg(n)?og(n):Fo(n).O_()&&ag(n,e))}function rg(i,e){const n=Ne(i),r=Fo(n);n.Ia.delete(e),r.O_()&&ob(n,e),n.Ia.size===0&&(r.O_()?r.L_():ba(n)&&n.Ra.set("Unknown"))}function ag(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fo(i).Y_(e)}function ob(i,e){i.Va.Ue(e),Fo(i).Z_(e)}function og(i){i.Va=new sD({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Fo(i).start(),i.Ra.ua()}function lg(i){return ba(i)&&!Fo(i).x_()&&i.Ia.size>0}function ba(i){return Ne(i).Ea.size===0}function lb(i){i.Va=void 0}async function hO(i){i.Ra.set("Online")}async function dO(i){i.Ia.forEach(((e,n)=>{ag(i,e)}))}async function fO(i,e){lb(i),lg(i)?(i.Ra.ha(e),og(i)):i.Ra.set("Unknown")}async function mO(i,e,n){if(i.Ra.set("Online"),e instanceof Y0&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.Va.removeTarget(p))})(i,e)}catch(r){de(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qh(i,r)}else if(e instanceof Ih?i.Va.Ze(e):e instanceof G0?i.Va.st(e):i.Va.tt(e),!n.isEqual(xe.min()))try{const r=await ib(i.localStore);n.compareTo(r)>=0&&await(function(c,h){const p=c.Va.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const v=c.Ia.get(y);v&&c.Ia.set(y,v.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const v=c.Ia.get(g);if(!v)return;c.Ia.set(g,v.withResumeToken(nn.EMPTY_BYTE_STRING,v.snapshotVersion)),ob(c,g);const w=new ur(v.target,g,y,v.sequenceNumber);ag(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(i,n)}catch(r){de(ya,"Failed to raise snapshot:",r),await Qh(i,r)}}async function Qh(i,e,n){if(!Ho(e))throw e;i.Ea.add(1),await Uc(i),i.Ra.set("Offline"),n||(n=()=>ib(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{de(ya,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await _d(i)}))}function cb(i,e){return e().catch((n=>Qh(i,n,e)))}async function vd(i){const e=Ne(i),n=Tr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gp;for(;pO(e);)try{const o=await XD(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,gO(e,o)}catch(o){await Qh(e,o)}ub(e)&&hb(e)}function pO(i){return ba(i)&&i.Ta.length<10}function gO(i,e){i.Ta.push(e);const n=Tr(i);n.O_()&&n.X_&&n.ea(e.mutations)}function ub(i){return ba(i)&&!Tr(i).x_()&&i.Ta.length>0}function hb(i){Tr(i).start()}async function yO(i){Tr(i).ra()}async function _O(i){const e=Tr(i);for(const n of i.Ta)e.ea(n.mutations)}async function vO(i,e,n){const r=i.Ta.shift(),o=Zp.from(r,e,n);await cb(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await vd(i)}async function EO(i,e){e&&Tr(i).X_&&await(async function(r,o){if((function(h){return tD(h)&&h!==Z.ABORTED})(o.code)){const c=r.Ta.shift();Tr(r).B_(),await cb(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await vd(r)}})(i,e),ub(i)&&hb(i)}async function hT(i,e){const n=Ne(i);n.asyncQueue.verifyOperationInProgress(),de(ya,"RemoteStore received new credentials");const r=ba(n);n.Ea.add(3),await Uc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _d(n)}async function TO(i,e){const n=Ne(i);e?(n.Ea.delete(2),await _d(n)):e||(n.Ea.add(2),await Uc(n),n.Ra.set("Unknown"))}function Fo(i){return i.ma||(i.ma=(function(n,r,o){const c=Ne(n);return c.sa(),new rO(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:hO.bind(null,i),t_:dO.bind(null,i),r_:fO.bind(null,i),H_:mO.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),lg(i)?og(i):i.Ra.set("Unknown")):(await i.ma.stop(),lb(i))}))),i.ma}function Tr(i){return i.fa||(i.fa=(function(n,r,o){const c=Ne(n);return c.sa(),new aO(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:yO.bind(null,i),r_:EO.bind(null,i),ta:_O.bind(null,i),na:vO.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await vd(i)):(await i.fa.stop(),i.Ta.length>0&&(de(ya,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const h=Date.now()+r,p=new cg(e,n,h,o,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(i,e){if(As("AsyncQueue",`${e}: ${i}`),Ho(i))return new ce(Z.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{static emptySet(e){return new xo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=rc(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.ga=new gt(Ee.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Vo{constructor(e,n,r,o,c,h,p,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,c){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new Vo(e,n,xo.emptySet(n),h,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class bO{constructor(){this.queries=fT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ne(n),c=o.queries;o.queries=fT(),c.forEach(((h,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function fT(){return new wa((i=>O0(i)),hd)}async function db(i,e){const n=Ne(i);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new wO,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=ug(h,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&hg(n)}async function fb(i,e){const n=Ne(i),r=e.query;let o=3;const c=n.queries.get(r);if(c){const h=c.Sa.indexOf(e);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function SO(i,e){const n=Ne(i);let r=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const p of h.Sa)p.Fa(o)&&(r=!0);h.wa=o}}r&&hg(n)}function AO(i,e,n){const r=Ne(i),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);r.queries.delete(e)}function hg(i){i.Ca.forEach((e=>{e.next()}))}var vp,mT;(mT=vp||(vp={})).Ma="default",mT.Cache="cache";class mb{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.key=e}}class gb{constructor(e){this.key=e}}class RO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=M0(e),this.tu=new xo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new dT,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,w)=>{const S=o.get(v),I=dd(this.query,w)?w:null,x=!!S&&this.mutatedKeys.has(S.key),z=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let L=!1;S&&I?S.data.isEqual(I.data)?x!==z&&(r.track({type:3,doc:I}),L=!0):this.su(S,I)||(r.track({type:2,doc:I}),L=!0,(g&&this.eu(I,g)>0||y&&this.eu(I,y)<0)&&(p=!0)):!S&&I?(r.track({type:0,doc:I}),L=!0):S&&!I&&(r.track({type:1,doc:S}),L=!0,(g||y)&&(p=!0)),L&&(I?(h=h.add(I),c=z?c.add(v):c.delete(v)):(h=h.delete(v),c=c.delete(v)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),c=c.delete(v.key),r.track({type:1,doc:v})}return{tu:h,iu:r,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((v,w)=>(function(I,x){const z=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:L})}};return z(I)-z(x)})(v.type,w.type)||this.eu(v.doc,w.doc))),this.ou(r),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,h.length!==0||y?{snapshot:new Vo(this.query,e.tu,c,h,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new gb(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new pb(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dg="SyncEngine";class CO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class IO{constructor(e){this.key=e,this.hu=!1}}class xO{constructor(e,n,r,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new wa((p=>O0(p)),hd),this.Iu=new Map,this.Eu=new Set,this.du=new gt(Ee.comparator),this.Au=new Map,this.Ru=new tg,this.Vu={},this.mu=new Map,this.fu=ko.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NO(i,e,n=!0){const r=wb(i);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await yb(r,e,n,!0),o}async function DO(i,e){const n=wb(i);await yb(n,e,!0,!1)}async function yb(i,e,n,r){const o=await WD(i.localStore,Mi(e)),c=o.targetId,h=i.sharedClientState.addLocalQueryTarget(c,n);let p;return r&&(p=await OO(i,e,c,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&ab(i.remoteStore,o),p}async function OO(i,e,n,r,o){i.pu=(w,S,I)=>(async function(z,L,J,Q){let ie=L.view.ru(J);ie.Cs&&(ie=await aT(z.localStore,L.query,!1).then((({documents:P})=>L.view.ru(P,ie))));const he=Q&&Q.targetChanges.get(L.targetId),ue=Q&&Q.targetMismatches.get(L.targetId)!=null,pe=L.view.applyChanges(ie,z.isPrimaryClient,he,ue);return gT(z,L.targetId,pe.au),pe.snapshot})(i,w,S,I);const c=await aT(i.localStore,e,!0),h=new RO(e,c.Qs),p=h.ru(c.documents),g=Lc.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",o),y=h.applyChanges(p,i.isPrimaryClient,g);gT(i,n,y.au);const v=new CO(e,n,h);return i.Tu.set(e,v),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function MO(i,e,n){const r=Ne(i),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((h=>!hd(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await yp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&rg(r.remoteStore,o.targetId),Ep(r,o.targetId)})).catch(qo)):(Ep(r,o.targetId),await yp(r.localStore,o.targetId,!0))}async function jO(i,e){const n=Ne(i),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rg(n.remoteStore,r.targetId))}async function PO(i,e,n){const r=qO(i);try{const o=await(function(h,p){const g=Ne(h),y=ct.now(),v=p.reduce(((I,x)=>I.add(x.key)),Be());let w,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let x=Cs(),z=Be();return g.Ns.getEntries(I,v).next((L=>{x=L,x.forEach(((J,Q)=>{Q.isValidDocument()||(z=z.add(J))}))})).next((()=>g.localDocuments.getOverlayedDocuments(I,x))).next((L=>{w=L;const J=[];for(const Q of p){const ie=XN(Q,w.get(Q.key).overlayedDocument);ie!=null&&J.push(new Rr(Q.key,ie,S0(ie.value.mapValue),On.exists(!0)))}return g.mutationQueue.addMutationBatch(I,y,J,p)})).next((L=>{S=L;const J=L.applyToLocalDocumentSet(w,z);return g.documentOverlayCache.saveOverlays(I,L.batchId,J)}))})).then((()=>({batchId:S.batchId,changes:P0(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.Vu[h.currentUser.toKey()];y||(y=new gt(Ue)),y=y.insert(p,g),h.Vu[h.currentUser.toKey()]=y})(r,o.batchId,n),await Bc(r,o.changes),await vd(r.remoteStore)}catch(o){const c=ug(o,"Failed to persist write");n.reject(c)}}async function _b(i,e){const n=Ne(i);try{const r=await KD(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=n.Au.get(c);h&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Qe(h.hu,14607):o.removedDocuments.size>0&&(Qe(h.hu,42227),h.hu=!1))})),await Bc(n,r,e)}catch(r){await qo(r)}}function pT(i,e,n){const r=Ne(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=Ne(h);g.onlineState=p;let y=!1;g.queries.forEach(((v,w)=>{for(const S of w.Sa)S.va(p)&&(y=!0)})),y&&hg(g)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kO(i,e,n){const r=Ne(i);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let h=new gt(Ee.comparator);h=h.insert(c,ln.newNoDocument(c,xe.min()));const p=Be().add(c),g=new gd(xe.min(),new Map,new gt(Ue),h,p);await _b(r,g),r.du=r.du.remove(c),r.Au.delete(e),fg(r)}else await yp(r.localStore,e,!1).then((()=>Ep(r,e,n))).catch(qo)}async function VO(i,e){const n=Ne(i),r=e.batch.batchId;try{const o=await $D(n.localStore,e);Eb(n,r,null),vb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bc(n,o)}catch(o){await qo(o)}}async function LO(i,e,n){const r=Ne(i);try{const o=await(function(h,p){const g=Ne(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return g.mutationQueue.lookupMutationBatch(y,p).next((w=>(Qe(w!==null,37113),v=w.keys(),g.mutationQueue.removeMutationBatch(y,w)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,v,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>g.localDocuments.getDocuments(y,v)))}))})(r.localStore,e);Eb(r,e,n),vb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bc(r,o)}catch(o){await qo(o)}}function vb(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Eb(i,e,n){const r=Ne(i);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Ep(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||Tb(i,r)}))}function Tb(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(rg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),fg(i))}function gT(i,e,n){for(const r of n)r instanceof pb?(i.Ru.addReference(r.key,e),UO(i,r)):r instanceof gb?(de(dg,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||Tb(i,r.key)):Ae(19791,{wu:r})}function UO(i,e){const n=e.key,r=n.path.canonicalString();i.du.get(n)||i.Eu.has(r)||(de(dg,"New document in limbo: "+n),i.Eu.add(r),fg(i))}function fg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Ee(ot.fromString(e)),r=i.fu.next();i.Au.set(r,new IO(n)),i.du=i.du.insert(n,r),ab(i.remoteStore,new ur(Mi(Xp(n.path)),r,"TargetPurposeLimboResolution",ld.ce))}}async function Bc(i,e,n){const r=Ne(i),o=[],c=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{h.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const v=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,v?"current":"not-current")}if(y){o.push(y);const v=ig.As(g.targetId,y);c.push(v)}})))})),await Promise.all(h),r.Pu.H_(o),await(async function(g,y){const v=Ne(g);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>te.forEach(y,(S=>te.forEach(S.Es,(I=>v.persistence.referenceDelegate.addReference(w,S.targetId,I))).next((()=>te.forEach(S.ds,(I=>v.persistence.referenceDelegate.removeReference(w,S.targetId,I)))))))))}catch(w){if(!Ho(w))throw w;de(sg,"Failed to update sequence numbers: "+w)}for(const w of y){const S=w.targetId;if(!w.fromCache){const I=v.Ms.get(S),x=I.snapshotVersion,z=I.withLastLimboFreeSnapshotVersion(x);v.Ms=v.Ms.insert(S,z)}}})(r.localStore,c))}async function BO(i,e){const n=Ne(i);if(!n.currentUser.isEqual(e)){de(dg,"User change. New user:",e.toKey());const r=await nb(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new ce(Z.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bc(n,r.Ls)}}function zO(i,e){const n=Ne(i),r=n.Au.get(e);if(r&&r.hu)return Be().add(r.key);{let o=Be();const c=n.Iu.get(e);if(!c)return o;for(const h of c){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function wb(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=_b.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kO.bind(null,e),e.Pu.H_=SO.bind(null,e.eventManager),e.Pu.yu=AO.bind(null,e.eventManager),e}function qO(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LO.bind(null,e),e}class Xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return YD(this.persistence,new HD,e.initialUser,this.serializer)}Cu(e){return new tb(ng.mi,this.serializer)}Du(e){return new JD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xh.provider={build:()=>new Xh};class HO extends Xh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof Kh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ID(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new tb((r=>Kh.mi(r,n)),this.serializer)}}class Tp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BO.bind(null,this.syncEngine),await TO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bO})()}createDatastore(e){const n=yd(e.databaseInfo.databaseId),r=(function(c){return new sO(c)})(e.databaseInfo);return(function(c,h,p,g){return new lO(c,h,p,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,h,p){return new uO(r,o,c,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>pT(this.syncEngine,n,0)),(function(){return cT.v()?new cT:new eO})())}createSyncEngine(e,n){return(function(o,c,h,p,g,y,v){const w=new xO(o,c,h,p,g,y);return v&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ne(n);de(ya,"RemoteStore shutting down."),r.Ea.add(5),await Uc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tp.provider={build:()=>new Tp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):As("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="FirestoreClient";class FO{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=Fp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async h=>{de(wr,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(de(wr,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ug(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function qm(i,e){i.asyncQueue.verifyOperationInProgress(),de(wr,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await nb(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function yT(i,e){i.asyncQueue.verifyOperationInProgress();const n=await GO(i);de(wr,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>hT(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>hT(e.remoteStore,o))),i._onlineComponents=e}async function GO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(wr,"Using user provided OfflineComponentProvider");try{await qm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await qm(i,new Xh)}}else de(wr,"Using default OfflineComponentProvider"),await qm(i,new HO(void 0));return i._offlineComponents}async function Sb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(wr,"Using user provided OnlineComponentProvider"),await yT(i,i._uninitializedComponentsProvider._online)):(de(wr,"Using default OnlineComponentProvider"),await yT(i,new Tp))),i._onlineComponents}function YO(i){return Sb(i).then((e=>e.syncEngine))}async function Ab(i){const e=await Sb(i),n=e.eventManager;return n.onListen=NO.bind(null,e.syncEngine),n.onUnlisten=MO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jO.bind(null,e.syncEngine),n}function $O(i,e,n={}){const r=new Ts;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const v=new bb({next:S=>{v.Nu(),h.enqueueAndForget((()=>fb(c,w)));const I=S.docs.has(p);!I&&S.fromCache?y.reject(new ce(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&S.fromCache&&g&&g.source==="server"?y.reject(new ce(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),w=new mb(Xp(p.path),v,{includeMetadataChanges:!0,qa:!0});return db(c,w)})(await Ab(i),i.asyncQueue,e,n,r))),r.promise}function KO(i,e,n={}){const r=new Ts;return i.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const v=new bb({next:S=>{v.Nu(),h.enqueueAndForget((()=>fb(c,w))),S.fromCache&&g.source==="server"?y.reject(new ce(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),w=new mb(p,v,{includeMetadataChanges:!0,qa:!0});return db(c,w)})(await Ab(i),i.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="firestore.googleapis.com",vT=!0;class ET{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cb,this.ssl=vT}else this.host=e.host,this.ssl=e.ssl??vT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RD)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ed{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ET({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ET(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new eN;switch(r.type){case"firstParty":return new sN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=_T.get(n);r&&(de("ComponentProvider","Removing Datastore"),_T.delete(n),r.terminate())})(this),Promise.resolve()}}function QO(i,e,n,r={}){i=Rs(i,Ed);const o=va(e),c=i._getSettings(),h={...c,emulatorOptions:i._getEmulatorOptions()},p=`${e}:${n}`;o&&(Np(`https://${p}`),Dp("Firestore",!0)),c.host!==Cb&&c.host!==p&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:r};if(!da(g,h)&&(i._setSettings(g),r.mockUserToken)){let y,v;if(typeof r.mockUserToken=="string")y=r.mockUserToken,v=on.MOCK_USER;else{y=vw(r.mockUserToken,i._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new on(w)}i._authCredentials=new tN(new d0(y,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Go(this.firestore,e,this._query)}}class kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Pc(n,kt._jsonSchema))return new kt(e,r||null,new Ee(ot.fromString(n.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:Pt("string",kt._jsonSchemaVersion),referencePath:Pt("string")};class mr extends Go{constructor(e,n,r){super(e,n,Xp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new Ee(e))}withConverter(e){return new mr(this.firestore,e,this._path)}}function Kn(i,e,...n){if(i=Ct(i),f0("collection","path",e),i instanceof Ed){const r=ot.fromString(e,...n);return ME(r),new mr(i,null,r)}{if(!(i instanceof kt||i instanceof mr))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ot.fromString(e,...n));return ME(r),new mr(i.firestore,null,r)}}function Ii(i,e,...n){if(i=Ct(i),arguments.length===1&&(e=Fp.newId()),f0("doc","path",e),i instanceof Ed){const r=ot.fromString(e,...n);return OE(r),new kt(i,null,new Ee(r))}{if(!(i instanceof kt||i instanceof mr))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ot.fromString(e,...n));return OE(r),new kt(i.firestore,i instanceof mr?i.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="AsyncQueue";class wT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sb(this,"async_queue_retry"),this._c=()=>{const r=zm();r&&de(TT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ts;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ho(e))throw e;de(TT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,As("INTERNAL UNHANDLED ERROR: ",bT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=cg.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:bT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function bT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Yo extends Ed{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new wT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wT(e),this._firestoreClient=void 0,await e}}}function XO(i,e){const n=typeof i=="object"?i:jp(),r=typeof i=="string"?i:zh,o=id(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=gw("firestore");c&&QO(o,...c)}return o}function Td(i){if(i._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||WO(i),i._firestoreClient}function WO(i){const e=i._freezeSettings(),n=(function(o,c,h,p){return new TN(o,c,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Rb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new FO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(nn.fromBase64String(e))}catch(n){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pc(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Pt("string",Qn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(Pc(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Pt("string",Pi._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pc(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ki(e.vectorValues);throw new ce(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Pt("string",ki._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=/^__.*__$/;class JO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Rr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vc(e,this.data,n,this.fieldTransforms)}}class Ib{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Rr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:i})}}class pg{constructor(e,n,r,o,c,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new pg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xb(this.Ac)&&ZO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class e2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yd(e)}Cc(e,n,r,o=!1){return new pg({Ac:e,methodName:n,Dc:r,path:tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gg(i){const e=i._freezeSettings(),n=yd(i._databaseId);return new e2(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Nb(i,e,n,r,o,c={}){const h=i.Cc(c.merge||c.mergeFields?2:0,e,n,o);yg("Data must be an object, but it was:",h,r);const p=Db(r,h);let g,y;if(c.merge)g=new Dn(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const v=[];for(const w of c.mergeFields){const S=wp(e,w,n);if(!h.contains(S))throw new ce(Z.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Mb(v,S)||v.push(S)}g=new Dn(v),y=h.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,y=h.fieldTransforms;return new JO(new En(p),g,y)}class bd extends mg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bd}}function t2(i,e,n,r){const o=i.Cc(1,e,n);yg("Data must be an object, but it was:",o,r);const c=[],h=En.empty();Ar(r,((g,y)=>{const v=_g(e,g,n);y=Ct(y);const w=o.yc(v);if(y instanceof bd)c.push(v);else{const S=zc(y,w);S!=null&&(c.push(v),h.set(v,S))}}));const p=new Dn(c);return new Ib(h,p,o.fieldTransforms)}function n2(i,e,n,r,o,c){const h=i.Cc(1,e,n),p=[wp(e,r,n)],g=[o];if(c.length%2!=0)throw new ce(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)p.push(wp(e,c[S])),g.push(c[S+1]);const y=[],v=En.empty();for(let S=p.length-1;S>=0;--S)if(!Mb(y,p[S])){const I=p[S];let x=g[S];x=Ct(x);const z=h.yc(I);if(x instanceof bd)y.push(I);else{const L=zc(x,z);L!=null&&(y.push(I),v.set(I,L))}}const w=new Dn(y);return new Ib(v,w,h.fieldTransforms)}function i2(i,e,n,r=!1){return zc(n,i.Cc(r?4:3,e))}function zc(i,e){if(Ob(i=Ct(i)))return yg("Unsupported field value:",e,i),Db(i,e);if(i instanceof mg)return(function(r,o){if(!xb(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const c=[];let h=0;for(const p of r){let g=zc(p,o.wc(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(i,e)}return(function(r,o){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ct.fromDate(r);return{timestampValue:$h(o.serializer,c)}}if(r instanceof ct){const c=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$h(o.serializer,c)}}if(r instanceof Pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qn)return{bytesValue:$0(o.serializer,r._byteString)};if(r instanceof kt){const c=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(c))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:eg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ki)return(function(h,p){return{mapValue:{fields:{[w0]:{stringValue:b0},[qh]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Wp(p.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${od(r)}`)})(i,e)}function Db(i,e){const n={};return g0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ar(i,((r,o)=>{const c=zc(o,e.mc(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function Ob(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ct||i instanceof Pi||i instanceof Qn||i instanceof kt||i instanceof mg||i instanceof ki)}function yg(i,e,n){if(!Ob(n)||!m0(n)){const r=od(n);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function wp(i,e,n){if((e=Ct(e))instanceof wd)return e._internalPath;if(typeof e=="string")return _g(i,e);throw Wh("Field path arguments must be of type string or ",i,!1,void 0,n)}const s2=new RegExp("[~\\*/\\[\\]]");function _g(i,e,n){if(e.search(s2)>=0)throw Wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new wd(...e.split("."))._internalPath}catch{throw Wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Wh(i,e,n,r,o){const c=r&&!r.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${r}`),h&&(g+=` in document ${o}`),g+=")"),new ce(Z.INVALID_ARGUMENT,p+i+g)}function Mb(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class r2 extends jb{data(){return super.data()}}function vg(i,e){return typeof e=="string"?_g(i,e):e instanceof wd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eg{}class o2 extends Eg{}function aa(i,e,...n){let r=[];e instanceof Eg&&r.push(e),r=r.concat(n),(function(c){const h=c.filter((g=>g instanceof Tg)).length,p=c.filter((g=>g instanceof Sd)).length;if(h>1||h>0&&p>0)throw new ce(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class Sd extends o2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Sd(e,n,r)}_apply(e){const n=this._parse(e);return Pb(e._query,n),new Go(e.firestore,e.converter,hp(e._query,n))}_parse(e){const n=gg(e.firestore);return(function(c,h,p,g,y,v,w){let S;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){AT(w,v);const x=[];for(const z of w)x.push(ST(g,c,z));S={arrayValue:{values:x}}}else S=ST(g,c,w)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||AT(w,v),S=i2(p,h,w,v==="in"||v==="not-in");return jt.create(y,v,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function oa(i,e,n){const r=e,o=vg("where",i);return Sd._create(o,r,n)}class Tg extends Eg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Tg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let h=o;const p=c.getFlattenedFilters();for(const g of p)Pb(h,g),h=hp(h,g)})(e._query,n),new Go(e.firestore,e.converter,hp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ST(i,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new ce(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D0(e)&&n.indexOf("/")!==-1)throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!Ee.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zE(i,new Ee(r))}if(n instanceof kt)return zE(i,n._key);throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${od(n)}.`)}function AT(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Pb(i,e){const n=(function(o,c){for(const h of o)for(const p of h.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class l2{convertValue(e,n="none"){switch(Er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ar(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[qh].arrayValue?.values?.map((r=>Rt(r.doubleValue)));return new ki(n)}convertGeoPoint(e){return new Pi(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ud(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vc(e));default:return null}}convertTimestamp(e){const n=_r(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);Qe(J0(r),9688,{name:e});const o=new Ec(r.get(1),r.get(3)),c=new Ee(r.popFirst(5));return o.isEqual(n)||As(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(i,e,n){let r;return r=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,r}class oc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends jb{constructor(e,n,r,o,c,h){super(e,n,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:Pt("string",ha._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class xh extends ha{data(e={}){return super.data(e)}}class No{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new oc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new xh(this._firestore,this._userDataWriter,r.key,r,new oc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new xh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new oc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new xh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new oc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,v=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),v=h.indexOf(p.doc.key)),{type:c2(p.type),doc:g,oldIndex:y,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=No._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function c2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(i){i=Rs(i,kt);const e=Rs(i.firestore,Yo);return $O(Td(e),i._key).then((n=>u2(e,i,n)))}No._jsonSchemaVersion="firestore/querySnapshot/1.0",No._jsonSchema={type:Pt("string",No._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Vb extends l2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}}function ii(i){i=Rs(i,Go);const e=Rs(i.firestore,Yo),n=Td(e),r=new Vb(e);return a2(i._query),KO(n,i._query).then((o=>new No(e,r,i,o)))}function la(i,e,n){i=Rs(i,kt);const r=Rs(i.firestore,Yo),o=kb(i.converter,e,n);return wg(r,[Nb(gg(r),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,On.none())])}function Fm(i){return wg(Rs(i.firestore,Yo),[new pd(i._key,On.none())])}function wg(i,e){return(function(r,o){const c=new Ts;return r.asyncQueue.enqueueAndForget((async()=>PO(await YO(r),o,c))),c.promise})(Td(i),e)}function u2(i,e,n){const r=n.docs.get(e._key),o=new Vb(i);return new ha(i,o,e._key,r,new oc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=gg(e)}set(e,n,r){this._verifyNotCommitted();const o=Gm(e,this._firestore),c=kb(o.converter,n,r),h=Nb(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,r);return this._mutations.push(h.toMutation(o._key,On.none())),this}update(e,n,r,...o){this._verifyNotCommitted();const c=Gm(e,this._firestore);let h;return h=typeof(n=Ct(n))=="string"||n instanceof wd?n2(this._dataReader,"WriteBatch.update",c._key,n,r,o):t2(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(h.toMutation(c._key,On.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Gm(e,this._firestore);return this._mutations=this._mutations.concat(new pd(n._key,On.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gm(i,e){if((i=Ct(i)).firestore!==e)throw new ce(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(i){return Td(i=Rs(i,Yo)),new h2(i,(e=>wg(i,e)))}(function(e,n=!0){(function(o){zo=o})(Ea),fa(new gr("firestore",((r,{instanceIdentifier:o,options:c})=>{const h=r.getProvider("app").getImmediate(),p=new Yo(new nN(r.getProvider("auth-internal")),new rN(h,r.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(y.options.projectId,v)})(h,o),h);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ni(IE,xE,e),Ni(IE,xE,"esm2020")})();var f2="firebase",m2="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni(f2,m2,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="firebasestorage.googleapis.com",p2="storageBucket",g2=120*1e3,y2=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Bi{constructor(e,n,r=0){super(Ym(e),`Firebase Storage: ${n} (${Ym(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ym(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Li;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Li||(Li={}));function Ym(i){return"storage/"+i}function _2(){const i="An unknown error occurred, please check the error payload for server response.";return new zi(Li.UNKNOWN,i)}function v2(){return new zi(Li.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function E2(){return new zi(Li.CANCELED,"User canceled the upload/download.")}function T2(i){return new zi(Li.INVALID_URL,"Invalid URL '"+i+"'.")}function w2(i){return new zi(Li.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function RT(i){return new zi(Li.INVALID_ARGUMENT,i)}function Ub(){return new zi(Li.APP_DELETED,"The Firebase app was deleted.")}function b2(i){return new zi(Li.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ai.makeFromUrl(e,n)}catch{return new ai(e,"")}if(r.path==="")return r;throw w2(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function c(he){he.path.charAt(he.path.length-1)==="/"&&(he.path_=he.path_.slice(0,-1))}const h="(/(.*))?$",p=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function y(he){he.path_=decodeURIComponent(he.path)}const v="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",I=new RegExp(`^https?://${w}/${v}/b/${o}/o${S}`,"i"),x={bucket:1,path:3},z=n===Lb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,L="([^?#]*)",J=new RegExp(`^https?://${z}/${o}/${L}`,"i"),ie=[{regex:p,indices:g,postModify:c},{regex:I,indices:x,postModify:y},{regex:J,indices:{bucket:1,path:2},postModify:y}];for(let he=0;he<ie.length;he++){const ue=ie[he],pe=ue.regex.exec(e);if(pe){const P=pe[ue.indices.bucket];let R=pe[ue.indices.path];R||(R=""),r=new ai(P,R),ue.postModify(r);break}}if(r==null)throw T2(e);return r}}class S2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(i,e,n){let r=1,o=null,c=null,h=!1,p=0;function g(){return p===2}let y=!1;function v(...L){y||(y=!0,e.apply(null,L))}function w(L){o=setTimeout(()=>{o=null,i(I,g())},L)}function S(){c&&clearTimeout(c)}function I(L,...J){if(y){S();return}if(L){S(),v.call(null,L,...J);return}if(g()||h){S(),v.call(null,L,...J);return}r<64&&(r*=2);let ie;p===1?(p=2,ie=0):ie=(r+Math.random())*1e3,w(ie)}let x=!1;function z(L){x||(x=!0,S(),!y&&(o!==null?(L||(p=2),clearTimeout(o),w(0)):L||(p=1)))}return w(0),c=setTimeout(()=>{h=!0,z(!0)},n),z}function R2(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(i){return i!==void 0}function CT(i,e,n,r){if(r<e)throw RT(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>n)throw RT(`Invalid value for '${i}'. Expected ${n} or less.`)}function I2(i){const e=encodeURIComponent;let n="?";for(const r in i)if(i.hasOwnProperty(r)){const o=e(r)+"="+e(i[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Zh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Zh||(Zh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,c=e.indexOf(i)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,n,r,o,c,h,p,g,y,v,w,S=!0,I=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=v,this.connectionFactory_=w,this.retry=S,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,z)=>{this.resolve_=x,this.reject_=z,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new yh(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const p=c.getErrorCode()===Zh.NO_ERROR,g=c.getStatus();if(!p||x2(g,this.additionalRetryCodes_)&&this.retry){const v=c.getErrorCode()===Zh.ABORT;r(!1,new yh(!1,null,v));return}const y=this.successCodes_.indexOf(g)!==-1;r(!0,new yh(y,c))})},n=(r,o)=>{const c=this.resolve_,h=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());C2(g)?c(g):c()}catch(g){h(g)}else if(p!==null){const g=_2();g.serverResponse=p.getErrorText(),this.errorCallback_?h(this.errorCallback_(p,g)):h(g)}else if(o.canceled){const g=this.appDelete_?Ub():E2();h(g)}else{const g=v2();h(g)}};this.canceled_?n(!1,new yh(!1,null,!0)):this.backoffId_=A2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&R2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function D2(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function O2(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function M2(i,e){e&&(i["X-Firebase-GMPID"]=e)}function j2(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function P2(i,e,n,r,o,c,h=!0,p=!1){const g=I2(i.urlParams),y=i.url+g,v=Object.assign({},i.headers);return M2(v,e),D2(v,n),O2(v,c),j2(v,r),new N2(y,i.method,v,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function V2(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this._service=e,n instanceof ai?this._location=n:this._location=ai.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Jh(e,n)}get root(){const e=new ai(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return V2(this._location.path)}get storage(){return this._service}get parent(){const e=k2(this._location.path);if(e===null)return null;const n=new ai(this._location.bucket,e);return new Jh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw b2(e)}}function IT(i,e){const n=e?.[p2];return n==null?null:ai.makeFromBucketSpec(n,i)}function L2(i,e,n,r={}){i.host=`${e}:${n}`;const o=va(e);o&&(Np(`https://${i.host}/b`),Dp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:c}=r;c&&(i._overrideAuthToken=typeof c=="string"?c:vw(c,i.app.options.projectId))}class U2{constructor(e,n,r,o,c,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=h,this._bucket=null,this._host=Lb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=g2,this._maxUploadRetryTime=y2,this._requests=new Set,o!=null?this._bucket=ai.makeFromBucketSpec(o,this._host):this._bucket=IT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ai.makeFromBucketSpec(this._url,e):this._bucket=IT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Nn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jh(this,e)}_makeRequest(e,n,r,o,c=!0){if(this._deleted)return new S2(Ub());{const h=P2(e,this._appId,r,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const xT="@firebase/storage",NT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="storage";function B2(i=jp(),e){i=Ct(i);const r=id(i,Bb).getImmediate({identifier:e}),o=gw("storage");return o&&z2(r,...o),r}function z2(i,e,n,r={}){L2(i,e,n,r)}function q2(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new U2(n,r,o,e,Ea)}function H2(){fa(new gr(Bb,q2,"PUBLIC").setMultipleInstances(!0)),Ni(xT,NT,""),Ni(xT,NT,"esm2020")}H2();const F2={apiKey:"AIzaSyCPn0x4Y8PBF6HuczOqeG0Q3ldjNArgPMM",authDomain:"hazel-v2.firebaseapp.com",projectId:"hazel-v2",storageBucket:"hazel-v2.firebasestorage.app",messagingSenderId:"719736052006",appId:"1:719736052006:web:d4a88136eb2bdd7a3749e7"},bg=ww(F2),yo=Zx(bg),Et=XO(bg);B2(bg);const zb=M.createContext(),G2=({children:i})=>{const[e,n]=M.useState(()=>{const le=localStorage.getItem("theme")||"light";return document.body.classList.toggle("dark-mode",le==="dark"),le}),[r,o]=M.useState([]),[c,h]=M.useState([]),[p,g]=M.useState([]),[y,v]=M.useState(null),[w,S]=M.useState([]),[I,x]=M.useState([]),[z,L]=M.useState([]),[J,Q]=M.useState({show:!1,message:""}),[ie,he]=M.useState(!1),[ue,pe]=M.useState(null),[P,R]=M.useState([]),[C,O]=M.useState([]),[k,U]=M.useState([]),[D,yt]=M.useState(!0),[ut,K]=M.useState(!0),ae=M.useCallback(async()=>{const me=(await ii(Kn(Et,"users"))).docs.map(Ie=>({id:Ie.id,...Ie.data()}));x(me)},[]),ye=M.useCallback(async le=>{if(!le)return;const me=aa(Kn(Et,"favorites"),oa("userId","==",le)),ge=(await ii(me)).docs.map(Te=>Te.data().itemId);S(ge)},[]),ze=M.useCallback(async le=>{if(!le)return;const me=aa(Kn(Et,"transactions"),oa("renterId","==",le)),ge=(await ii(me)).docs.map(st=>({id:st.id,...st.data()}));R(ge);const ht=(await ii(aa(Kn(Et,"items"),oa("ownerId","==",le)))).docs.map(st=>st.id);if(ht.length>0){const st=aa(Kn(Et,"transactions"),oa("itemId","in",ht)),Tt=(await ii(st)).docs.map(wt=>({id:wt.id,...wt.data()}));O(Tt)}},[]),j=M.useCallback(async le=>{if(!le)return;const me=aa(Kn(Et,"chat_threads"),oa("participants","array-contains",le)),ge=(await ii(me)).docs.map(Te=>({id:Te.id,...Te.data()}));U(ge)},[]);M.useEffect(()=>{const le=B1(yo,async me=>{if(yt(!0),me){let Ie,ge,Te;const ht=Ii(Et,"users",me.uid),st=await Hm(ht);if(st.exists())Ie=st,ge=me.uid,Te=Ie.data();else{const Pn=aa(Kn(Et,"users"),oa("email","==",me.email)),Tt=await ii(Pn);Tt.empty||(Ie=Tt.docs[0],ge=Ie.id,Te=Ie.data())}if(Te){const Pn={uid:me.uid,id:ge,email:me.email,...Te};v(Pn),ye(ge),ze(ge),j(ge),Pn.role==="admin"&&ae()}else v(null)}else v(null),x([]),S([]),R([]),O([]),U([]);yt(!1)});return()=>le()},[ae,ye,ze,j]);const ne=M.useCallback(async()=>{K(!0);try{const me=(await ii(Kn(Et,"categories"))).docs.map(Tt=>({id:Tt.id,...Tt.data()}));h(me);const Ie=me.reduce((Tt,wt)=>({...Tt,[wt.id]:wt.name}),{}),Te=(await ii(Kn(Et,"tags"))).docs.map(Tt=>({id:Tt.id,...Tt.data()}));g(Te);const ht=Te.reduce((Tt,wt)=>({...Tt,[wt.id]:wt.name}),{}),Pn=(await ii(Kn(Et,"items"))).docs.map(Tt=>{const wt={...Tt.data(),id:Tt.id};return{...wt,category:Ie[wt.categoryId]||"Uncategorized",tags:wt.tags?wt.tags.map(Gi=>ht[Gi]).filter(Boolean):[]}});o(Pn)}catch(le){console.error("Error fetching initial data:",le),Ve("Failed to load store data.")}K(!1)},[]);M.useEffect(()=>{ne()},[ne]);const oe=async(le,me)=>{try{const ge=(await j1(yo,le.email,le.password)).user;return await la(Ii(Et,"users",ge.uid),{firstName:le.firstName,lastName:le.lastName,role:me,email:le.email,verification_status:"unverified",profile_pic_url:`https://randomuser.me/api/portraits/lego/${Math.floor(Math.random()*9)}.jpg`,member_since:new Date}),Ve("Account created successfully!"),ge}catch(Ie){return Ve(Ie.message),null}},se=async(le,me,Ie)=>{try{return(await P1(yo,le,me)).user}catch(ge){return Ve(ge.message),null}},ve=async()=>{await z1(yo),Ve("Logged out.")},Oe=async(le,me)=>{try{const Ie=Ii(Et,"users",le);if(await la(Ie,me,{merge:!0}),y&&y.id===le){const ge=await Hm(Ie);ge.exists()&&v(Te=>({...Te,...ge.data()}))}Ve("Profile updated successfully!")}catch(Ie){Ve(`Failed to update profile: ${Ie.message}`)}},Re=async le=>{if(!yo.currentUser){Ve("You must be logged in to update your password.");return}try{await k1(yo.currentUser,le),Ve("Password updated successfully!")}catch(me){Ve(`Password update failed: ${me.message}. You may need to log in again to update your password.`)}},It=async(le,me)=>{try{const Ie=Ii(Et,"users",le);await la(Ie,{verification_status:me},{merge:!0}),ae(),Ve(`User status updated to ${me}.`)}catch(Ie){Ve(`Error updating user status: ${Ie.message}`)}},Je=async le=>{try{await Fm(Ii(Et,"users",le)),ae(),Ve("User deleted successfully.")}catch(me){Ve(`Error deleting user: ${me.message}`)}},jn=async le=>{if(!y){Ve("You must be logged in to add an item.");return}try{const me=Ii(Kn(Et,"items")),Ie={...le,ownerId:y.id,createdAt:new Date,location:"Mandaluyong, Metro Manila",status:"available"};await la(me,Ie),await ne(),Ve("Item added successfully!")}catch(me){Ve(`Error adding item: ${me.message}`)}},hi=async(le,me)=>{if(!y){Ve("You must be logged in to update an item.");return}const Ie=Ii(Et,"items",le);try{const ge=await Hm(Ie);if(!ge.exists()||ge.data().ownerId!==y.id){Ve("You don't have permission to edit this item.");return}await la(Ie,me,{merge:!0}),await ne(),Ve("Item updated successfully!")}catch(ge){Ve(`Error updating item: ${ge.message}`)}},Xn=async(le,me)=>{try{const Ie=Ii(Et,"items",le);await la(Ie,{status:me},{merge:!0}),ne(),Ve(`Item status updated to ${me}.`)}catch(Ie){Ve(`Error updating item status: ${Ie.message}`)}},qi=async le=>{if(!y||!r.find(me=>me.id===le&&me.ownerId===y.id)){Ve("You don't have permission to delete this item.");return}try{await Fm(Ii(Et,"items",le));const me=aa(Kn(Et,"favorites"),oa("itemId","==",le)),Ie=await ii(me),ge=d2(Et);Ie.docs.forEach(Te=>ge.delete(Te.ref)),await ge.commit(),o(Te=>Te.filter(ht=>ht.id!==le)),S(Te=>Te.filter(ht=>ht!==le)),Ve("Listing deleted successfully.")}catch(me){Ve(`Error deleting listing: ${me.message}`)}},Hi=async le=>{if(!y){Ve("Please log in to favorite items.");return}const me=w.includes(le),Ie=me?w.filter(ge=>ge!==le):[...w,le];S(Ie);try{const ge=Ii(Et,"favorites",`${y.id}_${le}`);me?await Fm(ge):await la(ge,{userId:y.id,itemId:le})}catch(ge){Ve(`Error updating favorites: ${ge.message}`),S(w)}},Fi=le=>z.some(me=>me.itemId===le.itemId)?(Ve("This item is already in your cart."),!1):(L(me=>[...me,le]),Ve("Item added to cart!"),!0),Cr=le=>{L(me=>me.filter(Ie=>Ie.itemId!==le)),Ve("Item removed from cart.")},Sa=()=>L([]),pn=()=>{const le=e==="light"?"dark":"light";n(le),localStorage.setItem("theme",le),document.body.classList.toggle("dark-mode",le==="dark")},Ve=(le,me=3e3)=>{Q({show:!0,message:le}),setTimeout(()=>Q({show:!1,message:""}),me)},$o={theme:e,toggleTheme:pn,toast:J,showToast:Ve,items:r,categories:c,tags:p,itemsLoading:ut,currentUser:y,allProfiles:I,favorites:w,toggleFavorite:Hi,login:se,signup:oe,logout:ve,updateUser:Oe,updateUserPassword:Re,updateUserStatus:It,deleteUser:Je,addItem:jn,updateItem:hi,deleteItem:qi,updateItemStatus:Xn,cart:z,addToCart:Fi,removeFromCart:Cr,clearCart:Sa,isChatOpen:ie,chatPartner:ue,openChat:le=>{pe(le),he(!0)},closeChat:()=>he(!1),toggleChat:()=>he(le=>!le),chatThreads:k,isLoading:D,rentalHistory:P,ownerLentHistory:C,fetchAllProfiles:ae};return f.jsx(zb.Provider,{value:$o,children:i})},Ze=()=>M.useContext(zb),Y2=({closeModal:i,initialTab:e})=>{const{login:n,signup:r}=Ze(),o=Mn(),[c,h]=M.useState("initial"),[p,g]=M.useState(e||"login"),[y,v]=M.useState(""),[w,S]=M.useState(!1),[I,x]=M.useState({email:"",password:""}),[z,L]=M.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),J=R=>x({...I,[R.target.name]:R.target.value}),Q=R=>L({...z,[R.target.name]:R.target.value}),ie=()=>{v(""),x({email:"",password:""}),L({firstName:"",lastName:"",email:"",password:"",confirmPassword:""})},he=R=>{h(R),g(e||"login"),ie()},ue=async R=>{R.preventDefault(),v(""),S(!0);try{const C=await n(I.email,I.password,c);C?(i(),C.role==="admin"?o("/admin"):o("/profile")):v("Login failed. Please check your credentials and selected portal.")}catch(C){v("An unexpected error occurred. Please try again."),console.error("Login error:",C)}finally{S(!1)}},pe=async(R,C)=>{if(R.preventDefault(),z.password!==z.confirmPassword){v("Passwords do not match.");return}v(""),S(!0);try{await r({firstName:z.firstName,lastName:z.lastName,email:z.email,password:z.password},C)?i():v("Signup failed. This email might already be registered.")}catch(O){v("An unexpected error occurred. Please try again."),console.error("Signup error:",O)}finally{S(!1)}},P=()=>f.jsx("a",{href:"#",className:"modal-footer-back-link",onClick:R=>{R.preventDefault(),he("initial")},children:"← Back to selection"});return f.jsx("div",{className:"modal",style:{display:"flex"},children:f.jsxs("div",{className:"modal-container",children:[f.jsxs("div",{className:"modal-header",children:[f.jsxs("h2",{id:"modalTitle",children:[c==="initial"&&"Join or Sign In",c==="renter"&&(p==="login"?"Renter Login":"Renter Sign Up"),c==="owner"&&(p==="login"?"Owner Login":"Owner Sign Up"),c==="admin"&&(p==="login"?"Admin Login":"Admin Sign Up")]}),f.jsx("button",{className:"modal-close-btn","aria-label":"Close modal",onClick:i,children:"×"})]}),f.jsxs("div",{className:"modal-body",children:[c==="initial"&&f.jsxs("div",{className:"auth-role-selection",children:[f.jsx("h3",{children:"How would you like to proceed?"}),f.jsx("button",{className:"btn btn-primary",onClick:()=>he("renter"),children:"I want to Rent Items (Renter)"}),f.jsx("button",{className:"btn btn-outline",onClick:()=>he("owner"),children:"I want to List Items (Owner)"}),f.jsx("button",{className:"btn btn-secondary",onClick:()=>he("admin"),children:"Admin Portal"})]}),(c==="renter"||c==="owner"||c==="admin")&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"tab-container",children:[f.jsx("div",{className:`tab ${p==="login"?"active":""}`,onClick:()=>g("login"),children:"Login"}),f.jsx("div",{className:`tab ${p==="signup"?"active":""}`,onClick:()=>g("signup"),children:"Sign Up"})]}),f.jsxs("form",{id:"loginForm",className:`form-container ${p==="login"?"active":""}`,onSubmit:ue,children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Email"}),f.jsx("input",{type:"email",name:"email",value:I.email,onChange:J,required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Password"}),f.jsx("input",{type:"password",name:"password",value:I.password,onChange:J,required:!0})]}),y&&p==="login"&&f.jsx("div",{className:"error-message",children:y}),f.jsx("button",{type:"submit",className:"btn btn-primary",disabled:w,children:w?"Logging in...":"Login"})]}),f.jsxs("form",{id:"signupForm",className:`form-container ${p==="signup"?"active":""}`,onSubmit:R=>pe(R,c),children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"First Name"}),f.jsx("input",{type:"text",name:"firstName",value:z.firstName,onChange:Q,required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Last Name"}),f.jsx("input",{type:"text",name:"lastName",value:z.lastName,onChange:Q,required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Email"}),f.jsx("input",{type:"email",name:"email",value:z.email,onChange:Q,required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Password"}),f.jsx("input",{type:"password",name:"password",value:z.password,onChange:Q,required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Confirm Password"}),f.jsx("input",{type:"password",name:"confirmPassword",value:z.confirmPassword,onChange:Q,required:!0})]}),y&&p==="signup"&&f.jsx("div",{className:"error-message",children:y}),f.jsx("button",{type:"submit",className:"btn btn-primary",disabled:w,children:w?"Signing up...":`Sign Up as ${c.charAt(0).toUpperCase()+c.slice(1)}`})]}),f.jsx(P,{})]})]})]})})},$2=()=>{const{items:i,currentUser:e}=Ze(),[n,r]=M.useState(""),[o,c]=M.useState([]),[h,p]=M.useState(!1),g=Mn(),y=M.useRef(null);M.useEffect(()=>{if(n.length>1){const w=e?.role==="admin"?i:i.filter(x=>x.status==="approved"),S=n.toLowerCase(),I=w.filter(x=>x.title.toLowerCase().includes(S)||x.category.toLowerCase().includes(S)||x.tags&&x.tags.some(z=>z.toLowerCase().includes(S)));c(I),p(!0)}else c([]),p(!1)},[n,i,e]),M.useEffect(()=>{const w=S=>{y.current&&!y.current.contains(S.target)&&p(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const v=w=>{g(`/listing/${w}`),r(""),p(!1)};return f.jsxs("div",{className:"search-container",ref:y,children:[f.jsx("i",{className:"fas fa-search search-icon"}),f.jsx("input",{type:"text",className:"search-input",placeholder:"Search by name or tag...",value:n,onChange:w=>r(w.target.value),onFocus:()=>n.length>1&&p(!0)}),h&&f.jsx("div",{className:"search-results active",children:o.length>0?o.map(w=>f.jsxs("div",{className:"search-result-item",onClick:()=>v(w.id),children:[f.jsx("div",{className:"item-title",children:w.title}),f.jsx("div",{className:"item-price",children:w.priceDisplay})]},w.id)):f.jsx("div",{className:"no-results",children:"No items found"})})]})},K2=()=>{const{theme:i,toggleTheme:e,currentUser:n,logout:r,cart:o}=Ze(),[c,h]=M.useState(!1),[p,g]=M.useState(!1),[y,v]=M.useState("login"),w=Mn(),S=async()=>{await r(),w("/")},I=L=>{v(L),g(!0)},x=o?o.length:0,z=()=>n?f.jsxs("div",{id:"loggedInNavButtons",className:"auth-nav-state",children:[n.role==="renter"&&f.jsxs(xn,{to:"/cart",className:"header-cart-link",children:[f.jsx("i",{className:"fas fa-shopping-cart"}),x>0&&f.jsx("span",{id:"cartItemCount",style:{display:"flex"},children:x})]}),n.role==="admin"&&f.jsxs(xn,{to:"/admin",className:"header-admin-link",children:[f.jsx("i",{className:"fas fa-user-shield"})," Admin"]}),n.role!=="admin"&&f.jsxs(xn,{to:"/profile",className:"header-profile-link",children:[f.jsx("i",{className:"fas fa-user-circle"})," Profile"]}),f.jsx("button",{className:"btn btn-outline",onClick:S,children:"Logout"})]}):f.jsxs("div",{id:"loggedOutNavButtons",children:[f.jsx("button",{className:"btn btn-outline",onClick:()=>I("login"),children:"Login"}),f.jsx("button",{className:"btn btn-primary",onClick:()=>I("signup"),children:"Sign Up"})]});return f.jsxs(f.Fragment,{children:[f.jsx("header",{children:f.jsxs("div",{className:"container header-container",children:[f.jsx(xn,{to:"/",className:"logo",children:"HAZEL"}),f.jsxs("nav",{className:`main-nav ${c?"active":""}`,children:[f.jsx($2,{}),f.jsxs("ul",{children:[f.jsx("li",{children:f.jsx(si,{to:"/",end:!0,children:"Home"})}),f.jsx("li",{children:f.jsx(si,{to:"/products",children:"Products"})}),f.jsx("li",{children:f.jsx(si,{to:"/about",children:"About"})}),f.jsx("li",{children:f.jsx(si,{to:"/contact",children:"Contact"})})]}),f.jsxs("div",{className:"nav-buttons",children:[f.jsx("button",{className:"dark-mode-toggle",onClick:e,children:i==="dark"?f.jsxs(f.Fragment,{children:[f.jsx("i",{className:"fas fa-sun"})," Light"]}):f.jsxs(f.Fragment,{children:[f.jsx("i",{className:"far fa-moon"})," Dark"]})}),z()]})]}),f.jsx("div",{className:"mobile-menu-btn",onClick:()=>h(!c),children:f.jsx("i",{className:`fas ${c?"fa-times":"fa-bars"}`})})]})}),p&&f.jsx(Y2,{closeModal:()=>g(!1),initialTab:y})]})},Q2=()=>f.jsx("footer",{className:"common-footer",children:f.jsxs("div",{className:"container",children:[f.jsxs("div",{className:"footer-container",children:[f.jsxs("div",{className:"footer-col",children:[f.jsx("h3",{children:"About HAZEL"}),f.jsx("p",{children:"We are the leading rental platform connecting people who need items with those who have them to rent."})]}),f.jsxs("div",{className:"footer-col",children:[f.jsx("h3",{children:"Quick Links"}),f.jsxs("ul",{className:"footer-links",children:[f.jsx("li",{children:f.jsx(xn,{to:"/",children:"Home"})}),f.jsx("li",{children:f.jsx(xn,{to:"/products",children:"Products"})}),f.jsx("li",{children:f.jsx(xn,{to:"/about",children:"About Us"})}),f.jsx("li",{children:f.jsx(xn,{to:"/contact",children:"Contact Us"})})]})]}),f.jsxs("div",{className:"footer-col",children:[f.jsx("h3",{children:"Support"}),f.jsxs("ul",{className:"footer-links",children:[f.jsx("li",{children:f.jsx(xn,{to:"/faq",children:"FAQ"})}),f.jsx("li",{children:f.jsx(xn,{to:"/privacy-policy",children:"Privacy Policy"})})]})]}),f.jsxs("div",{className:"footer-col",children:[f.jsx("h3",{children:"Contact Us"}),f.jsxs("ul",{className:"footer-links",children:[f.jsxs("li",{children:[f.jsx("i",{className:"fas fa-map-marker-alt"})," 123 Rental St, City"]}),f.jsxs("li",{children:[f.jsx("i",{className:"fas fa-phone"})," (02) 8123-4567"]}),f.jsxs("li",{children:[f.jsx("i",{className:"fas fa-envelope"})," info@hazel.com"]})]})]})]}),f.jsx("div",{className:"footer-bottom",children:f.jsx("p",{children:"© 2025 HAZEL. All Rights Reserved."})})]})}),X2=()=>{const{toast:i}=Ze();return f.jsx("div",{id:"toast",className:`toast ${i.show?"show":""}`,children:i.message})};var DT;(function(i){i.STRING="string",i.NUMBER="number",i.INTEGER="integer",i.BOOLEAN="boolean",i.ARRAY="array",i.OBJECT="object"})(DT||(DT={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OT;(function(i){i.LANGUAGE_UNSPECIFIED="language_unspecified",i.PYTHON="python"})(OT||(OT={}));var MT;(function(i){i.OUTCOME_UNSPECIFIED="outcome_unspecified",i.OUTCOME_OK="outcome_ok",i.OUTCOME_FAILED="outcome_failed",i.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(MT||(MT={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=["user","model","function","system"];var So;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(So||(So={}));var Ao;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Ao||(Ao={}));var PT;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(PT||(PT={}));var kT;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER"})(kT||(kT={}));var mc;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.OTHER="OTHER"})(mc||(mc={}));var VT;(function(i){i.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",i.RETRIEVAL_QUERY="RETRIEVAL_QUERY",i.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",i.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",i.CLASSIFICATION="CLASSIFICATION",i.CLUSTERING="CLUSTERING"})(VT||(VT={}));var LT;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE"})(LT||(LT={}));var UT;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(UT||(UT={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class _o extends cn{constructor(e,n){super(e),this.response=n}}class qb extends cn{constructor(e,n,r,o){super(e),this.status=n,this.statusText=r,this.errorDetails=o}}class pr extends cn{}class Hb extends cn{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="https://generativelanguage.googleapis.com",Z2="v1beta",J2="0.24.1",eM="genai-js";var _a;(function(i){i.GENERATE_CONTENT="generateContent",i.STREAM_GENERATE_CONTENT="streamGenerateContent",i.COUNT_TOKENS="countTokens",i.EMBED_CONTENT="embedContent",i.BATCH_EMBED_CONTENTS="batchEmbedContents"})(_a||(_a={}));class tM{constructor(e,n,r,o,c){this.model=e,this.task=n,this.apiKey=r,this.stream=o,this.requestOptions=c}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||Z2;let c=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||W2}/${r}/${this.model}:${this.task}`;return this.stream&&(c+="?alt=sse"),c}}function nM(i){const e=[];return i?.apiClient&&e.push(i.apiClient),e.push(`${eM}/${J2}`),e.join(" ")}async function iM(i){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",nM(i.requestOptions)),n.append("x-goog-api-key",i.apiKey);let r=(e=i.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(o){throw new pr(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${o.message}`)}for(const[o,c]of r.entries()){if(o==="x-goog-api-key")throw new pr(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new pr(`Header name ${o} can only be set using the apiClient field`);n.append(o,c)}}return n}async function sM(i,e,n,r,o,c){const h=new tM(i,e,n,r,c);return{url:h.toString(),fetchOptions:Object.assign(Object.assign({},lM(c)),{method:"POST",headers:await iM(h),body:o})}}async function qc(i,e,n,r,o,c={},h=fetch){const{url:p,fetchOptions:g}=await sM(i,e,n,r,o,c);return rM(p,g,h)}async function rM(i,e,n=fetch){let r;try{r=await n(i,e)}catch(o){aM(o,i)}return r.ok||await oM(r,i),r}function aM(i,e){let n=i;throw n.name==="AbortError"?(n=new Hb(`Request aborted when fetching ${e.toString()}: ${i.message}`),n.stack=i.stack):i instanceof qb||i instanceof pr||(n=new cn(`Error fetching from ${e.toString()}: ${i.message}`),n.stack=i.stack),n}async function oM(i,e){let n="",r;try{const o=await i.json();n=o.error.message,o.error.details&&(n+=` ${JSON.stringify(o.error.details)}`,r=o.error.details)}catch{}throw new qb(`Error fetching from ${e.toString()}: [${i.status} ${i.statusText}] ${n}`,i.status,i.statusText,r)}function lM(i){const e={};if(i?.signal!==void 0||i?.timeout>=0){const n=new AbortController;i?.timeout>=0&&setTimeout(()=>n.abort(),i.timeout),i?.signal&&i.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(i){return i.text=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Nh(i.candidates[0]))throw new _o(`${rr(i)}`,i);return cM(i)}else if(i.promptFeedback)throw new _o(`Text not available. ${rr(i)}`,i);return""},i.functionCall=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Nh(i.candidates[0]))throw new _o(`${rr(i)}`,i);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),BT(i)[0]}else if(i.promptFeedback)throw new _o(`Function call not available. ${rr(i)}`,i)},i.functionCalls=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Nh(i.candidates[0]))throw new _o(`${rr(i)}`,i);return BT(i)}else if(i.promptFeedback)throw new _o(`Function call not available. ${rr(i)}`,i)},i}function cM(i){var e,n,r,o;const c=[];if(!((n=(e=i.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const h of(o=(r=i.candidates)===null||r===void 0?void 0:r[0].content)===null||o===void 0?void 0:o.parts)h.text&&c.push(h.text),h.executableCode&&c.push("\n```"+h.executableCode.language+`
`+h.executableCode.code+"\n```\n"),h.codeExecutionResult&&c.push("\n```\n"+h.codeExecutionResult.output+"\n```\n");return c.length>0?c.join(""):""}function BT(i){var e,n,r,o;const c=[];if(!((n=(e=i.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const h of(o=(r=i.candidates)===null||r===void 0?void 0:r[0].content)===null||o===void 0?void 0:o.parts)h.functionCall&&c.push(h.functionCall);if(c.length>0)return c}const uM=[mc.RECITATION,mc.SAFETY,mc.LANGUAGE];function Nh(i){return!!i.finishReason&&uM.includes(i.finishReason)}function rr(i){var e,n,r;let o="";if((!i.candidates||i.candidates.length===0)&&i.promptFeedback)o+="Response was blocked",!((e=i.promptFeedback)===null||e===void 0)&&e.blockReason&&(o+=` due to ${i.promptFeedback.blockReason}`),!((n=i.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(o+=`: ${i.promptFeedback.blockReasonMessage}`);else if(!((r=i.candidates)===null||r===void 0)&&r[0]){const c=i.candidates[0];Nh(c)&&(o+=`Candidate was blocked due to ${c.finishReason}`,c.finishMessage&&(o+=`: ${c.finishMessage}`))}return o}function Sc(i){return this instanceof Sc?(this.v=i,this):new Sc(i)}function hM(i,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(i,e||[]),o,c=[];return o={},h("next"),h("throw"),h("return"),o[Symbol.asyncIterator]=function(){return this},o;function h(S){r[S]&&(o[S]=function(I){return new Promise(function(x,z){c.push([S,I,x,z])>1||p(S,I)})})}function p(S,I){try{g(r[S](I))}catch(x){w(c[0][3],x)}}function g(S){S.value instanceof Sc?Promise.resolve(S.value.v).then(y,v):w(c[0][2],S)}function y(S){p("next",S)}function v(S){p("throw",S)}function w(S,I){S(I),c.shift(),c.length&&p(c[0][0],c[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function dM(i){const e=i.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=pM(e),[r,o]=n.tee();return{stream:mM(r),response:fM(o)}}async function fM(i){const e=[],n=i.getReader();for(;;){const{done:r,value:o}=await n.read();if(r)return Sg(gM(e));e.push(o)}}function mM(i){return hM(this,arguments,function*(){const n=i.getReader();for(;;){const{value:r,done:o}=yield Sc(n.read());if(o)break;yield yield Sc(Sg(r))}})}function pM(i){const e=i.getReader();return new ReadableStream({start(r){let o="";return c();function c(){return e.read().then(({value:h,done:p})=>{if(p){if(o.trim()){r.error(new cn("Failed to parse stream"));return}r.close();return}o+=h;let g=o.match(zT),y;for(;g;){try{y=JSON.parse(g[1])}catch{r.error(new cn(`Error parsing JSON response: "${g[1]}"`));return}r.enqueue(y),o=o.substring(g[0].length),g=o.match(zT)}return c()}).catch(h=>{let p=h;throw p.stack=h.stack,p.name==="AbortError"?p=new Hb("Request aborted when reading from the stream"):p=new cn("Error reading from the stream"),p})}}})}function gM(i){const e=i[i.length-1],n={promptFeedback:e?.promptFeedback};for(const r of i){if(r.candidates){let o=0;for(const c of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:o}),n.candidates[o].citationMetadata=c.citationMetadata,n.candidates[o].groundingMetadata=c.groundingMetadata,n.candidates[o].finishReason=c.finishReason,n.candidates[o].finishMessage=c.finishMessage,n.candidates[o].safetyRatings=c.safetyRatings,c.content&&c.content.parts){n.candidates[o].content||(n.candidates[o].content={role:c.content.role||"user",parts:[]});const h={};for(const p of c.content.parts)p.text&&(h.text=p.text),p.functionCall&&(h.functionCall=p.functionCall),p.executableCode&&(h.executableCode=p.executableCode),p.codeExecutionResult&&(h.codeExecutionResult=p.codeExecutionResult),Object.keys(h).length===0&&(h.text=""),n.candidates[o].content.parts.push(h)}o++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(i,e,n,r){const o=await qc(e,_a.STREAM_GENERATE_CONTENT,i,!0,JSON.stringify(n),r);return dM(o)}async function Gb(i,e,n,r){const c=await(await qc(e,_a.GENERATE_CONTENT,i,!1,JSON.stringify(n),r)).json();return{response:Sg(c)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(i){if(i!=null){if(typeof i=="string")return{role:"system",parts:[{text:i}]};if(i.text)return{role:"system",parts:[i]};if(i.parts)return i.role?i:{role:"system",parts:i.parts}}}function Ac(i){let e=[];if(typeof i=="string")e=[{text:i}];else for(const n of i)typeof n=="string"?e.push({text:n}):e.push(n);return yM(e)}function yM(i){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,o=!1;for(const c of i)"functionResponse"in c?(n.parts.push(c),o=!0):(e.parts.push(c),r=!0);if(r&&o)throw new cn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!o)throw new cn("No content is provided for sending chat message.");return r?e:n}function _M(i,e){var n;let r={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const o=i.generateContentRequest!=null;if(i.contents){if(o)throw new pr("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=i.contents}else if(o)r=Object.assign(Object.assign({},r),i.generateContentRequest);else{const c=Ac(i);r.contents=[c]}return{generateContentRequest:r}}function qT(i){let e;return i.contents?e=i:e={contents:[Ac(i)]},i.systemInstruction&&(e.systemInstruction=Yb(i.systemInstruction)),e}function vM(i){return typeof i=="string"||Array.isArray(i)?{content:Ac(i)}:i}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],EM={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function TM(i){let e=!1;for(const n of i){const{role:r,parts:o}=n;if(!e&&r!=="user")throw new cn(`First content should be with role 'user', got ${r}`);if(!jT.includes(r))throw new cn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(jT)}`);if(!Array.isArray(o))throw new cn("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new cn("Each Content should have at least one part");const c={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const p of o)for(const g of HT)g in p&&(c[g]+=1);const h=EM[r];for(const p of HT)if(!h.includes(p)&&c[p]>0)throw new cn(`Content with role '${r}' can't contain '${p}' part`);e=!0}}function FT(i){var e;if(i.candidates===void 0||i.candidates.length===0)return!1;const n=(e=i.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="SILENT_ERROR";class wM{constructor(e,n,r,o={}){this.model=n,this.params=r,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r?.history&&(TM(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,o,c,h,p,g;await this._sendPromise;const y=Ac(e),v={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(c=this.params)===null||c===void 0?void 0:c.tools,toolConfig:(h=this.params)===null||h===void 0?void 0:h.toolConfig,systemInstruction:(p=this.params)===null||p===void 0?void 0:p.systemInstruction,cachedContent:(g=this.params)===null||g===void 0?void 0:g.cachedContent,contents:[...this._history,y]},w=Object.assign(Object.assign({},this._requestOptions),n);let S;return this._sendPromise=this._sendPromise.then(()=>Gb(this._apiKey,this.model,v,w)).then(I=>{var x;if(FT(I.response)){this._history.push(y);const z=Object.assign({parts:[],role:"model"},(x=I.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(z)}else{const z=rr(I.response);z&&console.warn(`sendMessage() was unsuccessful. ${z}. Inspect response object for details.`)}S=I}).catch(I=>{throw this._sendPromise=Promise.resolve(),I}),await this._sendPromise,S}async sendMessageStream(e,n={}){var r,o,c,h,p,g;await this._sendPromise;const y=Ac(e),v={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(c=this.params)===null||c===void 0?void 0:c.tools,toolConfig:(h=this.params)===null||h===void 0?void 0:h.toolConfig,systemInstruction:(p=this.params)===null||p===void 0?void 0:p.systemInstruction,cachedContent:(g=this.params)===null||g===void 0?void 0:g.cachedContent,contents:[...this._history,y]},w=Object.assign(Object.assign({},this._requestOptions),n),S=Fb(this._apiKey,this.model,v,w);return this._sendPromise=this._sendPromise.then(()=>S).catch(I=>{throw new Error(GT)}).then(I=>I.response).then(I=>{if(FT(I)){this._history.push(y);const x=Object.assign({},I.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=rr(I);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(I=>{I.message!==GT&&console.error(I)}),S}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bM(i,e,n,r){return(await qc(e,_a.COUNT_TOKENS,i,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(i,e,n,r){return(await qc(e,_a.EMBED_CONTENT,i,!1,JSON.stringify(n),r)).json()}async function AM(i,e,n,r){const o=n.requests.map(h=>Object.assign(Object.assign({},h),{model:e}));return(await qc(e,_a.BATCH_EMBED_CONTENTS,i,!1,JSON.stringify({requests:o}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=Yb(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const o=qT(e),c=Object.assign(Object.assign({},this._requestOptions),n);return Gb(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},o),c)}async generateContentStream(e,n={}){var r;const o=qT(e),c=Object.assign(Object.assign({},this._requestOptions),n);return Fb(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},o),c)}startChat(e){var n;return new wM(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=_M(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),n);return bM(this.apiKey,this.model,r,o)}async embedContent(e,n={}){const r=vM(e),o=Object.assign(Object.assign({},this._requestOptions),n);return SM(this.apiKey,this.model,r,o)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return AM(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new cn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new YT(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new pr("Cached content must contain a `name` field.");if(!e.model)throw new pr("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const h of o)if(n?.[h]&&e[h]&&n?.[h]!==e[h]){if(h==="model"){const p=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,g=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(p===g)continue}throw new pr(`Different value for "${h}" specified in modelParams (${n[h]}) and cachedContent (${e[h]})`)}const c=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new YT(this.apiKey,c,r)}}const CM="AIzaSyAN70gzwzP3vHttBOsnja-kAr1uo9c9cOw",IM=new RM(CM),xM=`
You are a friendly and helpful customer support assistant for a rental website called HAZEL.
Your goal is to answer user questions based on the information provided below.

- The FAQ page is located at the "/faq" URL.
- Users can find contact information on the "/contact" page.
- To contact an item owner, a user must be logged in, go to the item's listing page, and click the "Chat with Owner" button.
- To contact an admin, users should use the general contact form on the "/contact" page for support inquiries.
- The Privacy Policy is available at "/privacy-policy".
- Users can view all rental items on the "/products" page.
- The "About Us" page is at "/about".

When answering, be concise and friendly. If a user asks a question you cannot answer with the information above, politely say that you can only help with questions about the HAZEL website.
`,NM=[{category:So.HARM_CATEGORY_HARASSMENT,threshold:Ao.BLOCK_MEDIUM_AND_ABOVE},{category:So.HARM_CATEGORY_HATE_SPEECH,threshold:Ao.BLOCK_MEDIUM_AND_ABOVE},{category:So.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:Ao.BLOCK_MEDIUM_AND_ABOVE},{category:So.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:Ao.BLOCK_MEDIUM_AND_ABOVE}],DM=IM.getGenerativeModel({model:"gemini-1.5-flash",safetySettings:NM,systemInstruction:xM}),OM=async i=>{try{return(await(await DM.startChat().sendMessage(i)).response).text()}catch(e){return console.error("Error in runChat:",e),"Sorry, I'm having trouble connecting to the AI. Please try again later."}},MM=()=>{const{isChatOpen:i,closeChat:e,chatPartner:n,currentUser:r}=Ze(),[o,c]=M.useState([]),[h,p]=M.useState(""),[g,y]=M.useState(!1),v=M.useRef(null),w=n?.id==="support",S=w?o:[];M.useEffect(()=>{if(i&&w){const x=r?.name?` ${r.name}`:"";c([{content:`Hello${x}! You are chatting with HAZEL's AI Assistant. How can I help you?`,isUser:!1,timestamp:new Date().toISOString()}])}},[i,w,n,r]),M.useEffect(()=>{v.current?.scrollIntoView({behavior:"smooth"})},[S]);const I=async x=>{if(!x.trim()||g)return;const z={content:x,isUser:!0,timestamp:new Date().toISOString()};if(c(L=>[...L,z]),y(!0),p(""),w){const J={content:await OM(x),isUser:!1,timestamp:new Date().toISOString()};c(Q=>[...Q,J])}y(!1)};return i?f.jsxs("div",{className:`chat-widget ${i?"open":""}`,children:[f.jsxs("div",{className:"chat-header",children:[f.jsxs("span",{className:"chat-header-contact-name",children:["Chat with ",n?.name||"Support"]}),f.jsx("button",{className:"chat-close-btn",onClick:e,children:"×"})]}),f.jsxs("div",{className:"chat-messages-container",children:[S.map((x,z)=>f.jsx("div",{className:`chat-message ${x.isUser?"sent":"received"}`,children:x.content},z)),g&&f.jsx("div",{className:"chat-message received",children:"..."}),f.jsx("div",{ref:v})]}),f.jsxs("div",{className:"chat-input-area",children:[f.jsx("input",{type:"text",className:"chat-message-input",placeholder:r?"Type your message...":"Please log in to chat",value:h,onChange:x=>p(x.target.value),onKeyPress:x=>x.key==="Enter"&&I(h),disabled:!r||g}),f.jsx("button",{className:"chat-send-message-btn",onClick:()=>I(h),disabled:!r||g,children:f.jsx("i",{className:"fas fa-paper-plane"})})]})]}):null},jM=()=>{const{toggleChat:i}=Ze();return f.jsxs(f.Fragment,{children:[f.jsx(K2,{}),f.jsx("main",{children:f.jsx(Cp,{})}),f.jsx(Q2,{}),f.jsx(X2,{}),f.jsxs("div",{className:"chat-widget-container",children:[f.jsx(MM,{}),f.jsx("button",{className:"chat-toggle-btn",onClick:i,"aria-label":"Toggle chat",children:f.jsx("i",{className:"fas fa-comments"})})]})]})},Ag=({item:i})=>{const{currentUser:e,favorites:n,toggleFavorite:r}=Ze(),o=Mn(),c=n.includes(i.id),h=i.image_url||"https://via.placeholder.com/150",p=i.category||"Uncategorized",g=i.price_per_day?`₱${Number(i.price_per_day).toFixed(2)}/day`:"Price not available";return f.jsxs("div",{className:"product-card","data-product-id":i.id,children:[f.jsx("img",{src:h,alt:i.title,className:"product-img"}),f.jsxs("div",{className:"product-info",children:[f.jsx("span",{className:"product-category",children:p}),f.jsx("h3",{className:"product-title",children:i.title}),f.jsx("div",{className:"product-price",children:g}),f.jsxs("div",{className:"product-meta",children:[f.jsxs("div",{className:"product-rating",children:[f.jsx("i",{className:"fas fa-star"}),f.jsx("i",{className:"fas fa-star"}),f.jsx("i",{className:"fas fa-star"}),f.jsx("i",{className:"fas fa-star"}),f.jsx("i",{className:"far fa-star"})]}),f.jsxs("div",{className:"product-actions",children:[f.jsx("button",{className:"btn btn-primary view-listing btn-small",onClick:()=>o(`/listing/${i.id}`),children:"Details"}),e&&e.role==="renter"&&f.jsx("button",{className:`btn btn-icon favorite-toggle-btn ${c?"active":""}`,"aria-label":"Toggle Favorite",onClick:y=>{y.stopPropagation(),r(i.id)},children:f.jsx("i",{className:"fas fa-heart"})})]})]})]})]})},$b=({categories:i,activeFilter:e,onFilterClick:n,listClassName:r="",listId:o=""})=>{const c=M.useRef(null),[h,p]=M.useState(!1),[g,y]=M.useState(!0),[v,w]=M.useState(!1),S=()=>{const x=c.current;if(x){const z=x.scrollWidth>x.clientWidth;p(z);const L=Math.ceil(x.scrollLeft),J=x.scrollWidth,Q=x.clientWidth;y(L===0),w(L+Q>=J-1)}};M.useEffect(()=>(S(),window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)),[i]);const I=x=>{const z=c.current;if(z){const L=z.clientWidth*.7;z.scrollBy({left:x==="left"?-L:L,behavior:"smooth"}),setTimeout(S,350)}};return f.jsxs("div",{className:"category-filter-container",children:[h&&!g&&f.jsx("button",{className:"scroll-arrow left",onClick:()=>I("left"),"aria-label":"Scroll left",children:f.jsx("i",{className:"fas fa-chevron-left"})}),f.jsx("div",{className:"scroll-wrapper",ref:c,onScroll:S,children:f.jsx("ul",{className:r,id:o,children:i.map(x=>f.jsx("li",{className:e===x?"active":"",onClick:()=>n(x),children:x.charAt(0).toUpperCase()+x.slice(1)},x))})}),h&&!v&&f.jsx("button",{className:"scroll-arrow right",onClick:()=>I("right"),"aria-label":"Scroll right",children:f.jsx("i",{className:"fas fa-chevron-right"})})]})},PM=()=>{const{items:i,itemsLoading:e,categories:n}=Ze(),r=Mn(),[o,c]=M.useState("all"),h=M.useMemo(()=>{const g=i.filter(v=>v.status==="approved");return(o==="all"?g:g.filter(v=>v.category.toLowerCase()===o.toLowerCase())).slice(0,6)},[i,o]),p=M.useMemo(()=>["all",...n.map(g=>g.name)],[n]);return f.jsxs("div",{className:"page active",id:"home-page",children:[f.jsx("section",{className:"hero",children:f.jsxs("div",{className:"hero-content",children:[f.jsx("h1",{children:"Borrow What You Need, When You Need It"}),f.jsx("p",{children:"Discover the best rental items for your needs at affordable prices. From tools to electronics, we've got you covered."}),f.jsx("button",{className:"btn btn-primary",onClick:()=>r("/products"),children:"Browse Items"})]})}),f.jsx("section",{className:"products",id:"products",children:f.jsxs("div",{className:"container",children:[f.jsxs("div",{className:"products-header",children:[f.jsx("div",{className:"section-title",children:f.jsx("h2",{children:"Popular Items"})}),f.jsx($b,{categories:p,activeFilter:o,onFilterClick:c,listClassName:"products-filter"})]}),f.jsx("div",{className:"products-grid",children:e?f.jsx("p",{children:"Loading items..."}):h.map(g=>f.jsx(Ag,{item:g},g.id))})]})}),f.jsx("section",{className:"about",id:"about",children:f.jsx("div",{className:"container",children:f.jsxs("div",{className:"about-container",children:[f.jsx("div",{className:"about-img",children:f.jsx("img",{src:"https://images.unsplash.com/photo-1552581234-26160f608093?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",alt:"Rental items"})}),f.jsxs("div",{className:"about-content",children:[f.jsx("h2",{children:"About Our Rental Service"}),f.jsx("p",{children:"We started with a simple idea: to make renting items as easy as possible. Our platform connects people who need items with those who have them to rent."}),f.jsx("p",{children:"With over 10,000 satisfied customers and thousands of items available, we're proud to be the leading rental platform in the region."}),f.jsx(xn,{to:"/about",className:"btn btn-primary",children:"Learn More"})]})]})})})]})},kM=()=>{const{items:i,categories:e,itemsLoading:n}=Ze(),[r,o]=QR(),[c,h]=M.useState(r.get("search")||""),[p,g]=M.useState(r.get("category")||"all"),y=M.useMemo(()=>["all",...e.map(I=>I.name).sort()],[e]),v=M.useMemo(()=>{let I=i.filter(x=>x.status==="approved");return p!=="all"&&(I=I.filter(x=>x.category.toLowerCase()===p.toLowerCase())),c&&(I=I.filter(x=>x.title.toLowerCase().includes(c.toLowerCase())||x.tags&&x.tags.some(z=>z.toLowerCase().includes(c.toLowerCase())))),I},[i,p,c]),w=I=>{g(I);const x=r.get("search")||"";o({category:I,search:x})},S=I=>{const x=I.target.value;h(x),o({category:p,search:x})};return f.jsx("div",{className:"page active",id:"all-products-page",style:{paddingTop:"70px"},children:f.jsxs("div",{className:"container products-page-container",children:[f.jsxs("section",{className:"products-page-header-section",children:[f.jsx("h1",{children:"Our Full Catalog"}),f.jsx("p",{children:"Browse all available items for rent. Use the filters and search to find exactly what you need."})]}),f.jsxs("section",{className:"products-page-controls",children:[f.jsxs("div",{className:"products-page-search-container",children:[f.jsx("i",{className:"fas fa-search search-icon"}),f.jsx("input",{type:"text",className:"search-input",placeholder:"Search by name or tag...",value:c,onChange:S})]}),f.jsx($b,{categories:y,activeFilter:p,onFilterClick:w,listClassName:"products-filter",listId:"productsPageFilter"})]}),n?f.jsxs("div",{className:"loading-dots",children:[f.jsx("span",{children:"."}),f.jsx("span",{children:"."}),f.jsx("span",{children:"."})]}):v.length>0?f.jsx("div",{className:"products-grid",id:"allProductsGrid",children:v.map(I=>f.jsx(Ag,{item:I},I.id))}):f.jsx("div",{className:"no-products-found",children:f.jsx("p",{children:"No items match your current filters or search term."})})]})})},VM=[{name:"Jace R. Torres",role:"Main Developer / Documentation",imgSrc:"https://i.ibb.co/HT0Nz7j1/download-12.jpg"},{name:"Gurkarn Q. Singh",role:"Backup Developer / Documentation",imgSrc:"https://i.ibb.co/MDQJNcRS/download-14.jpg"},{name:"Olive Leigh A. Mendoza",role:"Front End Developer / Design / Documentation",imgSrc:"https://i.ibb.co/Rkm65MZZ/download-13.jpg"},{name:"Romeo Victor D. Nogaliza",role:"Spokeperson / Documentation",imgSrc:"https://i.ibb.co/fGCqLmjw/494888334-1322942232103903-4287235928389679842-n.jpg"}],LM=[{iconClass:"fas fa-handshake",title:"Trust",description:"We build trust through verification systems, secure payments, and community reviews."},{iconClass:"fas fa-leaf",title:"Sustainability",description:"We promote the sharing economy to reduce waste and overconsumption."},{iconClass:"fas fa-users",title:"Community",description:"We believe in bringing people together and strengthening local connections."},{iconClass:"fas fa-gem",title:"Quality",description:"We maintain high standards for the items listed on our platform."}],UM=()=>(M.useEffect(()=>{window.scrollTo(0,0)},[]),f.jsx("div",{className:"page active",id:"about-page",style:{paddingTop:"70px"},children:f.jsxs("div",{className:"container about-page-container",children:[f.jsx("section",{className:"about-hero",children:f.jsxs("div",{className:"about-hero-content",children:[f.jsx("h1",{children:"About HAZEL"}),f.jsx("p",{children:"Connecting people with the things they need through a trusted rental community"})]})}),f.jsxs("section",{className:"our-story",children:[f.jsx("div",{className:"section-title",children:f.jsx("h2",{children:"Our Story"})}),f.jsxs("div",{className:"about-container",children:[f.jsxs("div",{className:"about-content",children:[f.jsx("p",{children:"HAZEL was founded in 2025 with a simple mission: to make renting items as easy as possible. The 4 founders, recognized that many people own items they rarely use, while others need those same items for short periods."}),f.jsx("p",{children:"What started as a small local platform has grown into a nationwide rental community with thousands of users. We've helped people save money, reduce waste, and build connections in their communities."}),f.jsx("p",{children:"Today, we're proud to be the leading peer-to-peer rental platform, offering everything from power tools to party equipment and more."})]}),f.jsx("div",{className:"about-img",children:f.jsx("img",{src:"https://images.unsplash.com/photo-1552581234-26160f608093?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",alt:"HAZEL team working"})})]})]}),f.jsxs("section",{className:"mission-vision",children:[f.jsxs("div",{className:"mission",children:[f.jsx("h2",{children:"Our Mission"}),f.jsx("p",{children:"To create a sustainable sharing economy by making rental access to goods more convenient and affordable than ownership, while building trust between community members."})]}),f.jsxs("div",{className:"vision",children:[f.jsx("h2",{children:"Our Vision"}),f.jsx("p",{children:"We envision a world where people have access to what they need without the burden of ownership, reducing waste and consumption while strengthening local communities."})]})]}),f.jsxs("section",{className:"team-section",children:[f.jsxs("div",{className:"section-title",children:[f.jsx("h2",{children:"Meet Our Team"}),f.jsx("p",{children:"The passionate people behind HAZEL"})]}),f.jsx("div",{className:"team-grid",children:VM.map(i=>f.jsxs("div",{className:"team-member",children:[f.jsx("img",{src:i.imgSrc,alt:i.name,className:"team-member-img"}),f.jsxs("div",{className:"team-member-info",children:[f.jsx("h3",{children:i.name}),f.jsx("p",{children:i.role})]})]},i.name))})]}),f.jsxs("section",{className:"values-section",children:[f.jsxs("div",{className:"section-title",children:[f.jsx("h2",{children:"Our Values"}),f.jsx("p",{children:"The principles that guide everything we do"})]}),f.jsx("div",{className:"values-grid",children:LM.map(i=>f.jsxs("div",{className:"value-card",children:[f.jsx("div",{className:"value-icon",children:f.jsx("i",{className:i.iconClass})}),f.jsx("h3",{children:i.title}),f.jsx("p",{children:i.description})]},i.title))})]})]})})),BM=()=>{const{showToast:i}=Ze(),[e,n]=M.useState({name:"",email:"",subject:"",message:""}),r=c=>{n({...e,[c.target.name]:c.target.value})},o=c=>{if(c.preventDefault(),!e.name||!e.email||!e.subject||!e.message){i("Please fill out all required fields.","error");return}console.log("Form submitted:",e),i("Thank you! Your message has been sent."),n({name:"",email:"",subject:"",message:""})};return f.jsx("div",{className:"page active",id:"contact-page",style:{paddingTop:"70px"},children:f.jsxs("div",{className:"container contact-page-container",children:[f.jsx("section",{className:"contact-hero",children:f.jsxs("div",{className:"contact-hero-content",children:[f.jsx("h1",{children:"Get in Touch"}),f.jsx("p",{children:"We'd love to hear from you! Whether you have a question, feedback, or just want to say hello."})]})}),f.jsxs("section",{className:"contact-content-section",children:[f.jsxs("div",{className:"contact-form-container",children:[f.jsx("h2",{children:"Send Us a Message"}),f.jsxs("form",{id:"contactForm",onSubmit:o,children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"contactName",children:"Full Name*"}),f.jsx("input",{type:"text",id:"contactName",name:"name",value:e.name,onChange:r,required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"contactEmail",children:"Email Address*"}),f.jsx("input",{type:"email",id:"contactEmail",name:"email",value:e.email,onChange:r,required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"contactSubject",children:"Subject*"}),f.jsx("input",{type:"text",id:"contactSubject",name:"subject",value:e.subject,onChange:r,required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"contactMessage",children:"Message*"}),f.jsx("textarea",{id:"contactMessage",name:"message",rows:"6",value:e.message,onChange:r,required:!0})]}),f.jsx("button",{type:"submit",className:"btn btn-primary btn-block",children:"Send Message"})]})]}),f.jsxs("div",{className:"contact-details-container",children:[f.jsx("h2",{children:"Contact Information"}),f.jsx("p",{children:"Feel free to reach out to us through any of the following channels:"}),f.jsxs("ul",{className:"contact-info-list",children:[f.jsxs("li",{children:[f.jsx("i",{className:"fas fa-map-marker-alt"}),f.jsx("span",{children:"123 Rental St, City, Country 12345"})]}),f.jsxs("li",{children:[f.jsx("i",{className:"fas fa-phone"}),f.jsx("span",{children:"(02) 8123-4567"})]}),f.jsxs("li",{children:[f.jsx("i",{className:"fas fa-envelope"}),f.jsx("span",{children:"info@hazel.com"})]}),f.jsxs("li",{children:[f.jsx("i",{className:"fas fa-clock"}),f.jsx("span",{children:"Mon - Fri: 9:00 AM - 6:00 PM"})]})]})]})]})]})})},zM=[{question:"How does HAZEL work?",answer:"HAZEL is a peer-to-peer rental platform. Owners list their items for rent, and renters can browse and book these items for a specific duration. We handle secure payments and provide a framework for communication and trust between users."},{question:"Is it safe to rent items from others?",answer:"Yes. We prioritize safety and trust. We encourage all users to complete our Identity Verification process. Additionally, our review system allows you to see feedback from other users, and our secure messaging system lets you communicate with the owner before you rent."},{question:"What happens if an item I rent gets damaged?",answer:"Renters are responsible for the items during the rental period. We recommend you communicate with the owner immediately if any damage occurs. Many owners specify their own terms regarding damages and late fees in the listing description. Disputes can be mediated through our support team."}],qM=({item:i,isOpen:e,onClick:n})=>f.jsxs("div",{className:`faq-item ${e?"active":""}`,children:[f.jsxs("div",{className:"faq-question",onClick:n,children:[f.jsx("span",{children:i.question}),f.jsx("i",{className:"fas fa-chevron-down"})]}),f.jsx("div",{className:"faq-answer",style:{maxHeight:e?"200px":"0"},children:f.jsx("p",{children:i.answer})})]}),HM=()=>{const[i,e]=M.useState(null),n=r=>{e(i===r?null:r)};return f.jsx("div",{className:"page active",id:"faq-page",style:{paddingTop:"70px"},children:f.jsxs("div",{className:"container faq-page-container",children:[f.jsx("section",{className:"faq-hero",children:f.jsxs("div",{className:"faq-hero-content",children:[f.jsx("h1",{children:"Frequently Asked Questions"}),f.jsx("p",{children:"Find answers to common questions about using HAZEL."})]})}),f.jsx("section",{className:"faq-list",children:f.jsx("div",{className:"faq-accordion",children:zM.map((r,o)=>f.jsx(qM,{item:r,isOpen:i===o,onClick:()=>n(o)},o))})})]})})},FM=()=>f.jsx("div",{className:"page active",id:"privacy-policy-page",style:{paddingTop:"70px"},children:f.jsxs("div",{className:"container privacy-policy-page-container",children:[f.jsx("section",{className:"privacy-policy-hero",children:f.jsxs("div",{className:"privacy-policy-hero-content",children:[f.jsx("h1",{children:"Privacy Policy"}),f.jsx("p",{children:"Last updated: October 26, 2025"})]})}),f.jsxs("section",{className:"privacy-policy-content",children:[f.jsx("p",{children:'HAZEL ("us", "we", or "our") operates the HAZEL website (the "Service"). This page informs you of our policies regarding the collection, use, and disclosure of personal data when you use our Service and the choices you have associated with that data.'}),f.jsx("h2",{children:"Information Collection and Use"}),f.jsx("p",{children:"We collect several different types of information for various purposes to provide and improve our Service to you."}),f.jsx("h3",{children:"Types of Data Collected"}),f.jsxs("ul",{children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Personal Data:"}),' While using our Service, we may ask you to provide us with certain personally identifiable information that can be used to contact or identify you ("Personal Data"). This may include, but is not limited to: Email address, First name and last name, Phone number, Address, and payment information.']}),f.jsxs("li",{children:[f.jsx("strong",{children:"Usage Data:"}),` We may also collect information on how the Service is accessed and used ("Usage Data"). This may include your computer's IP address, browser type, pages visited, and other diagnostic data.`]})]}),f.jsx("h2",{children:"Data Security"}),f.jsx("p",{children:"The security of your data is important to us, but remember that no method of transmission over the Internet or method of electronic storage is 100% secure. While we strive to use commercially acceptable means to protect your Personal Data, we cannot guarantee its absolute security."})]})]})}),GM=({rating:i,setRating:e})=>{const[n,r]=M.useState(0);return f.jsx("div",{className:"star-rating",children:[...Array(5)].map((o,c)=>{const h=c+1;return f.jsxs("label",{children:[f.jsx("input",{type:"radio",name:"rating",value:h,onClick:()=>e(h),hidden:!0}),f.jsx("i",{className:`fas fa-star star ${h<=(n||i)?"active":""}`,onMouseEnter:()=>r(h),onMouseLeave:()=>r(0)})]},c)})})},YM=({productId:i,productTitle:e,closeModal:n})=>{const{currentUser:r,showToast:o}=Ze(),[c,h]=M.useState(0),[p,g]=M.useState(""),y=v=>{if(v.preventDefault(),c===0||!p){o("Please provide a rating and a review text.");return}console.log({productId:i,rating:c,reviewText:p,user:r.email}),o("Thank you for your review!"),n()};return f.jsx("div",{className:"modal",style:{display:"flex"},children:f.jsxs("div",{className:"modal-container",children:[f.jsxs("div",{className:"modal-header",children:[f.jsxs("h2",{children:["Leave a Review for ",e]}),f.jsx("button",{className:"modal-close-btn",onClick:n,children:"×"})]}),f.jsx("div",{className:"modal-body",children:f.jsxs("form",{id:"reviewForm",onSubmit:y,children:[f.jsxs("div",{className:"form-group star-rating-container",children:[f.jsx("label",{children:"Your Rating*"}),f.jsx(GM,{rating:c,setRating:h})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"reviewerName",children:"Your Name*"}),f.jsx("input",{type:"text",id:"reviewerName",value:r.name||"",readOnly:!0,required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"reviewText",children:"Your Review*"}),f.jsx("textarea",{id:"reviewText",rows:"5",value:p,onChange:v=>g(v.target.value),required:!0})]}),f.jsx("button",{type:"submit",className:"btn btn-primary btn-block",children:"Submit Review"})]})})]})})},$M=()=>{const{id:i}=aR(),e=Mn(),{items:n,addToCart:r,currentUser:o,showToast:c,openChat:h,allProfiles:p}=Ze(),[g,y]=M.useState(null),[v,w]=M.useState(""),[S,I]=M.useState({days:"1",deliveryFee:"0",startDate:""}),[x,z]=M.useState(!1),L=M.useMemo(()=>!g||!p.length?null:p.find(pe=>pe.id===g.ownerId),[g,p]);M.useEffect(()=>{window.scrollTo(0,0);const pe=n.find(P=>P.id===i);pe?(y(pe),w(pe.image_url)):n.length>0&&(c("Sorry, that listing could not be found."),e("/products"))},[i,n,e,c]);const J=M.useMemo(()=>{if(!g)return{total:0,perDay:0};const pe=g.price_per_day,P=parseInt(S.days);let R=pe*P;const C=R/P;return{total:R,perDay:C}},[g,S.days]),Q=pe=>I(P=>({...P,[pe.target.name]:pe.target.value})),ie=()=>{if(!o){c("Please login to rent an item.");return}if(o.uid===g.ownerId){c("You cannot rent your own item.");return}if(!S.startDate){c("Please select a rental start date.");return}const pe={itemId:g.id,title:g.title,image_url:g.image_url,rentalDurationDays:parseInt(S.days),rentalTotalCost:J.total,deliveryOption:S.deliveryFee==="0"?"pickup":"delivery",deliveryFee:parseInt(S.deliveryFee),rentalStartDate:S.startDate,ownerId:g.ownerId};r(pe)&&e("/cart")},he=async()=>{if(!o){c("Please login to chat with the owner.");return}if(!L){c("Owner information not available.");return}const pe={id:L.id,name:`${L.firstName} ${L.lastName}`,profile_pic_url:L.profile_pic_url};h(pe)},ue=()=>new Date().toISOString().split("T")[0];return g?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"page active listing-page",style:{paddingTop:"70px"},children:f.jsxs("div",{className:"container listing-container",children:[f.jsxs("div",{className:"listing-content",children:[f.jsxs("div",{className:"listing-images",children:[f.jsx("div",{className:"thumbnail-images",children:f.jsx("img",{src:g.image_url,alt:`${g.title} Thumbnail`,className:"thumbnail-img",onClick:()=>w(g.image_url)})}),f.jsx("img",{src:v,alt:g.title,className:"main-image"})]}),f.jsxs("div",{className:"listing-details",children:[f.jsx("h1",{className:"listing-title",children:g.title}),f.jsxs("div",{className:"listing-price",children:["₱",J.total.toFixed(2)," for ",S.days," day(s)",parseInt(S.days)>1&&f.jsxs("span",{children:[" (₱",J.perDay.toFixed(2),"/day)"]})]}),f.jsxs("div",{className:"listing-meta",children:[f.jsxs("div",{className:"meta-item",children:[f.jsx("i",{className:"fas fa-user"})," Owner: ",f.jsx("span",{className:"listing-owner-name",children:L?`${L.firstName} ${L.lastName}`:"N/A"})]}),f.jsxs("div",{className:"meta-item",children:[f.jsx("i",{className:"fas fa-tag"})," Category: ",f.jsx("span",{className:"listing-category",children:g.category})]}),g.tags&&g.tags.length>0&&f.jsxs("div",{className:"meta-item",children:[f.jsx("i",{className:"fas fa-tags"})," Tags: ",f.jsx("span",{className:"listing-tags",children:g.tags.join(", ")})]})]}),f.jsx("div",{className:"listing-description",children:f.jsx("p",{children:g.description})}),f.jsxs("div",{className:"rental-options",children:[f.jsxs("div",{className:"option-group",children:[f.jsx("label",{htmlFor:"rentalDays",children:"Rental Duration"}),f.jsxs("select",{id:"rentalDays",name:"days",value:S.days,onChange:Q,children:[f.jsx("option",{value:"1",children:"1 day"}),f.jsx("option",{value:"3",children:"3 days"}),f.jsx("option",{value:"7",children:"7 days"})]})]}),f.jsxs("div",{className:"option-group",children:[f.jsx("label",{htmlFor:"deliveryOption",children:"Delivery Option"}),f.jsxs("select",{id:"deliveryOption",name:"deliveryFee",value:S.deliveryFee,onChange:Q,children:[f.jsx("option",{value:"0",children:"Pickup - Free"}),f.jsx("option",{value:"15",children:"Delivery - ₱15"})]})]}),f.jsxs("div",{className:"option-group",children:[f.jsx("label",{htmlFor:"rentalDate",children:"Rental Start Date"}),f.jsx("input",{type:"date",id:"rentalDate",name:"startDate",min:ue(),value:S.startDate,onChange:Q})]})]}),o&&o.role==="renter"&&f.jsxs("button",{className:"btn btn-primary btn-block",onClick:ie,children:[f.jsx("i",{className:"fas fa-cart-plus"})," Add to Cart"]}),o&&L&&o.uid!==L.id&&f.jsxs("button",{className:"btn btn-outline btn-block listing-chat-owner-btn",onClick:he,children:[f.jsx("i",{className:"fas fa-comments"})," Chat with Owner"]})]})]}),f.jsxs("div",{className:"reviews-section",id:`reviews-section-${g.id}`,children:[f.jsx("h3",{children:"Customer Reviews"}),f.jsx("p",{children:"No reviews yet for this listing."}),o&&o.role==="renter"&&f.jsx("button",{className:"btn btn-outline",style:{marginTop:"20px"},onClick:()=>z(!0),children:"Leave a Review"})]})]})}),x&&f.jsx(YM,{itemId:g.id,itemTitle:g.title,closeModal:()=>z(!1)})]}):f.jsx("div",{style:{paddingTop:"100px",textAlign:"center"},children:"Loading listing..."})},KM=()=>{const{cart:i,removeFromCart:e,currentUser:n}=Ze(),r=Mn();if(!n)return f.jsx("div",{className:"page active",style:{paddingTop:"70px",textAlign:"center"},children:f.jsxs("div",{className:"container",children:[f.jsx("h1",{children:"Please Login"}),f.jsx("p",{children:"You need to be logged in to view your cart."})]})});const o=i.reduce((p,g)=>p+g.rentalTotalCost,0),c=o*.05,h=o+c;return f.jsx("div",{className:"page active",id:"cart-page",style:{paddingTop:"70px"},children:f.jsxs("div",{className:"container cart-page-container",children:[f.jsxs("section",{className:"checkout-header-section",children:[f.jsx("h1",{children:"Your Shopping Cart"}),f.jsx("p",{children:"Review the items you've selected for rental."})]}),i.length===0?f.jsx("p",{className:"cart-empty-message",children:"Your shopping cart is empty."}):f.jsxs("div",{className:"cart-grid",children:[f.jsx("div",{className:"cart-items-list",children:i.map(p=>f.jsxs("div",{className:"cart-item",children:[f.jsx("img",{src:p.image_url,alt:p.title,className:"cart-item-image"}),f.jsxs("div",{className:"cart-item-details",children:[f.jsx("h3",{children:p.title}),f.jsxs("p",{children:["Duration: ",p.rentalDurationDays," day(s)"]}),f.jsxs("p",{children:["Start Date: ",new Date(p.rentalStartDate).toLocaleDateString()]}),f.jsxs("p",{children:["Delivery: ",p.deliveryOption]})]}),f.jsxs("div",{className:"cart-item-price",children:["₱",p.rentalTotalCost.toFixed(2)]}),f.jsx("button",{className:"cart-item-remove-btn",onClick:()=>e(p.itemId),children:"×"})]},p.itemId))}),f.jsxs("aside",{className:"cart-summary",children:[f.jsx("h2",{children:"Summary"}),f.jsxs("div",{className:"price-row",children:[f.jsx("span",{children:"Subtotal:"}),f.jsxs("span",{id:"cartSubtotal",children:["₱",o.toFixed(2)]})]}),f.jsxs("div",{className:"price-row",children:[f.jsx("span",{children:"Service Fee (5%):"}),f.jsxs("span",{id:"cartServiceFee",children:["₱",c.toFixed(2)]})]}),f.jsx("hr",{}),f.jsxs("div",{className:"price-row total-row",children:[f.jsx("span",{children:"Total:"}),f.jsxs("span",{id:"cartTotal",children:["₱",h.toFixed(2)]})]}),f.jsx("button",{className:"btn btn-primary btn-block",onClick:()=>r("/checkout"),children:"Proceed to Checkout"})]})]})]})})},QM=()=>{const{cart:i,currentUser:e,items:n,clearCart:r,showToast:o,rentalAgreementTemplate:c,generateAndPrintReceipt:h,addRentalRecord:p}=Ze(),g=Mn(),[y,v]=M.useState(!1),[w,S]=M.useState(!1),[I,x]=M.useState(!1),[z,L]=M.useState(null),[J,Q]=M.useState({cardNumber:"",expiryDate:"",cvv:""});M.useEffect(()=>{!e||i.length===0?I||g("/items"):e.payment_info&&Q({cardNumber:e.payment_info.cardNumber||"",expiryDate:e.payment_info.expiryDate||"",cvv:e.payment_info.cvv||""})},[e,i,g,I]);const ie=M.useMemo(()=>i.reduce((O,k)=>O+k.rentalTotalCost,0),[i]),he=M.useMemo(()=>i.reduce((O,k)=>O+k.deliveryFee,0),[i]),ue=M.useMemo(()=>ie*.05,[ie]),pe=M.useMemo(()=>ie+he+ue,[ie,he,ue]),P=M.useMemo(()=>{const O=e?`${e.first_name} ${e.last_name}`:"The Renter",k=i.map(U=>{const D=n.find(yt=>yt.id===U.itemId);return`<li><b>${D?.title||"Unknown Item"}</b> (owned by ${D?.ownerName||"Owner"}) - ${U.rentalDurationDays} day(s) starting ${new Date(U.rentalStartDate).toLocaleDateString()}. ${D?.ownerTerms||""}</li>`}).join("");return c.replace(/\[Renter Name\]/g,O).replace(/\[List of Items and Terms\]/g,`<ul>${k}</ul>`)},[i,n,c,e]),R=O=>{const{id:k,value:U}=O.target,D=k.replace("checkout","").charAt(0).toLowerCase()+k.replace("checkout","").slice(1);Q({...J,[D]:U})},C=async O=>{O.preventDefault(),S(!0),o("Processing payment...");const k={transactionId:`HZL-TRX-${Date.now()}`,date:new Date().toISOString(),items:[...i],rentalCost:ie,deliveryFee:he,serviceFee:ue,totalAmount:pe};await new Promise(U=>setTimeout(U,2e3)),await p(k),L(k),S(!1),x(!0),o("Rental Confirmed! Thank you."),r()};return f.jsx("div",{className:"page active",id:"checkout-page",style:{paddingTop:"70px"},children:f.jsxs("div",{className:"container checkout-page-container",children:[f.jsxs("section",{className:"checkout-header-section",children:[f.jsx("h1",{children:I?"Rental Confirmed!":"Complete Your Rental"}),f.jsx("p",{children:I?"Thank you for your order. A receipt is available for your records.":"Please review and agree to the terms before payment."})]}),I?f.jsxs("div",{className:"checkout-confirmation-section",children:[f.jsx("i",{className:"fas fa-check-circle"}),f.jsxs("div",{style:{marginTop:"20px",display:"flex",justifyContent:"center",gap:"15px"},children:[f.jsxs("button",{className:"btn btn-success",onClick:()=>h(z),children:[f.jsx("i",{className:"fas fa-print"})," Print Receipt"]}),f.jsxs("button",{className:"btn btn-primary",onClick:()=>g("/profile/rental-tracker"),children:[f.jsx("i",{className:"fas fa-route"})," View My Rentals"]})]})]}):f.jsxs("div",{className:"checkout-content-grid",children:[f.jsxs("div",{className:"checkout-forms-container",children:[f.jsxs("div",{id:"checkout-agreement-section",children:[f.jsx("h3",{children:"Rental Agreement"}),f.jsx("div",{className:"agreement-content",dangerouslySetInnerHTML:{__html:P}}),f.jsxs("div",{className:"form-group",style:{display:"flex",alignItems:"center",gap:"10px"},children:[f.jsx("input",{type:"checkbox",id:"checkoutAgreementCheckbox",checked:y,onChange:O=>v(O.target.checked)}),f.jsx("label",{htmlFor:"checkoutAgreementCheckbox",style:{marginBottom:0},children:"I have read and agree to all terms."})]})]}),f.jsx("div",{id:"checkout-payment-section",className:y?"":"disabled",children:f.jsxs("form",{id:"checkoutForm",onSubmit:C,children:[f.jsx("div",{className:"checkout-section",children:f.jsx("h3",{children:"Payment Details"})}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"checkoutCardNumber",children:"Card Number"}),f.jsx("input",{type:"text",id:"checkoutCardNumber",placeholder:"4242 4242 4242 4242",required:!0,value:J.cardNumber,onChange:R})]}),f.jsxs("div",{className:"form-group-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"checkoutExpiryDate",children:"Expiry Date"}),f.jsx("input",{type:"text",id:"checkoutExpiryDate",placeholder:"MM/YY",required:!0,value:J.expiryDate,onChange:R})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"checkoutCvv",children:"CVV"}),f.jsx("input",{type:"text",id:"checkoutCvv",placeholder:"123",required:!0,value:J.cvv,onChange:R})]})]}),f.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:!y||w,children:w?"Processing...":`Confirm & Pay ₱${pe.toFixed(2)}`})]})})]}),f.jsxs("aside",{className:"checkout-order-summary",children:[f.jsx("h2",{children:"Order Summary"}),f.jsx("div",{id:"checkoutItemDetails",children:i.map(O=>(n.find(k=>k.id===O.itemId),f.jsxs("div",{className:"checkout-summary-item",children:[f.jsx("img",{src:O.image_url,alt:O.title}),f.jsxs("div",{className:"checkout-summary-item-info",children:[f.jsx("h4",{children:O.title}),f.jsxs("p",{children:[O.rentalDurationDays," day(s) at ₱",O.rentalTotalCost.toFixed(2)]})]})]},O.itemId)))}),f.jsxs("div",{className:"checkout-price-breakdown",children:[f.jsxs("div",{className:"price-row",children:[f.jsx("span",{className:"label",children:"Rental Cost:"})," ",f.jsxs("span",{children:["₱",ie.toFixed(2)]})]}),f.jsxs("div",{className:"price-row",children:[f.jsx("span",{className:"label",children:"Delivery Fee:"})," ",f.jsxs("span",{children:["₱",he.toFixed(2)]})]}),f.jsxs("div",{className:"price-row",children:[f.jsx("span",{className:"label",children:"Service Fee (5%):"})," ",f.jsxs("span",{children:["₱",ue.toFixed(2)]})]}),f.jsx("hr",{}),f.jsxs("div",{className:"price-row total",children:[f.jsx("span",{className:"label",children:"Total:"})," ",f.jsxs("span",{children:["₱",pe.toFixed(2)]})]})]})]})]})]})})},XM=()=>{const{currentUser:i,isLoading:e,logout:n}=Ze(),r=Mn();M.useEffect(()=>{e||(i?i.role==="admin"&&r("/admin"):r("/"))},[i,e,r]);const o=async g=>{g.preventDefault(),await n()};if(e||!i)return f.jsx("div",{style:{paddingTop:"100px",textAlign:"center"},children:"Loading Profile..."});const c=[{path:"/profile",end:!0,icon:"fas fa-tachometer-alt",label:"Dashboard"},{path:"my-listings",icon:"fas fa-list",label:"My Listings"},{path:"messages",icon:"fas fa-comments",label:"Messages"},{path:"rental-tracker",icon:"fas fa-route",label:"Rental Tracker"},{path:"settings",icon:"fas fa-cog",label:"Settings"}],h=[{path:"/profile",end:!0,icon:"fas fa-tachometer-alt",label:"Dashboard"},{path:"favorites",icon:"fas fa-heart",label:"Favorites"},{path:"messages",icon:"fas fa-comments",label:"Messages"},{path:"rental-tracker",icon:"fas fa-route",label:"Rental Tracker"},{path:"settings",icon:"fas fa-cog",label:"Settings"}],p=i.role==="owner"?c:h;return f.jsx("div",{className:"page active",id:"profilePage",style:{paddingTop:"70px"},children:f.jsx("div",{className:"container profile-page-main-container",children:f.jsxs("div",{className:"profile-container",children:[f.jsxs("aside",{className:"profile-sidebar",children:[f.jsx("img",{src:i.profile_pic||"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1160&q=80",alt:"Profile",id:"profilePicSidebar"}),f.jsx("h3",{children:i.name}),f.jsx("p",{children:i.email}),f.jsxs("ul",{className:"sidebar-menu",children:[p.map(g=>f.jsx("li",{children:f.jsxs(si,{to:g.path,end:g.end,children:[f.jsx("i",{className:g.icon})," ",g.label]})},g.path)),f.jsx("li",{children:f.jsxs("a",{href:"#",onClick:o,children:[f.jsx("i",{className:"fas fa-sign-out-alt"})," Logout"]})})]})]}),f.jsx("main",{className:"profile-main-content",children:f.jsx(Cp,{})})]})})})},WM=()=>{const{currentUser:i,isLoading:e,logout:n}=Ze(),r=Mn();M.useEffect(()=>{!e&&(!i||i.role!=="admin")&&r("/")},[i,e,r]);const o=async c=>{c.preventDefault(),await n()};return e||!i?f.jsx("div",{style:{paddingTop:"100px",textAlign:"center"},children:"Authorizing..."}):f.jsx("div",{className:"page active",id:"adminDashboardPage",style:{paddingTop:"70px"},children:f.jsxs("div",{className:"container admin-dashboard-container",children:[f.jsxs("aside",{className:"admin-sidebar",children:[f.jsx("img",{src:i.profile_pic||"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1160&q=80",alt:"Admin Profile",id:"adminSidebarPic"}),f.jsx("h3",{children:i.name}),f.jsx("p",{children:i.email}),f.jsxs("ul",{className:"sidebar-menu",children:[f.jsx("li",{children:f.jsxs(si,{to:"/admin",end:!0,children:[f.jsx("i",{className:"fas fa-chart-line"})," Overview"]})}),f.jsx("li",{children:f.jsxs(si,{to:"/admin/users",children:[f.jsx("i",{className:"fas fa-users-cog"})," User Management"]})}),f.jsx("li",{children:f.jsxs(si,{to:"/admin/listings",children:[f.jsx("i",{className:"fas fa-tasks"})," Listing Management"]})}),f.jsx("li",{children:f.jsxs(si,{to:"/admin/content",children:[f.jsx("i",{className:"fas fa-file-alt"})," Content Management"]})}),f.jsx("li",{children:f.jsxs(si,{to:"/admin/settings",children:[f.jsx("i",{className:"fas fa-user-cog"})," Admin Settings"]})}),f.jsx("li",{children:f.jsxs("a",{href:"#",onClick:o,children:[f.jsx("i",{className:"fas fa-sign-out-alt"})," Logout"]})})]})]}),f.jsx("main",{className:"admin-main-content",children:f.jsx(Cp,{})})]})})},ZM=()=>{const{currentUser:i,chatThreads:e,openChat:n,closeChat:r,chatPartner:o,chatMessages:c,sendMessage:h}=Ze(),[p,g]=QT.useState(""),y=M.useRef(null);M.useEffect(()=>{y.current?.scrollIntoView({behavior:"smooth"})},[c]),M.useEffect(()=>{!o&&e.length>0&&n(e[0].partner)},[e,o,n]);const v=()=>{p.trim()&&(h(p),g(""))};return i?f.jsx("div",{className:"page active",id:"chat-page",style:{paddingTop:"70px"},children:f.jsxs("div",{className:"chat-inbox-container",children:[f.jsxs("aside",{className:"conversation-list",children:[f.jsx("div",{className:"inbox-header",children:f.jsx("h2",{children:"Inbox"})}),e.map(w=>f.jsxs("div",{className:`conversation-item ${o?.email===w.partner.email?"active":""}`,onClick:()=>n(w.partner),children:[f.jsx("img",{src:w.partner.profilePic||"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1160&q=80",alt:w.partner.name,className:"conversation-avatar"}),f.jsxs("div",{className:"conversation-details",children:[f.jsx("h4",{children:w.partner.name}),f.jsx("p",{children:w.messages.length>0?w.messages[w.messages.length-1].content:"No messages yet"})]}),w.unreadCount>0&&f.jsx("span",{className:"unread-badge",children:w.unreadCount})]},w.thread_id))]}),f.jsx("main",{className:"active-chat-window",children:o?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"chat-header",children:f.jsx("h3",{children:o.name})}),f.jsxs("div",{className:"chat-messages-container",children:[c.map(w=>{const S=w.sender_email===i.email,I=new Date(w.created_at).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"});return f.jsx("div",{className:`chat-message ${S?"sent":"received"}`,children:f.jsxs("div",{className:"message-content",children:[f.jsx("span",{className:"message-sender",children:S?"You":o.name}),w.content,f.jsx("span",{className:"message-timestamp",children:I})]})},w.id)}),f.jsx("div",{ref:y})]}),f.jsxs("div",{className:"chat-input-area",children:[f.jsx("input",{type:"text",className:"chat-message-input",placeholder:"Type your message...",value:p,onChange:w=>g(w.target.value),onKeyPress:w=>w.key==="Enter"&&v()}),f.jsx("button",{className:"chat-send-message-btn",onClick:v,children:f.jsx("i",{className:"fas fa-paper-plane"})})]})]}):f.jsx("div",{className:"no-chat-selected",children:f.jsx("p",{children:"Select a conversation to start chatting."})})})]})}):f.jsx("div",{className:"page active",style:{paddingTop:"100px",textAlign:"center"},children:"Please log in to view your messages."})},JM=({user:i,items:e,ownerLentHistory:n})=>{const r=e.filter(h=>h.ownerId===i.id).length,o=n.filter(h=>h.status==="Active").length,c=n.filter(h=>h.status==="Completed").reduce((h,p)=>h+p.rentalTotalCost,0);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"profile-view-header",children:[f.jsxs("h1",{children:["Welcome, ",i.name,"!"]}),f.jsx("p",{children:"Here's an overview of your rental activity."})]}),f.jsxs("div",{className:"analytics-grid",children:[f.jsxs("div",{className:"analytics-card",children:[f.jsx("div",{className:"analytics-value",children:r}),f.jsx("div",{className:"analytics-label",children:"Total Listings"})]}),f.jsxs("div",{className:"analytics-card",children:[f.jsx("div",{className:"analytics-value",children:o}),f.jsx("div",{className:"analytics-label",children:"Items Rented Out"})]}),f.jsxs("div",{className:"analytics-card",children:[f.jsxs("div",{className:"analytics-value",children:["₱",c.toFixed(2)]}),f.jsx("div",{className:"analytics-label",children:"Total Earnings"})]})]})]})},ej=({user:i,rentalHistory:e})=>f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"profile-view-header",children:[f.jsxs("h1",{children:["Welcome, ",i.name,"!"]}),f.jsx("p",{children:"Here's a summary of your account."})]}),f.jsx("div",{className:"analytics-grid",children:f.jsxs("div",{className:"analytics-card",children:[f.jsx("div",{className:"analytics-value",children:e?e.filter(n=>n.status==="Active").length:0}),f.jsx("div",{className:"analytics-label",children:"Active Rentals"})]})})]}),tj=()=>{const{currentUser:i,items:e,rentalHistory:n,ownerLentHistory:r}=Ze();return i?f.jsx("div",{className:"profile-view",children:i.role==="owner"?f.jsx(JM,{user:i,items:e,ownerLentHistory:r}):f.jsx(ej,{user:i,rentalHistory:n})}):null},nj=({itemToEdit:i,closeModal:e})=>{const{addItem:n,updateItem:r,showToast:o,categories:c,tags:h}=Ze(),p=!!i,g={title:"",categoryId:"",price_per_day:"",image_url:"",description:"",tags:""},[y,v]=M.useState(g);M.useEffect(()=>{if(p&&i){const x=c.find(z=>z.name===i.category);v({title:i.title||"",categoryId:x?x.id:"",price_per_day:i.price_per_day?String(i.price_per_day):"",image_url:i.image_url||"",description:i.description||"",tags:i.tags?i.tags.join(", "):""})}else v(g)},[i,p,c]);const w=x=>{v({...y,[x.target.name]:x.target.value})},S=x=>x.trim()?x.split(",").map(L=>L.trim().toLowerCase()).map(L=>{const J=h.find(Q=>Q.name.toLowerCase()===L);return J?J.id:null}).filter(Boolean):[],I=x=>{if(x.preventDefault(),!y.title||!y.categoryId||!y.price_per_day||!y.image_url||!y.description){o("Please fill out all required fields marked with *.");return}const z=parseFloat(y.price_per_day);if(isNaN(z)||z<=0){o("Please enter a valid positive number for the price.");return}const L={title:y.title,categoryId:y.categoryId,price_per_day:z,image_url:y.image_url,description:y.description,tags:S(y.tags)};p?r(i.id,L):n(L),e()};return f.jsx("div",{className:"modal",style:{display:"flex"},children:f.jsxs("div",{className:"modal-container",children:[f.jsxs("div",{className:"modal-header",children:[f.jsx("h2",{children:p?"Edit Listing":"Create New Listing"}),f.jsx("button",{className:"modal-close-btn",onClick:e,children:"×"})]}),f.jsx("div",{className:"modal-body",children:f.jsxs("form",{onSubmit:I,children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Title*"}),f.jsx("input",{type:"text",name:"title",value:y.title,onChange:w,required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Category*"}),f.jsxs("select",{name:"categoryId",value:y.categoryId,onChange:w,required:!0,children:[f.jsx("option",{value:"",disabled:!0,children:"Select a Category"}),c.map(x=>f.jsx("option",{value:x.id,children:x.name},x.id))]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Price per day ($)*"}),f.jsx("input",{type:"number",name:"price_per_day",value:y.price_per_day,onChange:w,required:!0,placeholder:"25.00",step:"0.01",min:"0.01"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Image URL*"}),f.jsx("input",{type:"url",name:"image_url",value:y.image_url,onChange:w,required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Tags (comma-separated)"}),f.jsx("input",{type:"text",name:"tags",value:y.tags,onChange:w})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Description*"}),f.jsx("textarea",{name:"description",rows:"4",value:y.description,onChange:w,required:!0})]}),f.jsx("button",{type:"submit",className:"btn btn-primary btn-block",children:p?"Save Changes":"Submit Listing"})]})})]})})},ij=({item:i,onEdit:e,onDelete:n})=>f.jsxs("div",{className:"product-card",children:[f.jsx("img",{src:i.image_url,alt:i.title,className:"product-img"}),f.jsxs("div",{className:"product-info",children:[f.jsx("span",{className:"product-category",children:i.category}),f.jsx("h3",{className:"product-title",children:i.title}),f.jsxs("div",{className:"product-price",children:["$",i.price_per_day,"/day"]}),f.jsxs("div",{className:"product-meta profile-card-meta",children:[f.jsxs("button",{className:"btn btn-outline btn-small",onClick:()=>e(i),children:[f.jsx("i",{className:"fas fa-edit"})," Edit"]}),f.jsxs("button",{className:"btn btn-danger btn-small",onClick:()=>n(i.id),children:[f.jsx("i",{className:"fas fa-trash"})," Delete"]})]})]})]}),sj=()=>{const{currentUser:i,items:e,deleteItem:n}=Ze(),[r,o]=M.useState(!1),[c,h]=M.useState(null),p=w=>{h(w),o(!0)},g=()=>{h(null),o(!0)},y=w=>{window.confirm("Are you sure you want to delete this listing? This action cannot be undone.")&&n(w)},v=i?e.filter(w=>w.ownerId===i.uid):[];return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"profile-view",children:[f.jsxs("div",{className:"profile-view-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx("h1",{children:"My Listings"}),f.jsx("button",{className:"btn btn-primary",onClick:g,children:"Add New Listing"})]}),v.length>0?f.jsx("div",{className:"products-grid",children:v.map(w=>f.jsx(ij,{item:w,onEdit:p,onDelete:y},w.id))}):f.jsx("p",{children:`You haven't listed any items yet. Click "Add New Listing" to get started!`})]}),r&&f.jsx(nj,{itemToEdit:c,closeModal:()=>o(!1)})]})},rj=()=>{const{items:i,favorites:e,itemsLoading:n}=Ze();if(n)return f.jsxs("div",{className:"profile-view",children:[f.jsx("div",{className:"profile-view-header",children:f.jsx("h1",{children:"My Favorites"})}),f.jsx("p",{children:"Loading favorites..."})]});const r=e.map(o=>i.find(c=>c.id===o)).filter(Boolean);return f.jsxs("div",{className:"profile-view",children:[f.jsx("div",{className:"profile-view-header",children:f.jsx("h1",{children:"My Favorites"})}),r.length>0?f.jsx("div",{className:"products-grid",children:r.map(o=>f.jsx(Ag,{item:o},o.id))}):f.jsx("p",{children:"You haven't favorited any items yet. Click the heart icon on any item to save it here."})]})},aj=()=>{const{currentUser:i,showToast:e,updateUser:n,updateUserPassword:r}=Ze(),[o,c]=M.useState({name:"",profile_pic_url:"",location:"",phone:""}),[h,p]=M.useState({newPassword:"",confirmNewPassword:""});M.useEffect(()=>{i&&c({name:`${i.first_name||""} ${i.last_name||""}`.trim(),profile_pic_url:i.profile_pic_url||"",location:i.location||"",phone:i.phone||""})},[i]);const g=w=>c({...o,[w.target.name]:w.target.value}),y=w=>p({...h,[w.target.name]:w.target.value}),v=async w=>{w.preventDefault();const[S,...I]=o.name.split(" "),x=I.join(" "),z={first_name:S,last_name:x,profile_pic_url:o.profile_pic_url,location:o.location,phone:o.phone};if(await n(i.uid,z),h.newPassword){if(h.newPassword!==h.confirmNewPassword){e("New passwords do not match.");return}await r(h.newPassword),p({newPassword:"",confirmNewPassword:""})}};return f.jsxs("div",{className:"profile-view",children:[f.jsx("div",{className:"profile-view-header",children:f.jsx("h1",{children:"Settings"})}),f.jsxs("form",{onSubmit:v,children:[f.jsx("h3",{children:"Personal Information"}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Full Name*"}),f.jsx("input",{type:"text",name:"name",value:o.name,onChange:g,required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Email"}),f.jsx("input",{type:"email",name:"email",value:i?.email||"",readOnly:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Profile Picture URL"}),f.jsx("input",{type:"url",name:"profile_pic_url",value:o.profile_pic_url,onChange:g})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Location"}),f.jsx("input",{type:"text",name:"location",value:o.location,onChange:g})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Phone Number"}),f.jsx("input",{type:"text",name:"phone",value:o.phone,onChange:g})]}),f.jsx("hr",{}),f.jsx("h3",{children:"Change Password"}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"New Password"}),f.jsx("input",{type:"password",name:"newPassword",value:h.newPassword,onChange:y})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Confirm New Password"}),f.jsx("input",{type:"password",name:"confirmNewPassword",value:h.confirmNewPassword,onChange:y})]}),f.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save All Changes"})]})]})},$T=({rental:i,item:e,isOwnerView:n,onStatusUpdate:r,onPrint:o})=>f.jsxs("div",{className:"rental-tracker-item",children:[f.jsx("img",{src:e.image_url,alt:e.title}),f.jsxs("div",{className:"rental-tracker-info",children:[f.jsx("h4",{children:e.title}),n?f.jsxs("p",{children:["Rented by: ",i.renterName]}):f.jsxs("p",{children:["Owner: ",e.ownerName]}),f.jsxs("p",{children:["Start Date: ",new Date(i.rentalStartDate).toLocaleDateString()]}),f.jsxs("p",{children:["Status: ",f.jsx("span",{className:i.status==="Active"?"status-active":"status-rented",children:i.status})]})]}),f.jsxs("div",{className:"rental-tracker-actions",children:[n&&i.status==="Active"&&f.jsx("button",{className:"btn btn-success btn-small",onClick:()=>r(i.transactionId,"Completed"),children:"Mark as Returned"}),!n&&f.jsxs("button",{className:"btn btn-outline btn-small",onClick:()=>o(i),children:[f.jsx("i",{className:"fas fa-print"})," Print Receipt"]})]})]}),oj=()=>{const{currentUser:i,items:e,rentalHistory:n,ownerLentHistory:r,generateAndPrintReceipt:o,updateRentalStatus:c}=Ze();if(!i)return f.jsxs("div",{className:"profile-view",children:[f.jsx("div",{className:"profile-view-header",children:f.jsx("h1",{children:"Rental Tracker"})}),f.jsx("p",{children:"Loading rental history..."})]});const h=v=>{const w={transactionId:v.transactionId,date:v.rentalStartDate,items:[{itemId:v.itemId,rentalDurationDays:v.rentalDurationDays,rentalTotalCost:v.rentalTotalCost}],rentalCost:v.rentalTotalCost,deliveryFee:v.deliveryFee,serviceFee:v.serviceFee,totalAmount:v.totalAmount};o(w)},p=i.role==="owner"?r:n,g=p.filter(v=>v.status==="Active"),y=p.filter(v=>v.status==="Completed");return f.jsxs("div",{className:"profile-view",children:[f.jsxs("div",{className:"profile-view-header",children:[f.jsx("h1",{children:"Rental Tracker"}),f.jsx("p",{children:i.role==="owner"?"Track items you've lent out.":"Track items you've rented."})]}),f.jsxs("div",{id:"rentalTrackerGrid",children:[f.jsx("h3",{children:"Active Rentals"}),g.length>0?g.map(v=>{const w=e.find(S=>S.id===v.itemId);return w?f.jsx($T,{rental:v,item:w,isOwnerView:i.role==="owner",onStatusUpdate:c,onPrint:h},v.transactionId):null}):f.jsx("p",{children:"You have no active rentals."}),f.jsx("h3",{children:"Completed Rentals"}),y.length>0?y.map(v=>{const w=e.find(S=>S.id===v.itemId);return w?f.jsx($T,{rental:v,item:w,isOwnerView:i.role==="owner",onPrint:h},v.transactionId):null}):f.jsx("p",{children:"You have no completed rentals."})]})]})},lj=()=>{const{chatThreads:i}=Ze(),e=Mn(),n=r=>{e(`/chat?thread_id=${r}`)};return f.jsxs("div",{className:"profile-view",children:[f.jsxs("div",{className:"profile-view-header",children:[f.jsx("h1",{children:"My Conversations"}),f.jsx("p",{children:"Select a conversation to view your chat history."})]}),f.jsx("div",{className:"chat-thread-list",children:i?i.length>0?i.map(r=>r.partner?f.jsxs("div",{className:"chat-thread-item",onClick:()=>n(r.thread_id),children:[f.jsx("img",{src:r.partner.profile_pic,alt:r.partner.name,className:"chat-thread-avatar"}),f.jsxs("div",{className:"chat-thread-info",children:[f.jsx("h4",{children:r.partner.name}),f.jsx("p",{children:r.last_message_content?`${r.last_message_content.substring(0,40)}...`:"No messages yet"})]}),r.unread_count>0&&f.jsx("span",{className:"unread-count-badge",children:r.unread_count})]},r.thread_id):null):f.jsx("p",{children:"You have no active conversations. Start a chat with an item owner to see it here."}):f.jsx("p",{children:"Loading conversations..."})})]})},cj=()=>{const{allProfiles:i,items:e,isLoading:n}=Ze();if(n)return f.jsx("p",{children:"Loading overview..."});const r=i?i.length:0,o=e?e.length:0;return f.jsxs("div",{className:"admin-view",children:[f.jsx("div",{className:"admin-view-header",children:f.jsx("h1",{children:"Admin Overview"})}),f.jsxs("div",{className:"analytics-grid",children:[f.jsxs("div",{className:"analytics-card",children:[f.jsx("div",{className:"analytics-value",children:r}),f.jsx("div",{className:"analytics-label",children:"Total Users"})]}),f.jsxs("div",{className:"analytics-card",children:[f.jsx("div",{className:"analytics-value",children:o}),f.jsx("div",{className:"analytics-label",children:"Total Listings"})]})]})]})},uj=()=>{const{allProfiles:i,isLoading:e,updateUserStatus:n,deleteUser:r}=Ze();if(e||!i)return f.jsx("p",{children:"Loading user data..."});const o=(h,p)=>{n(h,p)},c=h=>{window.confirm("Are you sure you want to delete this user?")&&r(h)};return f.jsxs("div",{className:"admin-view",children:[f.jsx("div",{className:"admin-view-header",children:f.jsx("h1",{children:"User Management"})}),f.jsx("div",{className:"admin-table-container",children:f.jsxs("table",{className:"admin-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Name"}),f.jsx("th",{children:"Email"}),f.jsx("th",{children:"Role"}),f.jsx("th",{children:"Status"}),f.jsx("th",{children:"Actions"})]})}),f.jsx("tbody",{children:i.map(h=>f.jsxs("tr",{children:[f.jsxs("td",{children:[h.firstName," ",h.lastName]}),f.jsx("td",{children:h.email}),f.jsx("td",{children:h.role}),f.jsx("td",{children:f.jsx("span",{className:`status-${h.verification_status||"unverified"}`,children:h.verification_status||"unverified"})}),f.jsxs("td",{className:"admin-actions",children:[f.jsx("button",{onClick:()=>o(h.id,"verified"),className:"btn-accept",children:"Accept"}),f.jsx("button",{onClick:()=>o(h.id,"rejected"),className:"btn-reject",children:"Reject"}),f.jsx("button",{onClick:()=>c(h.id),className:"btn-delete",children:"Delete"})]})]},h.id))})]})})]})},hj=()=>{const{items:i,updateItemStatus:e,deleteItem:n,allProfiles:r}=Ze(),o=(g,y)=>{e(g,y)},c=g=>{window.confirm("ADMIN: Are you sure you want to PERMANENTLY delete this listing? This is irreversible.")&&n(g)},h=g=>{const y=r.find(v=>v.id===g);return y?`${y.firstName} ${y.lastName}`:"N/A"},p=g=>{const y=r.find(v=>v.id===g);return y?y.email:"No Email"};return f.jsxs("div",{className:"admin-view",children:[f.jsxs("div",{className:"admin-view-header",children:[f.jsx("h1",{children:"Listing Management"}),f.jsx("p",{children:"Manage item availability and delete listings."})]}),f.jsx("div",{className:"admin-table-container",children:f.jsxs("table",{className:"admin-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Title"}),f.jsx("th",{children:"Owner"}),f.jsx("th",{children:"Status"}),f.jsx("th",{children:"Actions"})]})}),f.jsx("tbody",{children:i.map(g=>f.jsxs("tr",{children:[f.jsx("td",{children:g.title}),f.jsxs("td",{children:[h(g.ownerId),f.jsxs("div",{className:"admin-listing-owner-info",children:[p(g.ownerId)," (",g.ownerId||"No ID",")"]})]}),f.jsx("td",{children:f.jsx("span",{className:`status-${g.status}`,children:g.status})}),f.jsxs("td",{className:"admin-actions",children:[f.jsx("button",{onClick:()=>o(g.id,"approved"),className:"btn btn-success btn-small",children:"Accept"}),f.jsx("button",{onClick:()=>o(g.id,"rejected"),className:"btn btn-secondary btn-small",children:"Reject"}),f.jsx("button",{onClick:()=>c(g.id),className:"btn btn-danger btn-small",children:"Delete"})]})]},g.id))})]})})]})},dj=()=>{const{currentUser:i,showToast:e,updateUser:n,updateUserPassword:r}=Ze(),[o,c]=M.useState({first_name:"",last_name:"",profile_pic_url:""}),[h,p]=M.useState({newPassword:"",confirmNewPassword:""});M.useEffect(()=>{i&&c({first_name:i.first_name||"",last_name:i.last_name||"",profile_pic_url:i.profile_pic_url||""})},[i]);const g=w=>{c({...o,[w.target.name]:w.target.value})},y=w=>{p({...h,[w.target.name]:w.target.value})},v=async w=>{if(w.preventDefault(),await n(i.uid,o),h.newPassword){if(h.newPassword!==h.confirmNewPassword){e("New passwords do not match.");return}await r(h.newPassword),p({newPassword:"",confirmNewPassword:""})}};return f.jsxs("div",{className:"admin-view",children:[f.jsx("div",{className:"admin-view-header",children:f.jsx("h1",{children:"Admin Account Settings"})}),f.jsxs("form",{onSubmit:v,children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"First Name*"}),f.jsx("input",{type:"text",name:"first_name",value:o.first_name,onChange:g,required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Last Name*"}),f.jsx("input",{type:"text",name:"last_name",value:o.last_name,onChange:g,required:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Email"}),f.jsx("input",{type:"email",value:i?.email||"",readOnly:!0})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Profile Picture URL"}),f.jsx("input",{type:"url",name:"profile_pic_url",value:o.profile_pic_url,onChange:g})]}),f.jsx("hr",{}),f.jsx("h3",{children:"Change Password"}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"New Password"}),f.jsx("input",{type:"password",name:"newPassword",value:h.newPassword,onChange:y})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Confirm New Password"}),f.jsx("input",{type:"password",name:"confirmNewPassword",value:h.confirmNewPassword,onChange:y})]}),f.jsx("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})]})},fj=()=>{const{rentalAgreementTemplate:i,setRentalAgreementTemplate:e,showToast:n}=Ze(),[r,o]=M.useState(i),c=()=>{e(r),n("Templates saved successfully!")};return f.jsxs("div",{className:"admin-view",children:[f.jsxs("div",{className:"admin-view-header",children:[f.jsx("h1",{children:"Content & Template Management"}),f.jsx("p",{children:"Edit site-wide templates and important text content."})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Standard Rental Agreement Snippet:"}),f.jsx("textarea",{rows:"10",value:r,onChange:h=>o(h.target.value)})]}),f.jsx("button",{className:"btn btn-primary",onClick:c,children:"Save Templates"})]})};function mj(){return f.jsx(TR,{children:f.jsxs(lt,{path:"/",element:f.jsx(jM,{}),children:[f.jsx(lt,{index:!0,element:f.jsx(PM,{})}),f.jsx(lt,{path:"products",element:f.jsx(kM,{})}),f.jsx(lt,{path:"about",element:f.jsx(UM,{})}),f.jsx(lt,{path:"contact",element:f.jsx(BM,{})}),f.jsx(lt,{path:"faq",element:f.jsx(HM,{})}),f.jsx(lt,{path:"privacy-policy",element:f.jsx(FM,{})}),f.jsx(lt,{path:"listing/:id",element:f.jsx($M,{})}),f.jsx(lt,{path:"cart",element:f.jsx(KM,{})}),f.jsx(lt,{path:"checkout",element:f.jsx(QM,{})}),f.jsx(lt,{path:"chat",element:f.jsx(ZM,{})}),f.jsxs(lt,{path:"profile",element:f.jsx(XM,{}),children:[f.jsx(lt,{index:!0,element:f.jsx(tj,{})}),f.jsx(lt,{path:"my-listings",element:f.jsx(sj,{})}),f.jsx(lt,{path:"favorites",element:f.jsx(rj,{})}),f.jsx(lt,{path:"rental-tracker",element:f.jsx(oj,{})}),f.jsx(lt,{path:"messages",element:f.jsx(lj,{})}),f.jsx(lt,{path:"settings",element:f.jsx(aj,{})})]}),f.jsxs(lt,{path:"admin",element:f.jsx(WM,{}),children:[f.jsx(lt,{index:!0,element:f.jsx(cj,{})}),f.jsx(lt,{path:"users",element:f.jsx(uj,{})}),f.jsx(lt,{path:"listings",element:f.jsx(hj,{})}),f.jsx(lt,{path:"content",element:f.jsx(fj,{})}),f.jsx(lt,{path:"settings",element:f.jsx(dj,{})})]})]})})}IA.createRoot(document.getElementById("root")).render(f.jsx(QT.StrictMode,{children:f.jsx(GR,{children:f.jsx(G2,{children:f.jsx(mj,{})})})}));
